import {
  protoOf180f3jzyo7rfj as protoOf,
  initMetadataForInterface1egvbzx539z91 as initMetadataForInterface,
  VOID3gxj6tk5isa35 as VOID,
  CoroutineImpl2sn3kjnwmfr10 as CoroutineImpl,
  get_COROUTINE_SUSPENDED3ujt3p13qm4iy as get_COROUTINE_SUSPENDED,
  Unit_getInstance3uavtu4x7ly6a as Unit_getInstance,
  initMetadataForCoroutine1i7lbatuf5bnt as initMetadataForCoroutine,
  KMutableProperty11e8g1gb0ecb9j as KMutableProperty1,
  getPropertyCallableRef3hckxc0xueiaj as getPropertyCallableRef,
  ensureNotNull1e947j3ixpazm as ensureNotNull,
  toString1pkumu07cwy4m as toString,
  IllegalArgumentException_init_$Create$1j1aj36nbo0wg as IllegalArgumentException_init_$Create$,
  fromInt1lka3ktyu79a4 as fromInt,
  IllegalStateException_init_$Create$2429fvs1h56dm as IllegalStateException_init_$Create$,
  initMetadataForClassbxx6q50dy2s7 as initMetadataForClass,
  THROW_CCE2g6jy02ryeudk as THROW_CCE,
  initMetadataForLambda3af3he42mmnh as initMetadataForLambda,
  isInterface3d6p8outrmvmk as isInterface,
  add85si75olwt6n as add,
  Long2qws0ah9gnpki as Long,
  coerceAtMostmgknbongtqt as coerceAtMost,
  convertToIntofdoxh9bstof as convertToInt,
  subtract16cg4lfi29fq9 as subtract,
  compare2uud5j30pw5xc as compare,
  equalsLong28bsrfhwvd686 as equalsLong,
  StringBuilder_init_$Create$322n630qt3r8c as StringBuilder_init_$Create$,
  CancellationException_init_$Create$1si37m043yo1h as CancellationException_init_$Create$,
  SuspendFunction118o2kzhbyvufs as SuspendFunction1,
  CancellationException3b36o9qz53rgr as CancellationException,
  CancellationException_init_$Init$2h1hgwga3ygtl as CancellationException_init_$Init$,
  captureStack1fzi4aczwc4hg as captureStack,
  EmptyCoroutineContext_getInstance10e98b8bnsvr1 as EmptyCoroutineContext_getInstance,
  equals2au1ep9vhcato as equals,
  toByte4i43936u611k as toByte,
  toShort36kaw0zjdq3ex as toShort,
  shiftRightUnsigned1kzopyqvwpisb as shiftRightUnsigned,
  bitwiseAnd2g7wmsfd45l12 as bitwiseAnd,
  StringBuilder_init_$Create$39ouzl6b47q8d as StringBuilder_init_$Create$_0,
  charSequenceLength3278n89t01tmv as charSequenceLength,
  initMetadataForCompanion1wyw17z38v6ac as initMetadataForCompanion,
  hashCodeq5arwsb9dgti as hashCode,
  toString1h6jjoch8cjt8 as toString_0,
  objectCreate1ve4bgxiu4x98 as objectCreate,
  Exceptiondt2hlxn7j7vw as Exception,
  Exception_init_$Init$2jymvyiuv5u42 as Exception_init_$Init$,
  shiftRight2cr6y79ufiihy as shiftRight,
  shiftLeft1ck77p6vapyra as shiftLeft,
  bitwiseOr1ita6dahwp8zb as bitwiseOr,
  numberToLong345n6tb1n1i71 as numberToLong,
  numberToChar93r9buh19yek as numberToChar,
  charSequenceGet1vxk1y5n17t1z as charSequenceGet,
  UnsupportedOperationException_init_$Create$2lfzu48ce8q66 as UnsupportedOperationException_init_$Create$,
  Appendable2jwuled8ugwna as Appendable,
  coerceAtLeast2bkz8m9ik7hep as coerceAtLeast,
  coerceAtMost322komnqp70ag as coerceAtMost_0,
  Char__toInt_impl_vasixd3jl92hthlhyn7 as Char__toInt_impl_vasixd,
  toRawBits2035dtuolth0v as toRawBits,
  toRawBits3bthuu8natj5y as toRawBits_0,
  encodeToByteArray1onwao0uakjfh as encodeToByteArray,
  _UShort___get_data__impl__g02451ec7jdumy4xob as _UShort___get_data__impl__g0245,
  IndexOutOfBoundsException_init_$Create$1rd2xj3xtaoo6 as IndexOutOfBoundsException_init_$Create$,
  CharSequence1ceii1xorfwh7 as CharSequence,
  UnsupportedOperationException_init_$Create$2mt8zfs17dxxt as UnsupportedOperationException_init_$Create$_0,
  _UShort___init__impl__jigrne3qim87o3qpsbl as _UShort___init__impl__jigrne,
  Char19o2r8palgjof as Char,
  isLowSurrogateujxcv7hjn4ma as isLowSurrogate,
  isHighSurrogate11jfjw70ar0zf as isHighSurrogate,
  _Char___init__impl__6a9atx1csff5kwtduxl as _Char___init__impl__6a9atx,
  toString30pk9tzaqopn as toString_1,
  lazy2hsh8ze7j6ikd as lazy,
  KProperty1ca4yb4wlo496 as KProperty1,
  initMetadataForObject1cxne3s9w65el as initMetadataForObject,
  replaceqbix900hl8kl as replace,
  getStringHashCode26igk1bx568vk as getStringHashCode,
  extendThrowable112s72v177bbq as extendThrowable,
  charSequenceSubSequence1iwpdba8s3jc7 as charSequenceSubSequence,
  THROW_IAE23kobfj9wdoxr as THROW_IAE,
  Enum3alwj03lh1n41 as Enum,
  charCodeAt1yspne1d8erbm as charCodeAt,
  IndexOutOfBoundsException_init_$Create$3kg46kb85v7m as IndexOutOfBoundsException_init_$Create$_0,
  Exception_init_$Init$gwg5c35cbjjd as Exception_init_$Init$_0,
  isCharSequence1ju9jr1w86plq as isCharSequence,
  trim11nh7r46at6sx as trim,
  decodeToString1x4faah2liw2p as decodeToString,
  setOf45ia9pnfhe90 as setOf,
} from './kotlin-kotlin-stdlib.js';
import {
  atomic$ref$130aurmcwdfdf1 as atomic$ref$1,
  atomic$long$129k9zwo6n9ogd as atomic$long$1,
  atomic$int$11d5swdyn6j0pu as atomic$int$1,
} from './88b0986a7186d029-atomicfu-js-ir.js';
import {
  Job29shfjfygy86k as Job,
  CoroutineScopefcb5f5dwqcas as CoroutineScope,
  cancel$defaultmp0movkeqi2s as cancel$default,
  cancel$default3jli2aaano5py as cancel$default_0,
  invokeOnCompletion$defaultev9m7gf4tqep as invokeOnCompletion$default,
  Key_getInstance17damr2928780 as Key_getInstance,
  launch1c91vkjzdi9sd as launch,
  Key_getInstance3bg8thpsd0vrc as Key_getInstance_0,
  Dispatchers_getInstancewbokwrm9sosb as Dispatchers_getInstance,
  Job13y4jkazwjho0 as Job_0,
} from './kotlinx.coroutines-kotlinx-coroutines-core-js-ir.js';
import Util from '@ohos.util';
//region block: imports
var imul = Math.imul;
//endregion
//region block: pre-declaration
function readRemaining$default(limit, $completion, $super) {
  limit = limit === VOID ? new Long(-1, 2147483647) : limit;
  return $super === VOID ? this.readRemaining_nblam0_k$(limit, $completion) : $super.readRemaining_nblam0_k$.call(this, limit, $completion);
}
function peekTo$default(destination, destinationOffset, offset, min, max, $completion, $super) {
  offset = offset === VOID ? new Long(0, 0) : offset;
  min = min === VOID ? new Long(1, 0) : min;
  max = max === VOID ? new Long(-1, 2147483647) : max;
  return $super === VOID ? this.peekTo_ypcho2_k$(destination, destinationOffset, offset, min, max, $completion) : $super.peekTo_ypcho2_k$.call(this, destination, destinationOffset, offset, min, max, $completion);
}
initMetadataForInterface(ByteReadChannel_1, 'ByteReadChannel', VOID, VOID, VOID, [3, 1, 2, 0, 5]);
initMetadataForInterface(ByteWriteChannel, 'ByteWriteChannel', VOID, VOID, VOID, [3, 1, 0]);
initMetadataForInterface(ByteChannel, 'ByteChannel', VOID, VOID, [ByteReadChannel_1, ByteWriteChannel], [3, 1, 2, 0, 5]);
initMetadataForCoroutine($tryAwaitCOROUTINE$, CoroutineImpl);
initMetadataForInterface(WriterSession, 'WriterSession');
initMetadataForInterface(WriterSuspendSession, 'WriterSuspendSession', VOID, VOID, [WriterSession], [1]);
initMetadataForClass(ByteChannelSequentialBase$beginWriteSession$1, VOID, VOID, VOID, [WriterSuspendSession], [1]);
initMetadataForLambda(ByteChannelSequentialBase$readUTF8LineTo$slambda, CoroutineImpl, [CoroutineImpl], [1]);
initMetadataForLambda(ByteChannelSequentialBase$peekTo$slambda, CoroutineImpl, [CoroutineImpl], [1]);
initMetadataForCoroutine($awaitAtLeastNBytesAvailableForWriteCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($awaitAtLeastNBytesAvailableForReadCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeByteCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeShortCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeIntCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeLongCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeFloatCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeDoubleCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writePacketCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeFullyCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeFullyCOROUTINE$_0, CoroutineImpl);
initMetadataForCoroutine($writeFullyCOROUTINE$_1, CoroutineImpl);
initMetadataForCoroutine($writeAvailableCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeAvailableCOROUTINE$_0, CoroutineImpl);
initMetadataForCoroutine($readByteCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readByteSlowCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readShortCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readShortSlowCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readIntCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readIntSlowCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readLongCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readLongSlowCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readFloatCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readFloatSlowCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readDoubleCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readDoubleSlowCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readRemainingCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readRemainingSuspendCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readPacketCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readPacketSuspendCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readAvailableCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readFullyCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readFullySuspendCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readAvailableCOROUTINE$_0, CoroutineImpl);
initMetadataForCoroutine($readFullyCOROUTINE$_0, CoroutineImpl);
initMetadataForCoroutine($readFullySuspendCOROUTINE$_0, CoroutineImpl);
initMetadataForCoroutine($readBooleanCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readBooleanSlowCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($awaitInternalAtLeast1COROUTINE$, CoroutineImpl);
initMetadataForCoroutine($awaitSuspendCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($discardCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($discardSuspendCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readSuspendableSessionCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readUTF8LineCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeAvailableSuspendCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($writeAvailableSuspendCOROUTINE$_0, CoroutineImpl);
initMetadataForCoroutine($awaitFreeSpaceCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($awaitContentCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($peekToCOROUTINE$, CoroutineImpl);
function request$default(atLeast, $super) {
  atLeast = atLeast === VOID ? 1 : atLeast;
  return $super === VOID ? this.request_oh1f6f_k$(atLeast) : $super.request_oh1f6f_k$.call(this, atLeast);
}
initMetadataForInterface(ReadSession, 'ReadSession');
function await$default(atLeast, $completion, $super) {
  atLeast = atLeast === VOID ? 1 : atLeast;
  return $super === VOID ? this.await_wm3xku_k$(atLeast, $completion) : $super.await_wm3xku_k$.call(this, atLeast, $completion);
}
initMetadataForInterface(SuspendableReadSession, 'SuspendableReadSession', VOID, VOID, [ReadSession], [1]);
initMetadataForInterface(HasReadSession, 'HasReadSession');
initMetadataForInterface(HasWriteSession, 'HasWriteSession');
initMetadataForClass(ByteChannelSequentialBase, 'ByteChannelSequentialBase', VOID, VOID, [ByteChannel, ByteReadChannel_1, ByteWriteChannel, SuspendableReadSession, HasReadSession, HasWriteSession], [1, 3, 0, 2, 5]);
initMetadataForCoroutine($copyAndCloseCOROUTINE$, CoroutineImpl);
initMetadataForClass(ClosedWriteChannelException, 'ClosedWriteChannelException', VOID, CancellationException);
initMetadataForClass(CloseElement, 'CloseElement');
initMetadataForInterface(WriterJob, 'WriterJob', VOID, VOID, [Job], [0]);
initMetadataForInterface(WriterScope, 'WriterScope', VOID, VOID, [CoroutineScope]);
initMetadataForInterface(ReaderJob, 'ReaderJob', VOID, VOID, [Job], [0]);
initMetadataForClass(ChannelJob, 'ChannelJob', VOID, VOID, [ReaderJob, WriterJob, Job], [0]);
initMetadataForInterface(ReaderScope, 'ReaderScope', VOID, VOID, [CoroutineScope]);
initMetadataForClass(ChannelScope, 'ChannelScope', VOID, VOID, [ReaderScope, WriterScope, CoroutineScope]);
initMetadataForLambda(launchChannel$slambda, CoroutineImpl, [CoroutineImpl], [1]);
initMetadataForInterface(Allocator, 'Allocator');
initMetadataForClass(MalformedInputException, 'MalformedInputException', VOID, Error);
initMetadataForClass(TooLongLineException, 'TooLongLineException', VOID, MalformedInputException);
initMetadataForCompanion(Companion);
initMetadataForClass(Buffer, 'Buffer');
initMetadataForClass(InsufficientSpaceException, 'InsufficientSpaceException', InsufficientSpaceException, Exception);
initMetadataForInterface(Closeable, 'Closeable');
function close() {
  this.dispose_3nnxhr_k$();
}
initMetadataForInterface(ObjectPool, 'ObjectPool', VOID, VOID, [Closeable]);
initMetadataForClass(DefaultPool, 'DefaultPool', VOID, VOID, [ObjectPool]);
initMetadataForClass(DefaultBufferPool, 'DefaultBufferPool', DefaultBufferPool, DefaultPool);
initMetadataForClass(Output, 'Output', VOID, VOID, [Appendable, Closeable]);
initMetadataForClass(BytePacketBuilder, 'BytePacketBuilder', BytePacketBuilder, Output);
initMetadataForCompanion(Companion_0);
initMetadataForClass(Input, 'Input', VOID, VOID, [Closeable]);
initMetadataForClass(ByteReadPacket, 'ByteReadPacket', VOID, Input);
initMetadataForCompanion(Companion_1);
initMetadataForClass(Input$readAvailableCharacters$out$1, VOID, VOID, VOID, [Appendable]);
initMetadataForClass(CharArraySequence, 'CharArraySequence', VOID, VOID, [CharSequence]);
initMetadataForClass(ChunkBuffer$Companion$EmptyPool$1, VOID, VOID, VOID, [ObjectPool]);
initMetadataForClass(NoPoolImpl, 'NoPoolImpl', VOID, VOID, [ObjectPool]);
initMetadataForClass(ChunkBuffer$Companion$NoPool$1, VOID, VOID, NoPoolImpl);
initMetadataForClass(ChunkBuffer$Companion$NoPoolManuallyManaged$1, VOID, VOID, NoPoolImpl);
initMetadataForCompanion(Companion_2);
initMetadataForClass(ChunkBuffer, 'ChunkBuffer', VOID, Buffer);
initMetadataForClass(EncodeResult, 'EncodeResult');
initMetadataForClass(MalformedUTF8InputException, 'MalformedUTF8InputException', VOID, Exception);
initMetadataForCoroutine($decodeUTF8LineLoopSuspendCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($sleepCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($trySuspendCOROUTINE$, CoroutineImpl);
initMetadataForClass(AwaitingSlot, 'AwaitingSlot', AwaitingSlot, VOID, VOID, [1]);
initMetadataForCoroutine($copyToSequentialImplCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($copyToTailCOROUTINE$, CoroutineImpl);
initMetadataForClass(ByteArrayPool$1, VOID, VOID, DefaultPool);
initMetadataForCoroutine($readAvailableCOROUTINE$_1, CoroutineImpl);
initMetadataForCoroutine($readAvailableSuspendCOROUTINE$, CoroutineImpl);
initMetadataForCoroutine($readFullySuspendCOROUTINE$_1, CoroutineImpl);
initMetadataForClass(ByteChannelJS, 'ByteChannelJS', VOID, ByteChannelSequentialBase, VOID, [3, 1, 0, 2, 5]);
initMetadataForCompanion(Companion_3);
initMetadataForObject(DefaultAllocator, 'DefaultAllocator', VOID, VOID, [Allocator]);
initMetadataForCompanion(Companion_4);
initMetadataForClass(Memory, 'Memory');
initMetadataForCompanion(Companion_5);
initMetadataForClass(Charset, 'Charset');
initMetadataForObject(Charsets, 'Charsets');
initMetadataForClass(CharsetDecoder, 'CharsetDecoder');
initMetadataForClass(CharsetEncoder, 'CharsetEncoder');
initMetadataForClass(CharsetImpl, 'CharsetImpl', VOID, Charset);
initMetadataForClass(CharsetEncoderImpl, 'CharsetEncoderImpl', VOID, CharsetEncoder);
initMetadataForClass(CharsetDecoderImpl, 'CharsetDecoderImpl', VOID, CharsetDecoder);
initMetadataForClass(DecodeBufferResult, 'DecodeBufferResult');
initMetadataForCompanion(Companion_6);
initMetadataForClass(ByteOrder, 'ByteOrder', VOID, Enum);
initMetadataForClass(IOException, 'IOException', VOID, Exception);
initMetadataForClass(EOFException, 'EOFException', VOID, IOException);
initMetadataForInterface(Decoder, 'Decoder');
initMetadataForClass(toKtor$1, VOID, VOID, VOID, [Decoder]);
initMetadataForClass(TextDecoderFallback, 'TextDecoderFallback', VOID, VOID, [Decoder]);
initMetadataForClass(toKtor$1_0, VOID, VOID, VOID, [Decoder]);
//endregion
function ByteChannel() {
}
function ByteReadChannel(content) {
  return ByteReadChannel_0(content, 0, content.length);
}
function $tryAwaitCOROUTINE$(_this__u8e3s4, n, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.n_1 = n;
}
protoOf($tryAwaitCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this._this__u8e3s4__1.this$0__1.get_availableForWrite_22rgeu_k$() < this.n_1) {
            this.set_state_rjd8d0_k$(1);
            suspendResult = this._this__u8e3s4__1.this$0__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(this.n_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 1:
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return Unit_getInstance();
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function _get__lastReadView__ij231d($this) {
  return $this._lastReadView_1;
}
function _get__totalBytesRead__ypqfud($this) {
  return $this._totalBytesRead_1;
}
function _get__totalBytesWritten__yty2ze($this) {
  return $this._totalBytesWritten_1;
}
function _get__availableForRead__1rfsys($this) {
  return $this._availableForRead_1;
}
function _get_channelSize__ptruy5($this) {
  return $this.channelSize_1;
}
function _get__closed__hglk9y($this) {
  return $this._closed_1;
}
function _get_isCancelled__nhbn6y($this) {
  var tmp0_safe_receiver = $this._closed_1.get_kotlinx$atomicfu$value_vi2am5_k$();
  return !((tmp0_safe_receiver == null ? null : tmp0_safe_receiver.get_cause_iplhs0_k$()) == null);
}
function _set_lastReadAvailable__98ukjs($this, _set____db54di) {
  var tmp0 = $this.lastReadAvailable$delegate_1;
  var tmp = KMutableProperty1;
  var tmp_0 = ByteChannelSequentialBase$_get_lastReadAvailable_$ref_jigq96_0();
  // Inline function 'kotlinx.atomicfu.AtomicInt.setValue' call
  getPropertyCallableRef('lastReadAvailable', 1, tmp, tmp_0, ByteChannelSequentialBase$_set_lastReadAvailable_$ref_po32ou_0());
  tmp0.set_kotlinx$atomicfu$value_nm6d3_k$(_set____db54di);
  return Unit_getInstance();
}
function _get_lastReadAvailable__cgybqk($this) {
  var tmp0 = $this.lastReadAvailable$delegate_1;
  var tmp = KMutableProperty1;
  var tmp_0 = ByteChannelSequentialBase$_get_lastReadAvailable_$ref_jigq96();
  // Inline function 'kotlinx.atomicfu.AtomicInt.getValue' call
  getPropertyCallableRef('lastReadAvailable', 1, tmp, tmp_0, ByteChannelSequentialBase$_set_lastReadAvailable_$ref_po32ou());
  return tmp0.get_kotlinx$atomicfu$value_vi2am5_k$();
}
function _set_lastReadView__2y3peu($this, _set____db54di) {
  var tmp0 = $this.lastReadView$delegate_1;
  var tmp = KMutableProperty1;
  var tmp_0 = ByteChannelSequentialBase$_get_lastReadView_$ref_shp9tu_0();
  // Inline function 'kotlinx.atomicfu.AtomicRef.setValue' call
  getPropertyCallableRef('lastReadView', 1, tmp, tmp_0, ByteChannelSequentialBase$_set_lastReadView_$ref_lez8y_0());
  tmp0.set_kotlinx$atomicfu$value_508e3y_k$(_set____db54di);
  return Unit_getInstance();
}
function _get_lastReadView__ihufyy($this) {
  var tmp0 = $this.lastReadView$delegate_1;
  var tmp = KMutableProperty1;
  var tmp_0 = ByteChannelSequentialBase$_get_lastReadView_$ref_shp9tu();
  // Inline function 'kotlinx.atomicfu.AtomicRef.getValue' call
  getPropertyCallableRef('lastReadView', 1, tmp, tmp_0, ByteChannelSequentialBase$_set_lastReadView_$ref_lez8y());
  return tmp0.get_kotlinx$atomicfu$value_vi2am5_k$();
}
function _get_slot__ddq6fh($this) {
  return $this.slot_1;
}
function _get_flushMutex__shnjf4($this) {
  return $this.flushMutex_1;
}
function _get_flushBuffer__b837ot($this) {
  return $this.flushBuffer_1;
}
function flushImpl($this) {
  if ($this.writable_1.get_isEmpty_zauvru_k$()) {
    $this.slot_1.resume_2o15jx_k$();
    return false;
  }
  flushWrittenBytes($this);
  $this.slot_1.resume_2o15jx_k$();
  return true;
}
function flushWrittenBytes($this) {
  // Inline function 'kotlinx.atomicfu.locks.synchronized' call
  $this.flushMutex_1;
  var size = $this.writable_1.get_size_woubt6_k$();
  var buffer = ensureNotNull($this.writable_1.stealAll_z3t1nh_k$());
  $this.flushBuffer_1.writeChunkBuffer_16n4v5_k$(buffer);
  $this._availableForRead_1.atomicfu$addAndGet(size);
}
function ensureNotClosed($this) {
  if ($this.get_closed_byjrzp_k$()) {
    var tmp0_elvis_lhs = $this.get_closedCause_o1qcj8_k$();
    throw tmp0_elvis_lhs == null ? new ClosedWriteChannelException('Channel ' + toString($this) + ' is already closed') : tmp0_elvis_lhs;
  }
}
function ensureNotFailed($this) {
  var tmp0_safe_receiver = $this.get_closedCause_o1qcj8_k$();
  if (tmp0_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    throw tmp0_safe_receiver;
  }
}
function ensureNotFailed_0($this, closeable) {
  var tmp0_safe_receiver = $this.get_closedCause_o1qcj8_k$();
  if (tmp0_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    closeable.release_wu5yyf_k$();
    throw tmp0_safe_receiver;
  }
}
function checkClosed($this, remaining, closeable) {
  var tmp0_safe_receiver = $this.get_closedCause_o1qcj8_k$();
  if (tmp0_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    if (closeable == null)
      null;
    else {
      closeable.close_yn9xrc_k$();
    }
    throw tmp0_safe_receiver;
  }
  if ($this.get_closed_byjrzp_k$() && $this.get_availableForRead_tq0sox_k$() < remaining) {
    if (closeable == null)
      null;
    else {
      closeable.close_yn9xrc_k$();
    }
    throw new EOFException('' + remaining + ' bytes required but EOF reached');
  }
}
function checkClosed$default($this, remaining, closeable, $super) {
  closeable = closeable === VOID ? null : closeable;
  return checkClosed($this, remaining, closeable);
}
function readByteSlow($this, $completion) {
  var tmp = new $readByteSlowCOROUTINE$($this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readShortSlow($this, $completion) {
  var tmp = new $readShortSlowCOROUTINE$($this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readIntSlow($this, $completion) {
  var tmp = new $readIntSlowCOROUTINE$($this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readLongSlow($this, $completion) {
  var tmp = new $readLongSlowCOROUTINE$($this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readFloatSlow($this, $completion) {
  var tmp = new $readFloatSlowCOROUTINE$($this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readDoubleSlow($this, $completion) {
  var tmp = new $readDoubleSlowCOROUTINE$($this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readRemainingSuspend($this, builder, limit, $completion) {
  var tmp = new $readRemainingSuspendCOROUTINE$($this, builder, limit, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readPacketSuspend($this, builder, size, $completion) {
  var tmp = new $readPacketSuspendCOROUTINE$($this, builder, size, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readFully($this, dst, n, $completion) {
  var tmp = new $readFullyCOROUTINE$($this, dst, n, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readFullySuspend($this, dst, n, $completion) {
  var tmp = new $readFullySuspendCOROUTINE$($this, dst, n, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readFullySuspend_0($this, dst, offset, length, $completion) {
  var tmp = new $readFullySuspendCOROUTINE$_0($this, dst, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readBooleanSlow($this, $completion) {
  var tmp = new $readBooleanSlowCOROUTINE$($this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function completeReading($this) {
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var this_0 = _get_lastReadView__ihufyy($this);
  var remaining = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
  var delta = _get_lastReadAvailable__cgybqk($this) - remaining | 0;
  if (!(_get_lastReadView__ihufyy($this) === Companion_getInstance().get_Empty_i9b85g_k$())) {
    completeReadHead($this.readable_1, _get_lastReadView__ihufyy($this));
  }
  if (delta > 0) {
    $this.afterRead_biie6i_k$(delta);
  }
  _set_lastReadAvailable__98ukjs($this, 0);
  _set_lastReadView__2y3peu($this, Companion_getInstance_2().get_Empty_i9b85g_k$());
}
function requestNextView($this, atLeast) {
  // Inline function 'io.ktor.utils.io.core.isEmpty' call
  if ($this.readable_1.get_endOfInput_skegkh_k$()) {
    $this.prepareFlushedBytes_jiu201_k$();
  }
  var view = $this.readable_1.prepareReadHead_s3smdc_k$(atLeast);
  if (view == null) {
    _set_lastReadView__2y3peu($this, Companion_getInstance_2().get_Empty_i9b85g_k$());
    _set_lastReadAvailable__98ukjs($this, 0);
  } else {
    _set_lastReadView__2y3peu($this, view);
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    var tmp$ret$1 = view.get_writePosition_jdt81t_k$() - view.get_readPosition_70qxnc_k$() | 0;
    _set_lastReadAvailable__98ukjs($this, tmp$ret$1);
  }
  return view;
}
function discardSuspend($this, max, discarded0, $completion) {
  var tmp = new $discardSuspendCOROUTINE$($this, max, discarded0, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function writeAvailableSuspend($this, src, $completion) {
  var tmp = new $writeAvailableSuspendCOROUTINE$($this, src, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function writeAvailableSuspend_0($this, src, offset, length, $completion) {
  var tmp = new $writeAvailableSuspendCOROUTINE$_0($this, src, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function addBytesRead($this, count) {
  // Inline function 'kotlin.require' call
  if (!(count >= 0)) {
    var message = "Can't read negative amount of bytes: " + count;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlinx.atomicfu.AtomicInt.minusAssign' call
  $this.channelSize_1.atomicfu$getAndAdd(-count | 0);
  $this._totalBytesRead_1.atomicfu$addAndGet$long(fromInt(count));
  // Inline function 'kotlinx.atomicfu.AtomicInt.minusAssign' call
  $this._availableForRead_1.atomicfu$getAndAdd(-count | 0);
  // Inline function 'kotlin.check' call
  if (!($this.channelSize_1.get_kotlinx$atomicfu$value_vi2am5_k$() >= 0)) {
    var message_0 = 'Readable bytes count is negative: ' + $this.get_availableForRead_tq0sox_k$() + ', ' + count + ' in ' + toString($this);
    throw IllegalStateException_init_$Create$(toString(message_0));
  }
  // Inline function 'kotlin.check' call
  if (!($this.get_availableForRead_tq0sox_k$() >= 0)) {
    var message_1 = 'Readable bytes count is negative: ' + $this.get_availableForRead_tq0sox_k$() + ', ' + count + ' in ' + toString($this);
    throw IllegalStateException_init_$Create$(toString(message_1));
  }
}
function addBytesWritten($this, count) {
  // Inline function 'kotlin.require' call
  if (!(count >= 0)) {
    var message = "Can't write negative amount of bytes: " + count;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlinx.atomicfu.AtomicInt.plusAssign' call
  $this.channelSize_1.atomicfu$getAndAdd(count);
  $this._totalBytesWritten_1.atomicfu$addAndGet$long(fromInt(count));
  // Inline function 'kotlin.check' call
  if (!($this.channelSize_1.get_kotlinx$atomicfu$value_vi2am5_k$() >= 0)) {
    var message_0 = 'Readable bytes count is negative: ' + $this.channelSize_1.get_kotlinx$atomicfu$value_vi2am5_k$() + ', ' + count + ' in ' + toString($this);
    throw IllegalStateException_init_$Create$(toString(message_0));
  }
}
function ByteChannelSequentialBase$_get_lastReadAvailable_$ref_jigq96() {
  return function (p0) {
    return _get_lastReadAvailable__cgybqk(p0);
  };
}
function ByteChannelSequentialBase$_set_lastReadAvailable_$ref_po32ou() {
  return function (p0, p1) {
    _set_lastReadAvailable__98ukjs(p0, p1);
    return Unit_getInstance();
  };
}
function ByteChannelSequentialBase$_get_lastReadAvailable_$ref_jigq96_0() {
  return function (p0) {
    return _get_lastReadAvailable__cgybqk(p0);
  };
}
function ByteChannelSequentialBase$_set_lastReadAvailable_$ref_po32ou_0() {
  return function (p0, p1) {
    _set_lastReadAvailable__98ukjs(p0, p1);
    return Unit_getInstance();
  };
}
function ByteChannelSequentialBase$_get_lastReadView_$ref_shp9tu() {
  return function (p0) {
    return _get_lastReadView__ihufyy(p0);
  };
}
function ByteChannelSequentialBase$_set_lastReadView_$ref_lez8y() {
  return function (p0, p1) {
    _set_lastReadView__2y3peu(p0, p1);
    return Unit_getInstance();
  };
}
function ByteChannelSequentialBase$_get_lastReadView_$ref_shp9tu_0() {
  return function (p0) {
    return _get_lastReadView__ihufyy(p0);
  };
}
function ByteChannelSequentialBase$_set_lastReadView_$ref_lez8y_0() {
  return function (p0, p1) {
    _set_lastReadView__2y3peu(p0, p1);
    return Unit_getInstance();
  };
}
function ByteChannelSequentialBase$awaitAtLeastNBytesAvailableForWrite$lambda(this$0, $count) {
  return function () {
    return this$0.get_availableForWrite_22rgeu_k$() < $count && !this$0.get_closed_byjrzp_k$();
  };
}
function ByteChannelSequentialBase$awaitAtLeastNBytesAvailableForRead$lambda(this$0, $count) {
  return function () {
    return this$0.get_availableForRead_tq0sox_k$() < $count && !this$0.get_isClosedForRead_ajcc1s_k$();
  };
}
function ByteChannelSequentialBase$beginWriteSession$1(this$0) {
  this.this$0__1 = this$0;
}
protoOf(ByteChannelSequentialBase$beginWriteSession$1).request_oh1f6f_k$ = function (min) {
  if (this.this$0__1.get_availableForWrite_22rgeu_k$() === 0)
    return null;
  return this.this$0__1.writable_1.prepareWriteHead_9ofvdx_k$(min);
};
protoOf(ByteChannelSequentialBase$beginWriteSession$1).written_ytagz3_k$ = function (n) {
  this.this$0__1.writable_1.afterHeadWrite_tn4qvy_k$();
  this.this$0__1.afterWrite_qybsg5_k$(n);
};
protoOf(ByteChannelSequentialBase$beginWriteSession$1).flush_shahbo_k$ = function () {
  this.this$0__1.flush_shahbo_k$();
};
protoOf(ByteChannelSequentialBase$beginWriteSession$1).tryAwait_wnywx2_k$ = function (n, $completion) {
  var tmp = new $tryAwaitCOROUTINE$(this, n, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
function ByteChannelSequentialBase$readUTF8LineTo$slambda(this$0, resultContinuation) {
  this.this$0__1 = this$0;
  CoroutineImpl.call(this, resultContinuation);
}
protoOf(ByteChannelSequentialBase$readUTF8LineTo$slambda).invoke_yv7ll_k$ = function (size, $completion) {
  var tmp = this.create_t6fi7n_k$(size, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase$readUTF8LineTo$slambda).invoke_qns8j1_k$ = function (p1, $completion) {
  return this.invoke_yv7ll_k$((!(p1 == null) ? typeof p1 === 'number' : false) ? p1 : THROW_CCE(), $completion);
};
protoOf(ByteChannelSequentialBase$readUTF8LineTo$slambda).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this.this$0__1.await_wm3xku_k$(this.size_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          if (suspendResult) {
            var tmp_0 = this;
            tmp_0.WHEN_RESULT0__1 = this.this$0__1.readable_1;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          } else {
            var tmp_1 = this;
            tmp_1.WHEN_RESULT0__1 = null;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
protoOf(ByteChannelSequentialBase$readUTF8LineTo$slambda).create_t6fi7n_k$ = function (size, completion) {
  var i = new ByteChannelSequentialBase$readUTF8LineTo$slambda(this.this$0__1, completion);
  i.size_1 = size;
  return i;
};
protoOf(ByteChannelSequentialBase$readUTF8LineTo$slambda).create_wyq9v6_k$ = function (value, completion) {
  return this.create_t6fi7n_k$((!(value == null) ? typeof value === 'number' : false) ? value : THROW_CCE(), completion);
};
function ByteChannelSequentialBase$readUTF8LineTo$slambda_0(this$0, resultContinuation) {
  var i = new ByteChannelSequentialBase$readUTF8LineTo$slambda(this$0, resultContinuation);
  var l = function (size, $completion) {
    return i.invoke_yv7ll_k$(size, $completion);
  };
  l.$arity = 1;
  return l;
}
function ByteChannelSequentialBase$readUTF8LineTo$lambda(this$0) {
  return function (it) {
    this$0.afterRead_biie6i_k$(it);
    return Unit_getInstance();
  };
}
function ByteChannelSequentialBase$peekTo$slambda($min, $offset, $bytesCopied, $max, $destination, $destinationOffset, resultContinuation) {
  this.$min_1 = $min;
  this.$offset_1 = $offset;
  this.$bytesCopied_1 = $bytesCopied;
  this.$max_1 = $max;
  this.$destination_1 = $destination;
  this.$destinationOffset_1 = $destinationOffset;
  CoroutineImpl.call(this, resultContinuation);
}
protoOf(ByteChannelSequentialBase$peekTo$slambda).invoke_878vrs_k$ = function ($this$readSuspendableSession, $completion) {
  var tmp = this.create_8rvjfw_k$($this$readSuspendableSession, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase$peekTo$slambda).invoke_qns8j1_k$ = function (p1, $completion) {
  return this.invoke_878vrs_k$((!(p1 == null) ? isInterface(p1, SuspendableReadSession) : false) ? p1 : THROW_CCE(), $completion);
};
protoOf(ByteChannelSequentialBase$peekTo$slambda).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          var desiredSize = convertToInt(coerceAtMost(add(this.$min_1, this.$offset_1), new Long(4088, 0)));
          this.set_state_rjd8d0_k$(1);
          suspendResult = this.$this$readSuspendableSession_1.await_wm3xku_k$(desiredSize, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var tmp0_elvis_lhs = this.$this$readSuspendableSession_1.request_oh1f6f_k$(1);
          var buffer = tmp0_elvis_lhs == null ? Companion_getInstance_2().get_Empty_i9b85g_k$() : tmp0_elvis_lhs;
          if (compare(fromInt(buffer.get_writePosition_jdt81t_k$() - buffer.get_readPosition_70qxnc_k$() | 0), this.$offset_1) > 0) {
            var tmp0 = subtract(fromInt(buffer.get_writePosition_jdt81t_k$() - buffer.get_readPosition_70qxnc_k$() | 0), this.$offset_1);
            var tmp2 = this.$max_1;
            var this_0 = this.$destination_1;
            var b = subtract(fromInt(this_0.get_view_wow8a6_k$().byteLength), this.$destinationOffset_1);
            var b_0 = compare(tmp2, b) <= 0 ? tmp2 : b;
            this.$bytesCopied_1._v = compare(tmp0, b_0) <= 0 ? tmp0 : b_0;
            buffer.get_memory_gl4362_k$().copyTo_ug0rjx_k$(this.$destination_1, this.$offset_1, this.$bytesCopied_1._v, this.$destinationOffset_1);
          }

          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
protoOf(ByteChannelSequentialBase$peekTo$slambda).create_8rvjfw_k$ = function ($this$readSuspendableSession, completion) {
  var i = new ByteChannelSequentialBase$peekTo$slambda(this.$min_1, this.$offset_1, this.$bytesCopied_1, this.$max_1, this.$destination_1, this.$destinationOffset_1, completion);
  i.$this$readSuspendableSession_1 = $this$readSuspendableSession;
  return i;
};
protoOf(ByteChannelSequentialBase$peekTo$slambda).create_wyq9v6_k$ = function (value, completion) {
  return this.create_8rvjfw_k$((!(value == null) ? isInterface(value, SuspendableReadSession) : false) ? value : THROW_CCE(), completion);
};
function ByteChannelSequentialBase$peekTo$slambda_0($min, $offset, $bytesCopied, $max, $destination, $destinationOffset, resultContinuation) {
  var i = new ByteChannelSequentialBase$peekTo$slambda($min, $offset, $bytesCopied, $max, $destination, $destinationOffset, resultContinuation);
  var l = function ($this$readSuspendableSession, $completion) {
    return i.invoke_878vrs_k$($this$readSuspendableSession, $completion);
  };
  l.$arity = 1;
  return l;
}
function $awaitAtLeastNBytesAvailableForWriteCOROUTINE$(_this__u8e3s4, count, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.count_1 = count;
}
protoOf($awaitAtLeastNBytesAvailableForWriteCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(4);
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(this._this__u8e3s4__1.get_availableForWrite_22rgeu_k$() < this.count_1 && !this._this__u8e3s4__1.get_closed_byjrzp_k$())) {
            this.set_state_rjd8d0_k$(5);
            continue $sm;
          }

          if (!flushImpl(this._this__u8e3s4__1)) {
            this.set_state_rjd8d0_k$(2);
            suspendResult = this._this__u8e3s4__1.slot_1.sleep_nce3pz_k$(ByteChannelSequentialBase$awaitAtLeastNBytesAvailableForWrite$lambda(this._this__u8e3s4__1, this.count_1), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

        case 2:
          this.set_state_rjd8d0_k$(3);
          continue $sm;
        case 3:
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 4:
          throw this.get_exception_x0n6w6_k$();
        case 5:
          return Unit_getInstance();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 4) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $awaitAtLeastNBytesAvailableForReadCOROUTINE$(_this__u8e3s4, count, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.count_1 = count;
}
protoOf($awaitAtLeastNBytesAvailableForReadCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(this._this__u8e3s4__1.get_availableForRead_tq0sox_k$() < this.count_1 && !this._this__u8e3s4__1.get_isClosedForRead_ajcc1s_k$())) {
            this.set_state_rjd8d0_k$(4);
            continue $sm;
          }

          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.slot_1.sleep_nce3pz_k$(ByteChannelSequentialBase$awaitAtLeastNBytesAvailableForRead$lambda(this._this__u8e3s4__1, this.count_1), this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 3:
          throw this.get_exception_x0n6w6_k$();
        case 4:
          return Unit_getInstance();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeByteCOROUTINE$(_this__u8e3s4, b, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.b_1 = b;
}
protoOf($writeByteCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          this._this__u8e3s4__1.writable_1.writeByte_9ih3z3_k$(this.b_1);
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(1);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeShortCOROUTINE$(_this__u8e3s4, s, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.s_1 = s;
}
protoOf($writeShortCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(2, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          writeShort_0(this._this__u8e3s4__1.writable_1, this.s_1);
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(2);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeIntCOROUTINE$(_this__u8e3s4, i, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.i_1 = i;
}
protoOf($writeIntCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(4, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          writeInt_0(this._this__u8e3s4__1.writable_1, this.i_1);
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(4);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeLongCOROUTINE$(_this__u8e3s4, l, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.l_1 = l;
}
protoOf($writeLongCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(8, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          writeLong_0(this._this__u8e3s4__1.writable_1, this.l_1);
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(8);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeFloatCOROUTINE$(_this__u8e3s4, f, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.f_1 = f;
}
protoOf($writeFloatCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(4, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          writeFloat(this._this__u8e3s4__1.writable_1, this.f_1);
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(4);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeDoubleCOROUTINE$(_this__u8e3s4, d, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.d_1 = d;
}
protoOf($writeDoubleCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(8, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          writeDouble(this._this__u8e3s4__1.writable_1, this.d_1);
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(8);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writePacketCOROUTINE$(_this__u8e3s4, packet, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.packet_1 = packet;
}
protoOf($writePacketCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var size = convertToInt(this.packet_1.get_remaining_mwegr1_k$());
          this._this__u8e3s4__1.writable_1.writePacket_e1h3qk_k$(this.packet_1);
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(size);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeFullyCOROUTINE$(_this__u8e3s4, src, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.src_1 = src;
}
protoOf($writeFullyCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var this_0 = this.src_1;
          var count = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
          writeFully_1(this._this__u8e3s4__1.writable_1, this.src_1);
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(count);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeFullyCOROUTINE$_0(_this__u8e3s4, src, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.src_1 = src;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($writeFullyCOROUTINE$_0).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(4);
          this.currentIndex0__1 = this.offset_1;
          this.endIndex1__1 = this.offset_1 + this.length_1 | 0;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(this.currentIndex0__1 < this.endIndex1__1)) {
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          var tmp0 = this._this__u8e3s4__1.get_availableForWrite_22rgeu_k$();
          var b = this.endIndex1__1 - this.currentIndex0__1 | 0;
          var bytesCount = Math.min(tmp0, b);
          writeFully_2(this._this__u8e3s4__1.writable_1, this.src_1, this.currentIndex0__1, bytesCount);
          this.currentIndex0__1 = this.currentIndex0__1 + bytesCount | 0;
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(bytesCount);
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 3:
          return Unit_getInstance();
        case 4:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 4) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeFullyCOROUTINE$_1(_this__u8e3s4, memory, startIndex, endIndex, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.memory_1 = memory;
  this.startIndex_1 = startIndex;
  this.endIndex_1 = endIndex;
}
protoOf($writeFullyCOROUTINE$_1).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(4);
          this.currentIndex0__1 = this.startIndex_1;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(this.currentIndex0__1 < this.endIndex_1)) {
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          var tmp0 = this._this__u8e3s4__1.get_availableForWrite_22rgeu_k$();
          var b = this.endIndex_1 - this.currentIndex0__1 | 0;
          var bytesCount = Math.min(tmp0, b);
          writeFully_3(this._this__u8e3s4__1.writable_1, this.memory_1, this.currentIndex0__1, bytesCount);
          this.currentIndex0__1 = this.currentIndex0__1 + bytesCount | 0;
          this._this__u8e3s4__1.afterWrite_qybsg5_k$(bytesCount);
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 3:
          return Unit_getInstance();
        case 4:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 4) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeAvailableCOROUTINE$(_this__u8e3s4, src, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.src_1 = src;
}
protoOf($writeAvailableCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          var this_0 = this.src_1;
          var srcRemaining = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
          if (srcRemaining === 0)
            return 0;
          var b = this._this__u8e3s4__1.get_availableForWrite_22rgeu_k$();
          var size = Math.min(srcRemaining, b);
          if (size === 0) {
            this.set_state_rjd8d0_k$(1);
            suspendResult = writeAvailableSuspend(this._this__u8e3s4__1, this.src_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            var tmp_0 = this;
            writeFully_1(this._this__u8e3s4__1.writable_1, this.src_1, size);
            this._this__u8e3s4__1.afterWrite_qybsg5_k$(size);
            tmp_0.WHEN_RESULT0__1 = size;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeAvailableCOROUTINE$_0(_this__u8e3s4, src, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.src_1 = src;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($writeAvailableCOROUTINE$_0).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this.length_1 === 0)
            return 0;
          var tmp0 = this.length_1;
          var b = this._this__u8e3s4__1.get_availableForWrite_22rgeu_k$();
          var size = Math.min(tmp0, b);
          if (size === 0) {
            this.set_state_rjd8d0_k$(1);
            suspendResult = writeAvailableSuspend_0(this._this__u8e3s4__1, this.src_1, this.offset_1, this.length_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            var tmp_0 = this;
            writeFully_2(this._this__u8e3s4__1.writable_1, this.src_1, this.offset_1, size);
            this._this__u8e3s4__1.afterWrite_qybsg5_k$(size);
            tmp_0.WHEN_RESULT0__1 = size;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readByteCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readByteCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          if (!this._this__u8e3s4__1.readable_1.get_endOfInput_skegkh_k$()) {
            var tmp_0 = this;
            var this_0 = this._this__u8e3s4__1.readable_1.readByte_ectjk2_k$();
            this._this__u8e3s4__1.afterRead_biie6i_k$(1);
            tmp_0.WHEN_RESULT0__1 = this_0;
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readByteSlow(this._this__u8e3s4__1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(3);
          continue $sm;
        case 2:
          throw this.get_exception_x0n6w6_k$();
        case 3:
          return this.WHEN_RESULT0__1;
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readByteSlowCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readByteSlowCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(4);
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          if (!this._this__u8e3s4__1.readable_1.get_endOfInput_skegkh_k$()) {
            var this_0 = this._this__u8e3s4__1.readable_1.readByte_ectjk2_k$();
            this._this__u8e3s4__1.afterRead_biie6i_k$(1);
            return this_0;
          }

          checkClosed$default(this._this__u8e3s4__1, 1);
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 3:
          return Unit_getInstance();
        case 4:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 4) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readShortCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readShortCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this._this__u8e3s4__1.readable_1.hasBytes_ly98p3_k$(2)) {
            var tmp_0 = this;
            var this_0 = readShort_0(this._this__u8e3s4__1.readable_1);
            this._this__u8e3s4__1.afterRead_biie6i_k$(2);
            tmp_0.WHEN_RESULT0__1 = this_0;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readShortSlow(this._this__u8e3s4__1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readShortSlowCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readShortSlowCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(2, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var result = readShort_0(this._this__u8e3s4__1.readable_1);
          this._this__u8e3s4__1.afterRead_biie6i_k$(2);
          return result;
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readIntCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readIntCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this._this__u8e3s4__1.readable_1.hasBytes_ly98p3_k$(4)) {
            var tmp_0 = this;
            var this_0 = readInt_0(this._this__u8e3s4__1.readable_1);
            this._this__u8e3s4__1.afterRead_biie6i_k$(4);
            tmp_0.WHEN_RESULT0__1 = this_0;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readIntSlow(this._this__u8e3s4__1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readIntSlowCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readIntSlowCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(4, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var result = readInt_0(this._this__u8e3s4__1.readable_1);
          this._this__u8e3s4__1.afterRead_biie6i_k$(4);
          return result;
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readLongCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readLongCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this._this__u8e3s4__1.readable_1.hasBytes_ly98p3_k$(8)) {
            var tmp_0 = this;
            var this_0 = readLong_0(this._this__u8e3s4__1.readable_1);
            this._this__u8e3s4__1.afterRead_biie6i_k$(8);
            tmp_0.WHEN_RESULT0__1 = this_0;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readLongSlow(this._this__u8e3s4__1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readLongSlowCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readLongSlowCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(8, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var result = readLong_0(this._this__u8e3s4__1.readable_1);
          this._this__u8e3s4__1.afterRead_biie6i_k$(8);
          return result;
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readFloatCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readFloatCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this._this__u8e3s4__1.readable_1.hasBytes_ly98p3_k$(4)) {
            var tmp_0 = this;
            var this_0 = readFloat_0(this._this__u8e3s4__1.readable_1);
            this._this__u8e3s4__1.afterRead_biie6i_k$(4);
            tmp_0.WHEN_RESULT0__1 = this_0;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readFloatSlow(this._this__u8e3s4__1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readFloatSlowCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readFloatSlowCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(4, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var result = readFloat_0(this._this__u8e3s4__1.readable_1);
          this._this__u8e3s4__1.afterRead_biie6i_k$(4);
          return result;
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readDoubleCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readDoubleCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this._this__u8e3s4__1.readable_1.hasBytes_ly98p3_k$(8)) {
            var tmp_0 = this;
            var this_0 = readDouble_0(this._this__u8e3s4__1.readable_1);
            this._this__u8e3s4__1.afterRead_biie6i_k$(8);
            tmp_0.WHEN_RESULT0__1 = this_0;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readDoubleSlow(this._this__u8e3s4__1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readDoubleSlowCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readDoubleSlowCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(8, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var result = readDouble_0(this._this__u8e3s4__1.readable_1);
          this._this__u8e3s4__1.afterRead_biie6i_k$(8);
          return result;
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readRemainingCOROUTINE$(_this__u8e3s4, limit, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.limit_1 = limit;
}
protoOf($readRemainingCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          ensureNotFailed(this._this__u8e3s4__1);
          var builder = new BytePacketBuilder();
          var tmp0 = this.limit_1;
          var b = this._this__u8e3s4__1.readable_1.get_remaining_mwegr1_k$();
          var size = compare(tmp0, b) <= 0 ? tmp0 : b;
          builder.writePacket_9o18u2_k$(this._this__u8e3s4__1.readable_1, size);
          this._this__u8e3s4__1.afterRead_biie6i_k$(convertToInt(size));
          var tmp0_0 = this.limit_1;
          var other = builder.get_size_woubt6_k$();
          var newLimit = subtract(tmp0_0, fromInt(other));
          if (equalsLong(newLimit, new Long(0, 0)) || this._this__u8e3s4__1.get_isClosedForRead_ajcc1s_k$()) {
            var tmp_0 = this;
            ensureNotFailed_0(this._this__u8e3s4__1, builder);
            tmp_0.WHEN_RESULT0__1 = builder.build_1k0s4u_k$();
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readRemainingSuspend(this._this__u8e3s4__1, builder, this.limit_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readRemainingSuspendCOROUTINE$(_this__u8e3s4, builder, limit, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.builder_1 = builder;
  this.limit_1 = limit;
}
protoOf($readRemainingSuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(5);
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(compare(fromInt(this.builder_1.get_size_woubt6_k$()), this.limit_1) < 0)) {
            this.set_state_rjd8d0_k$(4);
            continue $sm;
          }

          var tmp0 = this.limit_1;
          var other = this.builder_1.get_size_woubt6_k$();
          var tmp0_0 = subtract(tmp0, fromInt(other));
          var b = this._this__u8e3s4__1.readable_1.get_remaining_mwegr1_k$();
          var partLimit = compare(tmp0_0, b) <= 0 ? tmp0_0 : b;
          this.builder_1.writePacket_9o18u2_k$(this._this__u8e3s4__1.readable_1, partLimit);
          this._this__u8e3s4__1.afterRead_biie6i_k$(convertToInt(partLimit));
          ensureNotFailed_0(this._this__u8e3s4__1, this.builder_1);
          if (this._this__u8e3s4__1.get_isClosedForRead_ajcc1s_k$() || this.builder_1.get_size_woubt6_k$() === convertToInt(this.limit_1)) {
            this.set_state_rjd8d0_k$(4);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 2:
          this.set_state_rjd8d0_k$(3);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 3:
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 4:
          ensureNotFailed_0(this._this__u8e3s4__1, this.builder_1);
          return this.builder_1.build_1k0s4u_k$();
        case 5:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 5) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readPacketCOROUTINE$(_this__u8e3s4, size, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.size_1 = size;
}
protoOf($readPacketCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          checkClosed$default(this._this__u8e3s4__1, this.size_1);
          var builder = new BytePacketBuilder();
          var remaining = this.size_1;
          var tmp0 = fromInt(remaining);
          var b = this._this__u8e3s4__1.readable_1.get_remaining_mwegr1_k$();
          var partSize = convertToInt(compare(tmp0, b) <= 0 ? tmp0 : b);
          remaining = remaining - partSize | 0;
          builder.writePacket_3jtwmc_k$(this._this__u8e3s4__1.readable_1, partSize);
          this._this__u8e3s4__1.afterRead_biie6i_k$(partSize);
          checkClosed(this._this__u8e3s4__1, remaining, builder);
          if (remaining > 0) {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readPacketSuspend(this._this__u8e3s4__1, builder, remaining, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            this.WHEN_RESULT0__1 = builder.build_1k0s4u_k$();
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readPacketSuspendCOROUTINE$(_this__u8e3s4, builder, size, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.builder_1 = builder;
  this.size_1 = size;
}
protoOf($readPacketSuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(5);
          this.remaining0__1 = this.size_1;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(this.remaining0__1 > 0)) {
            this.set_state_rjd8d0_k$(4);
            continue $sm;
          }

          var tmp0 = fromInt(this.remaining0__1);
          var b = this._this__u8e3s4__1.readable_1.get_remaining_mwegr1_k$();
          var partSize = convertToInt(compare(tmp0, b) <= 0 ? tmp0 : b);
          this.remaining0__1 = this.remaining0__1 - partSize | 0;
          this.builder_1.writePacket_3jtwmc_k$(this._this__u8e3s4__1.readable_1, partSize);
          this._this__u8e3s4__1.afterRead_biie6i_k$(partSize);
          checkClosed(this._this__u8e3s4__1, this.remaining0__1, this.builder_1);
          if (this.remaining0__1 > 0) {
            this.set_state_rjd8d0_k$(2);
            suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

        case 2:
          this.set_state_rjd8d0_k$(3);
          continue $sm;
        case 3:
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 4:
          checkClosed(this._this__u8e3s4__1, this.remaining0__1, this.builder_1);
          return this.builder_1.build_1k0s4u_k$();
        case 5:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 5) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readAvailableCOROUTINE$(_this__u8e3s4, dst, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
}
protoOf($readAvailableCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          var tmp0_safe_receiver = this._this__u8e3s4__1.get_closedCause_o1qcj8_k$();
          if (tmp0_safe_receiver == null)
            null;
          else {
            throw tmp0_safe_receiver;
          }

          if (this._this__u8e3s4__1.get_closed_byjrzp_k$() && this._this__u8e3s4__1.get_availableForRead_tq0sox_k$() === 0)
            return -1;
          var this_0 = this.dst_1;
          if ((this_0.get_limit_iuokuq_k$() - this_0.get_writePosition_jdt81t_k$() | 0) === 0)
            return 0;
          if (this._this__u8e3s4__1.get_availableForRead_tq0sox_k$() === 0) {
            this.set_state_rjd8d0_k$(1);
            suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 1:
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          if (!this._this__u8e3s4__1.readable_1.canRead_93a6bq_k$()) {
            this._this__u8e3s4__1.prepareFlushedBytes_jiu201_k$();
          }

          var this_1 = this.dst_1;
          var tmp0 = fromInt(this_1.get_limit_iuokuq_k$() - this_1.get_writePosition_jdt81t_k$() | 0);
          var b = this._this__u8e3s4__1.readable_1.get_remaining_mwegr1_k$();
          var size = convertToInt(compare(tmp0, b) <= 0 ? tmp0 : b);
          readFully_4(this._this__u8e3s4__1.readable_1, this.dst_1, size);
          this._this__u8e3s4__1.afterRead_biie6i_k$(size);
          return size;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readFullyCOROUTINE$(_this__u8e3s4, dst, n, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.n_1 = n;
}
protoOf($readFullyCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          var this_0 = this.dst_1;
          if (!(this.n_1 <= (this_0.get_limit_iuokuq_k$() - this_0.get_writePosition_jdt81t_k$() | 0))) {
            var message = 'Not enough space in the destination buffer to write ' + this.n_1 + ' bytes';
            throw IllegalArgumentException_init_$Create$(toString(message));
          }

          if (!(this.n_1 >= 0)) {
            var message_0 = "n shouldn't be negative";
            throw IllegalArgumentException_init_$Create$(toString(message_0));
          }

          if (!(this._this__u8e3s4__1.get_closedCause_o1qcj8_k$() == null)) {
            throw ensureNotNull(this._this__u8e3s4__1.get_closedCause_o1qcj8_k$());
          } else {
            if (compare(this._this__u8e3s4__1.readable_1.get_remaining_mwegr1_k$(), fromInt(this.n_1)) >= 0) {
              readFully_4(this._this__u8e3s4__1.readable_1, this.dst_1, this.n_1);
              this._this__u8e3s4__1.afterRead_biie6i_k$(this.n_1);
              this.set_state_rjd8d0_k$(2);
              continue $sm;
            } else {
              if (this._this__u8e3s4__1.get_closed_byjrzp_k$()) {
                throw new EOFException('Channel is closed and not enough bytes available: required ' + this.n_1 + ' but ' + this._this__u8e3s4__1.get_availableForRead_tq0sox_k$() + ' available');
              } else {
                this.set_state_rjd8d0_k$(1);
                suspendResult = readFullySuspend(this._this__u8e3s4__1, this.dst_1, this.n_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }
                continue $sm;
              }
            }
          }

        case 1:
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return Unit_getInstance();
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readFullySuspendCOROUTINE$(_this__u8e3s4, dst, n, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.n_1 = n;
}
protoOf($readFullySuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(this.n_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          this.set_state_rjd8d0_k$(2);
          suspendResult = readFully(this._this__u8e3s4__1, this.dst_1, this.n_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          return Unit_getInstance();
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readAvailableCOROUTINE$_0(_this__u8e3s4, dst, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($readAvailableCOROUTINE$_0).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          var tmp0_safe_receiver = this._this__u8e3s4__1.get_closedCause_o1qcj8_k$();
          if (tmp0_safe_receiver == null)
            null;
          else {
            throw tmp0_safe_receiver;
          }

          if (this._this__u8e3s4__1.get_closed_byjrzp_k$() && this._this__u8e3s4__1.get_availableForRead_tq0sox_k$() === 0)
            return -1;
          if (this.length_1 === 0)
            return 0;
          if (this._this__u8e3s4__1.get_availableForRead_tq0sox_k$() === 0) {
            this.set_state_rjd8d0_k$(1);
            suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 1:
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          if (!this._this__u8e3s4__1.readable_1.canRead_93a6bq_k$()) {
            this._this__u8e3s4__1.prepareFlushedBytes_jiu201_k$();
          }

          var tmp0 = fromInt(this.length_1);
          var b = this._this__u8e3s4__1.readable_1.get_remaining_mwegr1_k$();
          var size = convertToInt(compare(tmp0, b) <= 0 ? tmp0 : b);
          readFully_3(this._this__u8e3s4__1.readable_1, this.dst_1, this.offset_1, size);
          this._this__u8e3s4__1.afterRead_biie6i_k$(size);
          return size;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readFullyCOROUTINE$_0(_this__u8e3s4, dst, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($readFullyCOROUTINE$_0).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.readAvailable_xlipkq_k$(this.dst_1, this.offset_1, this.length_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var rc = suspendResult;
          if (rc === this.length_1)
            return Unit_getInstance();
          if (rc === -1)
            throw new EOFException('Unexpected end of stream');
          this.set_state_rjd8d0_k$(2);
          suspendResult = readFullySuspend_0(this._this__u8e3s4__1, this.dst_1, this.offset_1 + rc | 0, this.length_1 - rc | 0, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          return Unit_getInstance();
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readFullySuspendCOROUTINE$_0(_this__u8e3s4, dst, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($readFullySuspendCOROUTINE$_0).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(4);
          this.written0__1 = 0;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(this.written0__1 < this.length_1)) {
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.readAvailable_xlipkq_k$(this.dst_1, this.offset_1 + this.written0__1 | 0, this.length_1 - this.written0__1 | 0, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          var rc = suspendResult;
          if (rc === -1)
            throw new EOFException('Unexpected end of stream');
          this.written0__1 = this.written0__1 + rc | 0;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 3:
          return Unit_getInstance();
        case 4:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 4) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readBooleanCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readBooleanCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this._this__u8e3s4__1.readable_1.canRead_93a6bq_k$()) {
            var tmp_0 = this;
            var this_0 = this._this__u8e3s4__1.readable_1.readByte_ectjk2_k$() === 1;
            this._this__u8e3s4__1.afterRead_biie6i_k$(1);
            tmp_0.WHEN_RESULT0__1 = this_0;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readBooleanSlow(this._this__u8e3s4__1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readBooleanSlowCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($readBooleanSlowCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          checkClosed$default(this._this__u8e3s4__1, 1);
          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.readBoolean_si96by_k$(this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          return suspendResult;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $awaitInternalAtLeast1COROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($awaitInternalAtLeast1COROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          if (!this._this__u8e3s4__1.readable_1.get_endOfInput_skegkh_k$()) {
            var tmp_0 = this;
            tmp_0.WHEN_RESULT0__1 = true;
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = this._this__u8e3s4__1.awaitSuspend_e9hvgy_k$(1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(3);
          continue $sm;
        case 2:
          throw this.get_exception_x0n6w6_k$();
        case 3:
          return this.WHEN_RESULT0__1;
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $awaitSuspendCOROUTINE$(_this__u8e3s4, atLeast, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.atLeast_1 = atLeast;
}
protoOf($awaitSuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          if (!(this.atLeast_1 >= 0)) {
            var message = 'Failed requirement.';
            throw IllegalArgumentException_init_$Create$(toString(message));
          }

          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForRead_v33bnl_k$(this.atLeast_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          this._this__u8e3s4__1.prepareFlushedBytes_jiu201_k$();
          var tmp0_safe_receiver = this._this__u8e3s4__1.get_closedCause_o1qcj8_k$();
          if (tmp0_safe_receiver == null)
            null;
          else {
            throw tmp0_safe_receiver;
          }

          return !this._this__u8e3s4__1.get_isClosedForRead_ajcc1s_k$() && this._this__u8e3s4__1.get_availableForRead_tq0sox_k$() >= this.atLeast_1;
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $discardCOROUTINE$(_this__u8e3s4, max, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.max_1 = max;
}
protoOf($discardCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          var discarded = this._this__u8e3s4__1.readable_1.discard_kxfhu8_k$(this.max_1);
          this._this__u8e3s4__1.afterRead_biie6i_k$(convertToInt(discarded));
          if (equalsLong(discarded, this.max_1) || this._this__u8e3s4__1.get_isClosedForRead_ajcc1s_k$()) {
            var tmp_0 = this;
            ensureNotFailed(this._this__u8e3s4__1);
            return discarded;
          } else {
            this.set_state_rjd8d0_k$(1);
            suspendResult = discardSuspend(this._this__u8e3s4__1, this.max_1, discarded, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $discardSuspendCOROUTINE$(_this__u8e3s4, max, discarded0, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.max_1 = max;
  this.discarded0__1 = discarded0;
}
protoOf($discardSuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(5);
          this.discarded0__2 = this.discarded0__1;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.await_wm3xku_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          if (!suspendResult) {
            this.set_state_rjd8d0_k$(4);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

        case 3:
          var count = this._this__u8e3s4__1.readable_1.discard_kxfhu8_k$(subtract(this.max_1, this.discarded0__2));
          this._this__u8e3s4__1.afterRead_biie6i_k$(convertToInt(count));
          this.discarded0__2 = add(this.discarded0__2, count);
          if (compare(this.discarded0__2, this.max_1) < 0 && !this._this__u8e3s4__1.get_isClosedForRead_ajcc1s_k$()) {
            this.set_state_rjd8d0_k$(1);
            continue $sm;
          }

          this.set_state_rjd8d0_k$(4);
          continue $sm;
        case 4:
          ensureNotFailed(this._this__u8e3s4__1);
          return this.discarded0__2;
        case 5:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 5) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readSuspendableSessionCOROUTINE$(_this__u8e3s4, consumer, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.consumer_1 = consumer;
}
protoOf($readSuspendableSessionCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(5);
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          this.set_exceptionState_fex74n_k$(4);
          this.set_state_rjd8d0_k$(2);
          suspendResult = this.consumer_1(this._this__u8e3s4__1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          this.set_exceptionState_fex74n_k$(5);
          this.set_state_rjd8d0_k$(3);
          continue $sm;
        case 3:
          this.set_exceptionState_fex74n_k$(5);
          completeReading(this._this__u8e3s4__1);
          return Unit_getInstance();
        case 4:
          this.set_exceptionState_fex74n_k$(5);
          var t = this.get_exception_x0n6w6_k$();
          completeReading(this._this__u8e3s4__1);
          throw t;
        case 5:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 5) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readUTF8LineCOROUTINE$(_this__u8e3s4, limit, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.limit_1 = limit;
}
protoOf($readUTF8LineCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.builder0__1 = StringBuilder_init_$Create$();
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.readUTF8LineTo_ve1u75_k$(this.builder0__1, this.limit_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          if (!suspendResult) {
            return null;
          } else {
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 2:
          return this.builder0__1.toString();
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeAvailableSuspendCOROUTINE$(_this__u8e3s4, src, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.src_1 = src;
}
protoOf($writeAvailableSuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.writeAvailable_uozx97_k$(this.src_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          return suspendResult;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $writeAvailableSuspendCOROUTINE$_0(_this__u8e3s4, src, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.src_1 = src;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($writeAvailableSuspendCOROUTINE$_0).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.writeAvailable_ly4hch_k$(this.src_1, this.offset_1, this.length_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          return suspendResult;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $awaitFreeSpaceCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($awaitFreeSpaceCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this._this__u8e3s4__1.flush_shahbo_k$();
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          ensureNotClosed(this._this__u8e3s4__1);
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $awaitContentCOROUTINE$(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
}
protoOf($awaitContentCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.await_wm3xku_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          return Unit_getInstance();
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $peekToCOROUTINE$(_this__u8e3s4, destination, destinationOffset, offset, min, max, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.destination_1 = destination;
  this.destinationOffset_1 = destinationOffset;
  this.offset_1 = offset;
  this.min_1 = min;
  this.max_1 = max;
}
protoOf($peekToCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.bytesCopied0__1 = {_v: new Long(0, 0)};
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.readSuspendableSession_59oqw3_k$(ByteChannelSequentialBase$peekTo$slambda_0(this.min_1, this.offset_1, this.bytesCopied0__1, this.max_1, this.destination_1, this.destinationOffset_1, null), this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          return this.bytesCopied0__1._v;
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function ByteChannelSequentialBase(initial, autoFlush, pool) {
  pool = pool === VOID ? Companion_getInstance_2().get_Pool_wo83gl_k$() : pool;
  this.autoFlush_1 = autoFlush;
  this._lastReadView_1 = atomic$ref$1(Companion_getInstance_2().get_Empty_i9b85g_k$());
  this._totalBytesRead_1 = atomic$long$1(new Long(0, 0));
  this._totalBytesWritten_1 = atomic$long$1(new Long(0, 0));
  this._availableForRead_1 = atomic$int$1(0);
  this.channelSize_1 = atomic$int$1(0);
  this._closed_1 = atomic$ref$1(null);
  this.writable_1 = new BytePacketBuilder(pool);
  this.readable_1 = ByteReadPacket_init_$Create$(initial, pool);
  this.lastReadAvailable$delegate_1 = atomic$int$1(0);
  this.lastReadView$delegate_1 = atomic$ref$1(Companion_getInstance_2().get_Empty_i9b85g_k$());
  this.slot_1 = new AwaitingSlot();
  this.flushMutex_1 = new Object();
  this.flushBuffer_1 = new BytePacketBuilder();
  var count = convertToInt(remainingAll(initial));
  this.afterWrite_qybsg5_k$(count);
  this._availableForRead_1.atomicfu$addAndGet(count);
}
protoOf(ByteChannelSequentialBase).get_autoFlush_zfdl3o_k$ = function () {
  return this.autoFlush_1;
};
protoOf(ByteChannelSequentialBase).set_closed_z8zuoc_k$ = function (_anonymous_parameter_0__qggqh8) {
  // Inline function 'kotlin.error' call
  var message = 'Setting is not allowed for closed';
  throw IllegalStateException_init_$Create$(toString(message));
};
protoOf(ByteChannelSequentialBase).get_closed_byjrzp_k$ = function () {
  return !(this._closed_1.get_kotlinx$atomicfu$value_vi2am5_k$() == null);
};
protoOf(ByteChannelSequentialBase).get_writable_8ork2x_k$ = function () {
  return this.writable_1;
};
protoOf(ByteChannelSequentialBase).get_readable_ovw33t_k$ = function () {
  return this.readable_1;
};
protoOf(ByteChannelSequentialBase).get_availableForRead_tq0sox_k$ = function () {
  return this._availableForRead_1.get_kotlinx$atomicfu$value_vi2am5_k$();
};
protoOf(ByteChannelSequentialBase).get_availableForWrite_22rgeu_k$ = function () {
  // Inline function 'kotlin.comparisons.maxOf' call
  var b = 4088 - this.channelSize_1.get_kotlinx$atomicfu$value_vi2am5_k$() | 0;
  return Math.max(0, b);
};
protoOf(ByteChannelSequentialBase).get_isClosedForRead_ajcc1s_k$ = function () {
  return _get_isCancelled__nhbn6y(this) || (this.get_closed_byjrzp_k$() && this.channelSize_1.get_kotlinx$atomicfu$value_vi2am5_k$() === 0);
};
protoOf(ByteChannelSequentialBase).get_isClosedForWrite_seyg5n_k$ = function () {
  return this.get_closed_byjrzp_k$();
};
protoOf(ByteChannelSequentialBase).get_totalBytesRead_dai8jq_k$ = function () {
  return this._totalBytesRead_1.get_kotlinx$atomicfu$value_vi2am5_k$();
};
protoOf(ByteChannelSequentialBase).get_totalBytesWritten_b5quc9_k$ = function () {
  return this._totalBytesWritten_1.get_kotlinx$atomicfu$value_vi2am5_k$();
};
protoOf(ByteChannelSequentialBase).set_closedCause_q9zp46_k$ = function (_anonymous_parameter_0__qggqh8) {
  // Inline function 'kotlin.error' call
  var message = "Closed cause shouldn't be changed directly";
  throw IllegalStateException_init_$Create$(toString(message));
};
protoOf(ByteChannelSequentialBase).get_closedCause_o1qcj8_k$ = function () {
  var tmp0_safe_receiver = this._closed_1.get_kotlinx$atomicfu$value_vi2am5_k$();
  return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.get_cause_iplhs0_k$();
};
protoOf(ByteChannelSequentialBase).awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$ = function (count, $completion) {
  var tmp = new $awaitAtLeastNBytesAvailableForWriteCOROUTINE$(this, count, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).awaitAtLeastNBytesAvailableForRead_v33bnl_k$ = function (count, $completion) {
  var tmp = new $awaitAtLeastNBytesAvailableForReadCOROUTINE$(this, count, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).flush_shahbo_k$ = function () {
  flushImpl(this);
};
protoOf(ByteChannelSequentialBase).prepareFlushedBytes_jiu201_k$ = function () {
  // Inline function 'kotlinx.atomicfu.locks.synchronized' call
  this.flushMutex_1;
  unsafeAppend(this.readable_1, this.flushBuffer_1);
};
protoOf(ByteChannelSequentialBase).writeByte_9xy8oq_k$ = function (b, $completion) {
  var tmp = new $writeByteCOROUTINE$(this, b, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeShort_zcdxvo_k$ = function (s, $completion) {
  var tmp = new $writeShortCOROUTINE$(this, s, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeInt_ft1dn3_k$ = function (i, $completion) {
  var tmp = new $writeIntCOROUTINE$(this, i, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeLong_xdmqak_k$ = function (l, $completion) {
  var tmp = new $writeLongCOROUTINE$(this, l, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeFloat_2bveak_k$ = function (f, $completion) {
  var tmp = new $writeFloatCOROUTINE$(this, f, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeDouble_cydqap_k$ = function (d, $completion) {
  var tmp = new $writeDoubleCOROUTINE$(this, d, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writePacket_9x2akt_k$ = function (packet, $completion) {
  var tmp = new $writePacketCOROUTINE$(this, packet, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeFully_hz8k55_k$ = function (src, $completion) {
  var tmp = new $writeFullyCOROUTINE$(this, src, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeFully_c7wsd0_k$ = function (src, offset, length, $completion) {
  var tmp = new $writeFullyCOROUTINE$_0(this, src, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeFully_q2upa9_k$ = function (memory, startIndex, endIndex, $completion) {
  var tmp = new $writeFullyCOROUTINE$_1(this, memory, startIndex, endIndex, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeAvailable_uozx97_k$ = function (src, $completion) {
  var tmp = new $writeAvailableCOROUTINE$(this, src, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeAvailable_ly4hch_k$ = function (src, offset, length, $completion) {
  var tmp = new $writeAvailableCOROUTINE$_0(this, src, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).writeSuspendSession_95tk3h_k$ = function (visitor, $completion) {
  var session = this.beginWriteSession_k7m9kw_k$();
  return visitor(session, $completion);
};
protoOf(ByteChannelSequentialBase).beginWriteSession_k7m9kw_k$ = function () {
  return new ByteChannelSequentialBase$beginWriteSession$1(this);
};
protoOf(ByteChannelSequentialBase).endWriteSession_g3xxii_k$ = function (written) {
  this.writable_1.afterHeadWrite_tn4qvy_k$();
  this.afterWrite_qybsg5_k$(written);
};
protoOf(ByteChannelSequentialBase).readByte_rqxxpg_k$ = function ($completion) {
  var tmp = new $readByteCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readShort_l1xcq_k$ = function ($completion) {
  var tmp = new $readShortCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).afterRead_biie6i_k$ = function (count) {
  addBytesRead(this, count);
  this.slot_1.resume_2o15jx_k$();
};
protoOf(ByteChannelSequentialBase).readInt_494lj4_k$ = function ($completion) {
  var tmp = new $readIntCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readLong_53tz8d_k$ = function ($completion) {
  var tmp = new $readLongCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readFloat_kzegx2_k$ = function ($completion) {
  var tmp = new $readFloatCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readDouble_xgmyys_k$ = function ($completion) {
  var tmp = new $readDoubleCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readRemaining_nblam0_k$ = function (limit, $completion) {
  var tmp = new $readRemainingCOROUTINE$(this, limit, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readPacket_kk8dng_k$ = function (size, $completion) {
  var tmp = new $readPacketCOROUTINE$(this, size, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readAvailableClosed_uidty9_k$ = function () {
  var tmp0_safe_receiver = this.get_closedCause_o1qcj8_k$();
  if (tmp0_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    throw tmp0_safe_receiver;
  }
  if (this.get_availableForRead_tq0sox_k$() > 0) {
    this.prepareFlushedBytes_jiu201_k$();
  }
  return -1;
};
protoOf(ByteChannelSequentialBase).readAvailable_wzcy2k_k$ = function (dst, $completion) {
  return this.readAvailable_idju8i_k$(dst instanceof Buffer ? dst : THROW_CCE(), $completion);
};
protoOf(ByteChannelSequentialBase).readAvailable_idju8i_k$ = function (dst, $completion) {
  var tmp = new $readAvailableCOROUTINE$(this, dst, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readFully_wl4e2l_k$ = function (dst, n, $completion) {
  return readFully(this, dst instanceof Buffer ? dst : THROW_CCE(), n, $completion);
};
protoOf(ByteChannelSequentialBase).readAvailable_xlipkq_k$ = function (dst, offset, length, $completion) {
  var tmp = new $readAvailableCOROUTINE$_0(this, dst, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readFully_sgvmxv_k$ = function (dst, offset, length, $completion) {
  var tmp = new $readFullyCOROUTINE$_0(this, dst, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readBoolean_si96by_k$ = function ($completion) {
  var tmp = new $readBooleanCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).await_wm3xku_k$ = function (atLeast, $completion) {
  // Inline function 'kotlin.require' call
  if (!(atLeast >= 0)) {
    var message = "atLeast parameter shouldn't be negative: " + atLeast;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.require' call
  if (!(compare(fromInt(atLeast), new Long(4088, 0)) <= 0)) {
    var message_0 = "atLeast parameter shouldn't be larger than max buffer size of 4088: " + atLeast;
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  completeReading(this);
  if (atLeast === 0)
    return !this.get_isClosedForRead_ajcc1s_k$();
  if (compare(this.readable_1.get_remaining_mwegr1_k$(), fromInt(atLeast)) >= 0)
    return true;
  return this.awaitSuspend_e9hvgy_k$(atLeast, $completion);
};
protoOf(ByteChannelSequentialBase).awaitInternalAtLeast1_1tmgbr_k$ = function ($completion) {
  var tmp = new $awaitInternalAtLeast1COROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).awaitSuspend_e9hvgy_k$ = function (atLeast, $completion) {
  var tmp = new $awaitSuspendCOROUTINE$(this, atLeast, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).discard_6fulfq_k$ = function (n) {
  var tmp0_safe_receiver = this.get_closedCause_o1qcj8_k$();
  if (tmp0_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    throw tmp0_safe_receiver;
  }
  if (n === 0) {
    return 0;
  }
  // Inline function 'kotlin.also' call
  var this_0 = this.readable_1.discard_6fulfq_k$(n);
  this.afterRead_biie6i_k$(n);
  requestNextView(this, 1);
  return this_0;
};
protoOf(ByteChannelSequentialBase).request_oh1f6f_k$ = function (atLeast) {
  var tmp0_safe_receiver = this.get_closedCause_o1qcj8_k$();
  if (tmp0_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    throw tmp0_safe_receiver;
  }
  completeReading(this);
  return requestNextView(this, atLeast);
};
protoOf(ByteChannelSequentialBase).discard_tkcvlt_k$ = function (max, $completion) {
  var tmp = new $discardCOROUTINE$(this, max, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readSession_9fsihs_k$ = function (consumer) {
  try {
    consumer(this);
  }finally {
    completeReading(this);
  }
};
protoOf(ByteChannelSequentialBase).startReadSession_et8im_k$ = function () {
  return this;
};
protoOf(ByteChannelSequentialBase).endReadSession_r81zlh_k$ = function () {
  completeReading(this);
};
protoOf(ByteChannelSequentialBase).readSuspendableSession_59oqw3_k$ = function (consumer, $completion) {
  var tmp = new $readSuspendableSessionCOROUTINE$(this, consumer, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).readUTF8LineTo_ve1u75_k$ = function (out, limit, $completion) {
  if (this.get_isClosedForRead_ajcc1s_k$()) {
    var cause = this.get_closedCause_o1qcj8_k$();
    if (!(cause == null)) {
      throw cause;
    }
    return false;
  }
  var tmp = ByteChannelSequentialBase$readUTF8LineTo$slambda_0(this, null);
  return decodeUTF8LineLoopSuspend(out, limit, tmp, ByteChannelSequentialBase$readUTF8LineTo$lambda(this), $completion);
};
protoOf(ByteChannelSequentialBase).readUTF8Line_vxfv4t_k$ = function (limit, $completion) {
  var tmp = new $readUTF8LineCOROUTINE$(this, limit, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).cancel_e74who_k$ = function (cause) {
  if (!(this.get_closedCause_o1qcj8_k$() == null) || this.get_closed_byjrzp_k$()) {
    return false;
  }
  return this.close_ukldxa_k$(cause == null ? CancellationException_init_$Create$('Channel cancelled') : cause);
};
protoOf(ByteChannelSequentialBase).close_ukldxa_k$ = function (cause) {
  var closeElement = cause == null ? get_CLOSED_SUCCESS() : new CloseElement(cause);
  if (!this._closed_1.atomicfu$compareAndSet(null, closeElement))
    return false;
  if (!(cause == null)) {
    this.readable_1.release_wu5yyf_k$();
    this.writable_1.release_wu5yyf_k$();
    this.flushBuffer_1.release_wu5yyf_k$();
  } else {
    this.flush_shahbo_k$();
    this.writable_1.release_wu5yyf_k$();
  }
  this.slot_1.cancel_9i2dv0_k$(cause);
  return true;
};
protoOf(ByteChannelSequentialBase).transferTo_ctiqwx_k$ = function (dst, limit) {
  var size = this.readable_1.get_remaining_mwegr1_k$();
  var tmp;
  if (compare(size, limit) <= 0) {
    dst.writable_1.writePacket_e1h3qk_k$(this.readable_1);
    dst.afterWrite_qybsg5_k$(convertToInt(size));
    this.afterRead_biie6i_k$(convertToInt(size));
    tmp = size;
  } else {
    tmp = new Long(0, 0);
  }
  return tmp;
};
protoOf(ByteChannelSequentialBase).afterWrite_qybsg5_k$ = function (count) {
  addBytesWritten(this, count);
  if (this.get_closed_byjrzp_k$()) {
    this.writable_1.release_wu5yyf_k$();
    ensureNotClosed(this);
  }
  if (this.get_autoFlush_zfdl3o_k$() || this.get_availableForWrite_22rgeu_k$() === 0) {
    this.flush_shahbo_k$();
  }
};
protoOf(ByteChannelSequentialBase).awaitFreeSpace_pdr1rh_k$ = function ($completion) {
  var tmp = new $awaitFreeSpaceCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).awaitContent_64bnuc_k$ = function ($completion) {
  var tmp = new $awaitContentCOROUTINE$(this, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelSequentialBase).peekTo_ypcho2_k$ = function (destination, destinationOffset, offset, min, max, $completion) {
  var tmp = new $peekToCOROUTINE$(this, destination, destinationOffset, offset, min, max, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
function get_EXPECTED_CAPACITY() {
  return EXPECTED_CAPACITY;
}
var EXPECTED_CAPACITY;
function copyAndClose(_this__u8e3s4, dst, limit, $completion) {
  limit = limit === VOID ? new Long(-1, 2147483647) : limit;
  var tmp = new $copyAndCloseCOROUTINE$(_this__u8e3s4, dst, limit, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function cancel(_this__u8e3s4) {
  return _this__u8e3s4.cancel_e74who_k$(null);
}
function readAvailable(_this__u8e3s4, dst, $completion) {
  return _this__u8e3s4.readAvailable_xlipkq_k$(dst, 0, dst.length, $completion);
}
function $copyAndCloseCOROUTINE$(_this__u8e3s4, dst, limit, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.limit_1 = limit;
}
protoOf($copyAndCloseCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = copyTo(this._this__u8e3s4__1, this.dst_1, this.limit_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          var count = suspendResult;
          close_0(this.dst_1);
          return count;
        case 2:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 2) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function close_0(_this__u8e3s4) {
  return _this__u8e3s4.close_ukldxa_k$(null);
}
function ClosedWriteChannelException(message) {
  CancellationException_init_$Init$(message, this);
  captureStack(this, ClosedWriteChannelException);
}
function get_CLOSED_SUCCESS() {
  _init_properties_CloseElement_kt__5e72ik();
  return CLOSED_SUCCESS;
}
var CLOSED_SUCCESS;
function CloseElement(cause) {
  this.cause_1 = cause;
}
protoOf(CloseElement).get_cause_iplhs0_k$ = function () {
  return this.cause_1;
};
var properties_initialized_CloseElement_kt_clkism;
function _init_properties_CloseElement_kt__5e72ik() {
  if (!properties_initialized_CloseElement_kt_clkism) {
    properties_initialized_CloseElement_kt_clkism = true;
    CLOSED_SUCCESS = new CloseElement(null);
  }
}
function WriterJob() {
}
function writer(_this__u8e3s4, coroutineContext, autoFlush, block) {
  coroutineContext = coroutineContext === VOID ? EmptyCoroutineContext_getInstance() : coroutineContext;
  autoFlush = autoFlush === VOID ? false : autoFlush;
  return launchChannel(_this__u8e3s4, coroutineContext, ByteChannel_0(autoFlush), true, block);
}
function WriterScope() {
}
function _get_delegate__idh0py($this) {
  return $this.delegate_1;
}
function ChannelJob(delegate, channel) {
  this.delegate_1 = delegate;
  this.channel_1 = channel;
}
protoOf(ChannelJob).get_channel_dhi7tm_k$ = function () {
  return this.channel_1;
};
protoOf(ChannelJob).get_children_4cwbp4_k$ = function () {
  return this.delegate_1.get_children_4cwbp4_k$();
};
protoOf(ChannelJob).get_isActive_quafmh_k$ = function () {
  return this.delegate_1.get_isActive_quafmh_k$();
};
protoOf(ChannelJob).get_isCancelled_trk8pu_k$ = function () {
  return this.delegate_1.get_isCancelled_trk8pu_k$();
};
protoOf(ChannelJob).get_isCompleted_a6j6c8_k$ = function () {
  return this.delegate_1.get_isCompleted_a6j6c8_k$();
};
protoOf(ChannelJob).get_key_18j28a_k$ = function () {
  return this.delegate_1.get_key_18j28a_k$();
};
protoOf(ChannelJob).get_onJoin_hnj4j6_k$ = function () {
  return this.delegate_1.get_onJoin_hnj4j6_k$();
};
protoOf(ChannelJob).get_parent_hy4reb_k$ = function () {
  return this.delegate_1.get_parent_hy4reb_k$();
};
protoOf(ChannelJob).attachChild_314ws0_k$ = function (child) {
  return this.delegate_1.attachChild_314ws0_k$(child);
};
protoOf(ChannelJob).cancel_2l89ey_k$ = function () {
  this.delegate_1.cancel_2l89ey_k$();
};
protoOf(ChannelJob).cancel_e74who_k$ = function (cause) {
  return this.delegate_1.cancel_e74who_k$(cause);
};
protoOf(ChannelJob).cancel_hkmm2i_k$ = function (cause) {
  this.delegate_1.cancel_hkmm2i_k$(cause);
};
protoOf(ChannelJob).fold_j2vaxd_k$ = function (initial, operation) {
  return this.delegate_1.fold_j2vaxd_k$(initial, operation);
};
protoOf(ChannelJob).get_y2st91_k$ = function (key) {
  return this.delegate_1.get_y2st91_k$(key);
};
protoOf(ChannelJob).getCancellationException_8i1q6u_k$ = function () {
  return this.delegate_1.getCancellationException_8i1q6u_k$();
};
protoOf(ChannelJob).invokeOnCompletion_sct3wq_k$ = function (onCancelling, invokeImmediately, handler) {
  return this.delegate_1.invokeOnCompletion_sct3wq_k$(onCancelling, invokeImmediately, handler);
};
protoOf(ChannelJob).invokeOnCompletion_n6cffu_k$ = function (handler) {
  return this.delegate_1.invokeOnCompletion_n6cffu_k$(handler);
};
protoOf(ChannelJob).join_o20dar_k$ = function ($completion) {
  return this.delegate_1.join_o20dar_k$($completion);
};
protoOf(ChannelJob).minusKey_9i5ggf_k$ = function (key) {
  return this.delegate_1.minusKey_9i5ggf_k$(key);
};
protoOf(ChannelJob).plus_s13ygv_k$ = function (context) {
  return this.delegate_1.plus_s13ygv_k$(context);
};
protoOf(ChannelJob).plus_x16axj_k$ = function (other) {
  return this.delegate_1.plus_x16axj_k$(other);
};
protoOf(ChannelJob).start_1tchgi_k$ = function () {
  return this.delegate_1.start_1tchgi_k$();
};
protoOf(ChannelJob).toString = function () {
  return 'ChannelJob[' + toString(this.delegate_1) + ']';
};
function launchChannel(_this__u8e3s4, context, channel, attachJob, block) {
  var dispatcher = _this__u8e3s4.get_coroutineContext_115oqo_k$().get_y2st91_k$(Key_getInstance());
  var job = launch(_this__u8e3s4, context, VOID, launchChannel$slambda_0(attachJob, channel, block, dispatcher, null));
  job.invokeOnCompletion_n6cffu_k$(launchChannel$lambda(channel));
  return new ChannelJob(job, channel);
}
function ReaderJob() {
}
function ChannelScope(delegate, channel) {
  this.channel_1 = channel;
  this.$$delegate_0__1 = delegate;
}
protoOf(ChannelScope).get_channel_dhi7tm_k$ = function () {
  return this.channel_1;
};
protoOf(ChannelScope).get_coroutineContext_115oqo_k$ = function () {
  return this.$$delegate_0__1.get_coroutineContext_115oqo_k$();
};
function ReaderScope() {
}
function launchChannel$slambda($attachJob, $channel, $block, $dispatcher, resultContinuation) {
  this.$attachJob_1 = $attachJob;
  this.$channel_1 = $channel;
  this.$block_1 = $block;
  this.$dispatcher_1 = $dispatcher;
  CoroutineImpl.call(this, resultContinuation);
}
protoOf(launchChannel$slambda).invoke_d9fzmj_k$ = function ($this$launch, $completion) {
  var tmp = this.create_rcuf4x_k$($this$launch, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(launchChannel$slambda).invoke_qns8j1_k$ = function (p1, $completion) {
  return this.invoke_d9fzmj_k$((!(p1 == null) ? isInterface(p1, CoroutineScope) : false) ? p1 : THROW_CCE(), $completion);
};
protoOf(launchChannel$slambda).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this.$attachJob_1) {
            this.$channel_1.attachJob_s2t2tl_k$(ensureNotNull(this.$this$launch_1.get_coroutineContext_115oqo_k$().get_y2st91_k$(Key_getInstance_0())));
          }

          var tmp_0 = new ChannelScope(this.$this$launch_1, this.$channel_1);
          var scope = isInterface(tmp_0, CoroutineScope) ? tmp_0 : THROW_CCE();
          this.set_exceptionState_fex74n_k$(2);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this.$block_1(scope, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(4);
          continue $sm;
        case 2:
          this.set_exceptionState_fex74n_k$(3);
          var tmp_1 = this.get_exception_x0n6w6_k$();
          if (tmp_1 instanceof Error) {
            var cause = this.get_exception_x0n6w6_k$();
            if (!equals(this.$dispatcher_1, Dispatchers_getInstance().get_Unconfined_sfvx0q_k$()) && !(this.$dispatcher_1 == null)) {
              throw cause;
            }
            this.$channel_1.cancel_e74who_k$(cause);
            this.set_state_rjd8d0_k$(4);
            continue $sm;
          } else {
            throw this.get_exception_x0n6w6_k$();
          }

        case 3:
          throw this.get_exception_x0n6w6_k$();
        case 4:
          this.set_exceptionState_fex74n_k$(3);
          return Unit_getInstance();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
protoOf(launchChannel$slambda).create_rcuf4x_k$ = function ($this$launch, completion) {
  var i = new launchChannel$slambda(this.$attachJob_1, this.$channel_1, this.$block_1, this.$dispatcher_1, completion);
  i.$this$launch_1 = $this$launch;
  return i;
};
protoOf(launchChannel$slambda).create_wyq9v6_k$ = function (value, completion) {
  return this.create_rcuf4x_k$((!(value == null) ? isInterface(value, CoroutineScope) : false) ? value : THROW_CCE(), completion);
};
function launchChannel$slambda_0($attachJob, $channel, $block, $dispatcher, resultContinuation) {
  var i = new launchChannel$slambda($attachJob, $channel, $block, $dispatcher, resultContinuation);
  var l = function ($this$launch, $completion) {
    return i.invoke_d9fzmj_k$($this$launch, $completion);
  };
  l.$arity = 1;
  return l;
}
function launchChannel$lambda($channel) {
  return function (cause) {
    $channel.close_ukldxa_k$(cause);
    return Unit_getInstance();
  };
}
function unwrapCancellationException(_this__u8e3s4) {
  var exception = _this__u8e3s4;
  $l$loop: while (exception instanceof CancellationException) {
    if (equals(exception, exception.cause)) {
      return _this__u8e3s4;
    }
    var tmp0_elvis_lhs = exception.cause;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return exception;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    exception = tmp;
  }
  return exception;
}
function ReadSession() {
}
function SuspendableReadSession() {
}
function HasReadSession() {
}
function WriterSuspendSession() {
}
function HasWriteSession() {
}
function WriterSession() {
}
function get_highByte(_this__u8e3s4) {
  return toByte(_this__u8e3s4 >>> 8 | 0);
}
function get_lowByte(_this__u8e3s4) {
  return toByte(_this__u8e3s4 & 255);
}
function get_highShort(_this__u8e3s4) {
  return toShort(_this__u8e3s4 >>> 16 | 0);
}
function get_lowShort(_this__u8e3s4) {
  return toShort(_this__u8e3s4 & 65535);
}
function get_highInt(_this__u8e3s4) {
  return convertToInt(shiftRightUnsigned(_this__u8e3s4, 32));
}
function get_lowInt(_this__u8e3s4) {
  return convertToInt(bitwiseAnd(_this__u8e3s4, new Long(-1, 0)));
}
function get(_this__u8e3s4, index) {
  // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
  return _this__u8e3s4.get_view_wow8a6_k$().getInt8(index);
}
function set(_this__u8e3s4, index, value) {
  // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
  _this__u8e3s4.get_view_wow8a6_k$().setInt8(index, value);
  return Unit_getInstance();
}
function Allocator() {
}
function storeByteArray(_this__u8e3s4, offset, source, sourceOffset, count) {
  sourceOffset = sourceOffset === VOID ? 0 : sourceOffset;
  count = count === VOID ? source.length - sourceOffset | 0 : count;
  // Inline function 'io.ktor.utils.io.bits.useMemory' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlin.let' call
  of_0(Companion_getInstance_4(), source, sourceOffset, count).copyTo_fgxuoj_k$(_this__u8e3s4, 0, count, offset);
}
function loadByteArray(_this__u8e3s4, offset, destination, destinationOffset, count) {
  destinationOffset = destinationOffset === VOID ? 0 : destinationOffset;
  count = count === VOID ? destination.length - destinationOffset | 0 : count;
  copyTo_3(_this__u8e3s4, destination, offset, count, destinationOffset);
}
function decode(_this__u8e3s4, input, max) {
  max = max === VOID ? 2147483647 : max;
  var tmp0 = fromInt(max);
  // Inline function 'kotlin.comparisons.minOf' call
  var b = sizeEstimate(input);
  var tmp$ret$0 = compare(tmp0, b) <= 0 ? tmp0 : b;
  // Inline function 'kotlin.text.buildString' call
  var capacity = convertToInt(tmp$ret$0);
  // Inline function 'kotlin.apply' call
  var this_0 = StringBuilder_init_$Create$_0(capacity);
  decode_0(_this__u8e3s4, input, this_0, max);
  return this_0.toString();
}
function encode(_this__u8e3s4, input, fromIndex, toIndex) {
  fromIndex = fromIndex === VOID ? 0 : fromIndex;
  toIndex = toIndex === VOID ? charSequenceLength(input) : toIndex;
  var tmp$ret$2;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.buildPacket' call
    // Inline function 'kotlin.contracts.contract' call
    var builder = new BytePacketBuilder();
    try {
      encodeToImpl(_this__u8e3s4, builder, input, fromIndex, toIndex);
      tmp$ret$2 = builder.build_1k0s4u_k$();
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var t = $p;
        builder.release_wu5yyf_k$();
        throw t;
      } else {
        throw $p;
      }
    }
  }
  return tmp$ret$2;
}
function sizeEstimate(_this__u8e3s4) {
  var tmp;
  if (_this__u8e3s4 instanceof ByteReadPacket) {
    tmp = _this__u8e3s4.get_remaining_mwegr1_k$();
  } else {
    var tmp0 = _this__u8e3s4.get_remaining_mwegr1_k$();
    // Inline function 'kotlin.comparisons.maxOf' call
    var b = new Long(16, 0);
    tmp = compare(tmp0, b) >= 0 ? tmp0 : b;
  }
  return tmp;
}
function encodeToImpl(_this__u8e3s4, destination, input, fromIndex, toIndex) {
  var start = fromIndex;
  if (start >= toIndex)
    return 0;
  var bytesWritten = 0;
  // Inline function 'io.ktor.utils.io.core.writeWhileSize' call
  var tail = prepareWriteHead(destination, 1, null);
  try {
    var size;
    $l$loop: while (true) {
      var view = tail;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      var before = view.get_limit_iuokuq_k$() - view.get_writePosition_jdt81t_k$() | 0;
      var rc = encodeImpl(_this__u8e3s4, input, start, toIndex, view);
      // Inline function 'kotlin.check' call
      if (!(rc >= 0)) {
        throw IllegalStateException_init_$Create$('Check failed.');
      }
      start = start + rc | 0;
      var tmp = bytesWritten;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      bytesWritten = tmp + (before - (view.get_limit_iuokuq_k$() - view.get_writePosition_jdt81t_k$() | 0) | 0) | 0;
      size = start >= toIndex ? 0 : rc === 0 ? 8 : 1;
      if (size <= 0)
        break $l$loop;
      tail = prepareWriteHead(destination, size, tail);
    }
  }finally {
    destination.afterHeadWrite_tn4qvy_k$();
  }
  bytesWritten = bytesWritten + encodeCompleteImpl(_this__u8e3s4, destination) | 0;
  return bytesWritten;
}
function encodeCompleteImpl(_this__u8e3s4, dst) {
  var size = 1;
  var bytesWritten = 0;
  // Inline function 'io.ktor.utils.io.core.writeWhile' call
  var tail = prepareWriteHead(dst, 1, null);
  try {
    $l$loop: while (true) {
      var view = tail;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      var before = view.get_limit_iuokuq_k$() - view.get_writePosition_jdt81t_k$() | 0;
      if (encodeComplete(_this__u8e3s4, view)) {
        size = 0;
      } else {
        size = size + 1 | 0;
      }
      var tmp = bytesWritten;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      bytesWritten = tmp + (before - (view.get_limit_iuokuq_k$() - view.get_writePosition_jdt81t_k$() | 0) | 0) | 0;
      if (!(size > 0))
        break $l$loop;
      tail = prepareWriteHead(dst, 1, tail);
    }
  }finally {
    dst.afterHeadWrite_tn4qvy_k$();
  }
  return bytesWritten;
}
function encode_0(_this__u8e3s4, input, fromIndex, toIndex, dst) {
  var start = fromIndex;
  if (start >= toIndex)
    return Unit_getInstance();
  // Inline function 'io.ktor.utils.io.core.writeWhileSize' call
  var tail = prepareWriteHead(dst, 1, null);
  try {
    var size;
    $l$loop: while (true) {
      var view = tail;
      var rc = encodeArrayImpl(_this__u8e3s4, input, start, toIndex, view);
      // Inline function 'kotlin.check' call
      if (!(rc >= 0)) {
        throw IllegalStateException_init_$Create$('Check failed.');
      }
      start = start + rc | 0;
      size = start >= toIndex ? 0 : rc === 0 ? 8 : 1;
      if (size <= 0)
        break $l$loop;
      tail = prepareWriteHead(dst, size, tail);
    }
  }finally {
    dst.afterHeadWrite_tn4qvy_k$();
  }
  encodeCompleteImpl(_this__u8e3s4, dst);
}
function encodeArrayImpl(_this__u8e3s4, input, fromIndex, toIndex, dst) {
  var length = toIndex - fromIndex | 0;
  return encodeImpl(_this__u8e3s4, new CharArraySequence(input, fromIndex, length), 0, length, dst);
}
function TooLongLineException(message) {
  MalformedInputException.call(this, message);
  captureStack(this, TooLongLineException);
}
function _set_readPosition__n6qkdk($this, _set____db54di) {
  $this.readPosition_1 = _set____db54di;
}
function _set_writePosition__sxej31($this, _set____db54di) {
  $this.writePosition_1 = _set____db54di;
}
function _set_startGap__236j43($this, _set____db54di) {
  $this.startGap_1 = _set____db54di;
}
function _set_limit__hazgmi($this, _set____db54di) {
  $this.limit_1 = _set____db54di;
}
function Companion() {
  Companion_instance = this;
  this.ReservedSize_1 = 8;
}
protoOf(Companion).get_ReservedSize_b4jt5a_k$ = function () {
  return this.ReservedSize_1;
};
protoOf(Companion).get_Empty_i9b85g_k$ = function () {
  return Companion_getInstance_2().get_Empty_i9b85g_k$();
};
var Companion_instance;
function Companion_getInstance() {
  if (Companion_instance == null)
    new Companion();
  return Companion_instance;
}
function Buffer(memory) {
  Companion_getInstance();
  this.memory_1 = memory;
  this.readPosition_1 = 0;
  this.writePosition_1 = 0;
  this.startGap_1 = 0;
  var tmp = this;
  // Inline function 'io.ktor.utils.io.bits.Memory.size32' call
  tmp.limit_1 = this.memory_1.get_view_wow8a6_k$().byteLength;
  var tmp_0 = this;
  // Inline function 'io.ktor.utils.io.bits.Memory.size32' call
  tmp_0.capacity_1 = this.memory_1.get_view_wow8a6_k$().byteLength;
}
protoOf(Buffer).get_memory_gl4362_k$ = function () {
  return this.memory_1;
};
protoOf(Buffer).get_readPosition_70qxnc_k$ = function () {
  return this.readPosition_1;
};
protoOf(Buffer).get_writePosition_jdt81t_k$ = function () {
  return this.writePosition_1;
};
protoOf(Buffer).get_startGap_a0yplv_k$ = function () {
  return this.startGap_1;
};
protoOf(Buffer).get_limit_iuokuq_k$ = function () {
  return this.limit_1;
};
protoOf(Buffer).get_endGap_cxioec_k$ = function () {
  return this.capacity_1 - this.limit_1 | 0;
};
protoOf(Buffer).get_capacity_wxbgcd_k$ = function () {
  return this.capacity_1;
};
protoOf(Buffer).get_readRemaining_ieclyh_k$ = function () {
  return this.writePosition_1 - this.readPosition_1 | 0;
};
protoOf(Buffer).get_writeRemaining_ojcrfk_k$ = function () {
  return this.limit_1 - this.writePosition_1 | 0;
};
protoOf(Buffer).discardExact_11sae1_k$ = function (count) {
  if (count === 0)
    return Unit_getInstance();
  var newReadPosition = this.readPosition_1 + count | 0;
  if (count < 0 || newReadPosition > this.writePosition_1) {
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    var tmp$ret$1 = this.writePosition_1 - this.readPosition_1 | 0;
    discardFailed(count, tmp$ret$1);
  }
  this.readPosition_1 = newReadPosition;
};
protoOf(Buffer).discardExact$default_ilucj7_k$ = function (count, $super) {
  var tmp;
  if (count === VOID) {
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    tmp = this.writePosition_1 - this.readPosition_1 | 0;
  } else {
    tmp = count;
  }
  count = tmp;
  var tmp_0;
  if ($super === VOID) {
    this.discardExact_11sae1_k$(count);
    tmp_0 = Unit_getInstance();
  } else {
    tmp_0 = $super.discardExact_11sae1_k$.call(this, count);
  }
  return tmp_0;
};
protoOf(Buffer).commitWritten_tkztjs_k$ = function (count) {
  var newWritePosition = this.writePosition_1 + count | 0;
  if (count < 0 || newWritePosition > this.limit_1) {
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    var tmp$ret$0 = this.limit_1 - this.writePosition_1 | 0;
    commitWrittenFailed(count, tmp$ret$0);
  }
  this.writePosition_1 = newWritePosition;
};
protoOf(Buffer).commitWrittenUntilIndex_p5vt7t_k$ = function (position) {
  var limit = this.limit_1;
  if (position < this.writePosition_1) {
    var tmp = position - this.writePosition_1 | 0;
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    var tmp$ret$0 = this.limit_1 - this.writePosition_1 | 0;
    commitWrittenFailed(tmp, tmp$ret$0);
  }
  if (position >= limit) {
    if (position === limit) {
      this.writePosition_1 = position;
      return false;
    }
    var tmp_0 = position - this.writePosition_1 | 0;
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    var tmp$ret$1 = this.limit_1 - this.writePosition_1 | 0;
    commitWrittenFailed(tmp_0, tmp$ret$1);
  }
  this.writePosition_1 = position;
  return true;
};
protoOf(Buffer).discardUntilIndex_oonpdx_k$ = function (position) {
  if (position < 0 || position > this.writePosition_1) {
    var tmp = position - this.readPosition_1 | 0;
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    var tmp$ret$0 = this.writePosition_1 - this.readPosition_1 | 0;
    discardFailed(tmp, tmp$ret$0);
  }
  if (!(this.readPosition_1 === position)) {
    this.readPosition_1 = position;
  }
};
protoOf(Buffer).rewind_gfqr1p_k$ = function (count) {
  var newReadPosition = this.readPosition_1 - count | 0;
  if (newReadPosition < this.startGap_1) {
    rewindFailed(count, this.readPosition_1 - this.startGap_1 | 0);
  }
  this.readPosition_1 = newReadPosition;
};
protoOf(Buffer).rewind$default_x2qhrh_k$ = function (count, $super) {
  count = count === VOID ? this.readPosition_1 - this.startGap_1 | 0 : count;
  var tmp;
  if ($super === VOID) {
    this.rewind_gfqr1p_k$(count);
    tmp = Unit_getInstance();
  } else {
    tmp = $super.rewind_gfqr1p_k$.call(this, count);
  }
  return tmp;
};
protoOf(Buffer).reserveStartGap_819mco_k$ = function (startGap) {
  // Inline function 'kotlin.require' call
  if (!(startGap >= 0)) {
    var message = "startGap shouldn't be negative: " + startGap;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  if (this.readPosition_1 >= startGap) {
    this.startGap_1 = startGap;
    return Unit_getInstance();
  }
  if (this.readPosition_1 === this.writePosition_1) {
    if (startGap > this.limit_1) {
      startGapReservationFailedDueToLimit(this, startGap);
    }
    this.writePosition_1 = startGap;
    this.readPosition_1 = startGap;
    this.startGap_1 = startGap;
    return Unit_getInstance();
  }
  startGapReservationFailed(this, startGap);
};
protoOf(Buffer).reserveEndGap_i4z3fz_k$ = function (endGap) {
  // Inline function 'kotlin.require' call
  if (!(endGap >= 0)) {
    var message = "endGap shouldn't be negative: " + endGap;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var newLimit = this.capacity_1 - endGap | 0;
  if (newLimit >= this.writePosition_1) {
    this.limit_1 = newLimit;
    return Unit_getInstance();
  }
  if (newLimit < 0) {
    endGapReservationFailedDueToCapacity(this, endGap);
  }
  if (newLimit < this.startGap_1) {
    endGapReservationFailedDueToStartGap(this, endGap);
  }
  if (this.readPosition_1 === this.writePosition_1) {
    this.limit_1 = newLimit;
    this.readPosition_1 = newLimit;
    this.writePosition_1 = newLimit;
    return Unit_getInstance();
  }
  endGapReservationFailedDueToContent(this, endGap);
};
protoOf(Buffer).resetForRead_c5oulc_k$ = function () {
  this.startGap_1 = 0;
  this.readPosition_1 = 0;
  var capacity = this.capacity_1;
  this.writePosition_1 = capacity;
};
protoOf(Buffer).resetForWrite_2oalv9_k$ = function () {
  this.resetForWrite_c461wd_k$(this.capacity_1 - this.startGap_1 | 0);
};
protoOf(Buffer).resetForWrite_c461wd_k$ = function (limit) {
  var startGap = this.startGap_1;
  this.readPosition_1 = startGap;
  this.writePosition_1 = startGap;
  this.limit_1 = limit;
};
protoOf(Buffer).releaseGaps_uwwf1d_k$ = function () {
  this.releaseStartGap_eb14z2_k$(0);
  this.releaseEndGap_khqsu5_k$();
};
protoOf(Buffer).releaseEndGap_khqsu5_k$ = function () {
  this.limit_1 = this.capacity_1;
};
protoOf(Buffer).releaseStartGap_eb14z2_k$ = function (newReadPosition) {
  // Inline function 'kotlin.require' call
  if (!(newReadPosition >= 0)) {
    var message = "newReadPosition shouldn't be negative: " + newReadPosition;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.require' call
  if (!(newReadPosition <= this.readPosition_1)) {
    var message_0 = "newReadPosition shouldn't be ahead of the read position: " + newReadPosition + ' > ' + this.readPosition_1;
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  this.readPosition_1 = newReadPosition;
  if (this.startGap_1 > newReadPosition) {
    this.startGap_1 = newReadPosition;
  }
};
protoOf(Buffer).duplicateTo_5gqm85_k$ = function (copy) {
  copy.limit_1 = this.limit_1;
  copy.startGap_1 = this.startGap_1;
  copy.readPosition_1 = this.readPosition_1;
  copy.writePosition_1 = this.writePosition_1;
};
protoOf(Buffer).duplicate_jvgc97_k$ = function () {
  // Inline function 'kotlin.apply' call
  var this_0 = new Buffer(this.memory_1);
  this_0.duplicateTo_5gqm85_k$(this_0);
  return this_0;
};
protoOf(Buffer).tryPeekByte_ple8ke_k$ = function () {
  var readPosition = this.readPosition_1;
  if (readPosition === this.writePosition_1)
    return -1;
  // Inline function 'io.ktor.utils.io.bits.get' call
  // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
  return this.memory_1.get_view_wow8a6_k$().getInt8(readPosition) & 255;
};
protoOf(Buffer).tryReadByte_a7i2zd_k$ = function () {
  var readPosition = this.readPosition_1;
  if (readPosition === this.writePosition_1)
    return -1;
  this.readPosition_1 = readPosition + 1 | 0;
  // Inline function 'io.ktor.utils.io.bits.get' call
  // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
  return this.memory_1.get_view_wow8a6_k$().getInt8(readPosition) & 255;
};
protoOf(Buffer).readByte_ectjk2_k$ = function () {
  var readPosition = this.readPosition_1;
  if (readPosition === this.writePosition_1) {
    throw new EOFException('No readable bytes available.');
  }
  this.readPosition_1 = readPosition + 1 | 0;
  // Inline function 'io.ktor.utils.io.bits.get' call
  // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
  return this.memory_1.get_view_wow8a6_k$().getInt8(readPosition);
};
protoOf(Buffer).writeByte_9ih3z3_k$ = function (value) {
  var writePosition = this.writePosition_1;
  if (writePosition === this.limit_1) {
    throw new InsufficientSpaceException('No free space in the buffer to write a byte');
  }
  // Inline function 'io.ktor.utils.io.bits.set' call
  // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
  this.memory_1.get_view_wow8a6_k$().setInt8(writePosition, value);
  this.writePosition_1 = writePosition + 1 | 0;
};
protoOf(Buffer).reset_5u6xz3_k$ = function () {
  this.releaseGaps_uwwf1d_k$();
  this.resetForWrite_2oalv9_k$();
};
protoOf(Buffer).toString = function () {
  var tmp = 'Buffer[0x' + toString_0(hashCode(this), 16) + ']';
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var tmp_0 = this.writePosition_1 - this.readPosition_1 | 0;
  // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
  var tmp_1 = this.limit_1 - this.writePosition_1 | 0;
  var tmp_2 = this.startGap_1;
  // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
  return tmp + ('(' + tmp_0 + ' used, ' + tmp_1 + ' free, ' + (tmp_2 + (this.capacity_1 - this.limit_1 | 0) | 0) + ' reserved of ' + this.capacity_1 + ')');
};
function canRead(_this__u8e3s4) {
  return _this__u8e3s4.writePosition_1 > _this__u8e3s4.readPosition_1;
}
function discardFailed(count, readRemaining) {
  throw new EOFException('Unable to discard ' + count + ' bytes: only ' + readRemaining + ' available for reading');
}
function commitWrittenFailed(count, writeRemaining) {
  throw new EOFException('Unable to discard ' + count + ' bytes: only ' + writeRemaining + ' available for writing');
}
function rewindFailed(count, rewindRemaining) {
  throw IllegalArgumentException_init_$Create$('Unable to rewind ' + count + ' bytes: only ' + rewindRemaining + ' could be rewinded');
}
function startGapReservationFailedDueToLimit(_this__u8e3s4, startGap) {
  if (startGap > _this__u8e3s4.capacity_1) {
    throw IllegalArgumentException_init_$Create$('Start gap ' + startGap + ' is bigger than the capacity ' + _this__u8e3s4.capacity_1);
  }
  // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
  var tmp$ret$0 = _this__u8e3s4.capacity_1 - _this__u8e3s4.limit_1 | 0;
  throw IllegalStateException_init_$Create$('Unable to reserve ' + startGap + ' start gap: there are already ' + tmp$ret$0 + ' bytes reserved in the end');
}
function startGapReservationFailed(_this__u8e3s4, startGap) {
  var tmp = 'Unable to reserve ' + startGap + ' start gap: ';
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var tmp$ret$0 = _this__u8e3s4.writePosition_1 - _this__u8e3s4.readPosition_1 | 0;
  throw IllegalStateException_init_$Create$(tmp + ('there are already ' + tmp$ret$0 + ' content bytes starting at offset ' + _this__u8e3s4.readPosition_1));
}
function endGapReservationFailedDueToCapacity(_this__u8e3s4, endGap) {
  throw IllegalArgumentException_init_$Create$('End gap ' + endGap + ' is too big: capacity is ' + _this__u8e3s4.capacity_1);
}
function endGapReservationFailedDueToStartGap(_this__u8e3s4, endGap) {
  throw IllegalArgumentException_init_$Create$('End gap ' + endGap + ' is too big: there are already ' + _this__u8e3s4.startGap_1 + ' bytes reserved in the beginning');
}
function endGapReservationFailedDueToContent(_this__u8e3s4, endGap) {
  var tmp = 'Unable to reserve end gap ' + endGap + ':';
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var tmp$ret$0 = _this__u8e3s4.writePosition_1 - _this__u8e3s4.readPosition_1 | 0;
  throw IllegalArgumentException_init_$Create$(tmp + (' there are already ' + tmp$ret$0 + ' content bytes at offset ' + _this__u8e3s4.readPosition_1));
}
function InsufficientSpaceException_init_$Init$(size, availableSpace, $this) {
  InsufficientSpaceException.call($this, 'Not enough free space to write ' + size + ' bytes, available ' + availableSpace + ' bytes.');
  return $this;
}
function InsufficientSpaceException_init_$Create$(size, availableSpace) {
  var tmp = InsufficientSpaceException_init_$Init$(size, availableSpace, objectCreate(protoOf(InsufficientSpaceException)));
  captureStack(tmp, InsufficientSpaceException_init_$Create$);
  return tmp;
}
function InsufficientSpaceException_init_$Init$_0(name, size, availableSpace, $this) {
  InsufficientSpaceException.call($this, 'Not enough free space to write ' + name + ' of ' + size + ' bytes, available ' + availableSpace + ' bytes.');
  return $this;
}
function InsufficientSpaceException_init_$Create$_0(name, size, availableSpace) {
  var tmp = InsufficientSpaceException_init_$Init$_0(name, size, availableSpace, objectCreate(protoOf(InsufficientSpaceException)));
  captureStack(tmp, InsufficientSpaceException_init_$Create$_0);
  return tmp;
}
function InsufficientSpaceException_init_$Init$_1(size, availableSpace, $this) {
  InsufficientSpaceException.call($this, 'Not enough free space to write ' + size.toString() + ' bytes, available ' + availableSpace.toString() + ' bytes.');
  return $this;
}
function InsufficientSpaceException_init_$Create$_1(size, availableSpace) {
  var tmp = InsufficientSpaceException_init_$Init$_1(size, availableSpace, objectCreate(protoOf(InsufficientSpaceException)));
  captureStack(tmp, InsufficientSpaceException_init_$Create$_1);
  return tmp;
}
function InsufficientSpaceException(message) {
  message = message === VOID ? 'Not enough free space' : message;
  Exception_init_$Init$(message, this);
  captureStack(this, InsufficientSpaceException);
}
function restoreStartGap(_this__u8e3s4, size) {
  _this__u8e3s4.releaseStartGap_eb14z2_k$(_this__u8e3s4.readPosition_1 - size | 0);
}
function read(_this__u8e3s4, block) {
  // Inline function 'kotlin.contracts.contract' call
  var rc = block(_this__u8e3s4.memory_1, _this__u8e3s4.readPosition_1, _this__u8e3s4.writePosition_1);
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return rc;
}
function write(_this__u8e3s4, block) {
  // Inline function 'kotlin.contracts.contract' call
  var rc = block(_this__u8e3s4.memory_1, _this__u8e3s4.writePosition_1, _this__u8e3s4.limit_1);
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
  return rc;
}
function writeBufferAppend(_this__u8e3s4, other, maxSize) {
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  // Inline function 'kotlin.comparisons.minOf' call
  var a = other.get_writePosition_jdt81t_k$() - other.get_readPosition_70qxnc_k$() | 0;
  var size = Math.min(a, maxSize);
  // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
  if ((_this__u8e3s4.get_limit_iuokuq_k$() - _this__u8e3s4.get_writePosition_jdt81t_k$() | 0) <= size) {
    writeBufferAppendUnreserve(_this__u8e3s4, size);
  }
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  _this__u8e3s4.get_limit_iuokuq_k$();
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0_0 = other.get_memory_gl4362_k$();
  var tmp2_0 = other.get_readPosition_70qxnc_k$();
  other.get_writePosition_jdt81t_k$();
  tmp0_0.copyTo_fgxuoj_k$(tmp0, tmp2_0, size, tmp2);
  var rc = size;
  other.discardExact_11sae1_k$(rc);
  var rc_0 = rc;
  _this__u8e3s4.commitWritten_tkztjs_k$(rc_0);
  return rc_0;
}
function writeBufferPrepend(_this__u8e3s4, other) {
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var size = other.get_writePosition_jdt81t_k$() - other.get_readPosition_70qxnc_k$() | 0;
  var readPosition = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if (readPosition < size) {
    throw IllegalArgumentException_init_$Create$('Not enough space in the beginning to prepend bytes');
  }
  var newReadPosition = readPosition - size | 0;
  other.get_memory_gl4362_k$().copyTo_fgxuoj_k$(_this__u8e3s4.get_memory_gl4362_k$(), other.get_readPosition_70qxnc_k$(), size, newReadPosition);
  other.discardExact_11sae1_k$(size);
  _this__u8e3s4.releaseStartGap_eb14z2_k$(newReadPosition);
  return size;
}
function writeBufferAppendUnreserve(_this__u8e3s4, writeSize) {
  // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
  var tmp = _this__u8e3s4.get_limit_iuokuq_k$() - _this__u8e3s4.get_writePosition_jdt81t_k$() | 0;
  // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
  if ((tmp + (_this__u8e3s4.get_capacity_wxbgcd_k$() - _this__u8e3s4.get_limit_iuokuq_k$() | 0) | 0) < writeSize) {
    throw IllegalArgumentException_init_$Create$("Can't append buffer: not enough free space at the end");
  }
  var newWritePosition = _this__u8e3s4.get_writePosition_jdt81t_k$() + writeSize | 0;
  var overrunSize = newWritePosition - _this__u8e3s4.get_limit_iuokuq_k$() | 0;
  if (overrunSize > 0) {
    _this__u8e3s4.releaseEndGap_khqsu5_k$();
  }
}
function get_DefaultChunkedBufferPool() {
  _init_properties_BufferFactory_kt__uj6b48();
  return DefaultChunkedBufferPool;
}
var DefaultChunkedBufferPool;
function _get_bufferSize__mp12kq($this) {
  return $this.bufferSize_1;
}
function _get_allocator__hrvkpy($this) {
  return $this.allocator_1;
}
function DefaultBufferPool(bufferSize, capacity, allocator) {
  bufferSize = bufferSize === VOID ? 4096 : bufferSize;
  capacity = capacity === VOID ? 1000 : capacity;
  allocator = allocator === VOID ? DefaultAllocator_getInstance() : allocator;
  DefaultPool.call(this, capacity);
  this.bufferSize_1 = bufferSize;
  this.allocator_1 = allocator;
}
protoOf(DefaultBufferPool).produceInstance_xswihh_k$ = function () {
  return new ChunkBuffer(this.allocator_1.alloc_l8bx4z_k$(this.bufferSize_1), null, this);
};
protoOf(DefaultBufferPool).disposeInstance_w21bki_k$ = function (instance) {
  this.allocator_1.free_r48ke1_k$(instance.get_memory_gl4362_k$());
  protoOf(DefaultPool).disposeInstance_6ek0a2_k$.call(this, instance);
  instance.unlink_qbwysy_k$();
};
protoOf(DefaultBufferPool).disposeInstance_6ek0a2_k$ = function (instance) {
  return this.disposeInstance_w21bki_k$(instance instanceof ChunkBuffer ? instance : THROW_CCE());
};
protoOf(DefaultBufferPool).validateInstance_bdsdgl_k$ = function (instance) {
  protoOf(DefaultPool).validateInstance_6mwbhp_k$.call(this, instance);
  // Inline function 'io.ktor.utils.io.bits.Memory.size' call
  var this_0 = instance.get_memory_gl4362_k$();
  var tmp$ret$0 = fromInt(this_0.get_view_wow8a6_k$().byteLength);
  // Inline function 'kotlin.check' call
  if (!equalsLong(tmp$ret$0, fromInt(this.bufferSize_1))) {
    // Inline function 'io.ktor.utils.io.bits.Memory.size' call
    var this_1 = instance.get_memory_gl4362_k$();
    var tmp$ret$1 = fromInt(this_1.get_view_wow8a6_k$().byteLength);
    var message = 'Buffer size mismatch. Expected: ' + this.bufferSize_1 + ', actual: ' + tmp$ret$1.toString();
    throw IllegalStateException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.check' call
  if (!!(instance === Companion_getInstance_2().get_Empty_i9b85g_k$())) {
    var message_0 = "ChunkBuffer.Empty couldn't be recycled";
    throw IllegalStateException_init_$Create$(toString(message_0));
  }
  // Inline function 'kotlin.check' call
  if (!!(instance === Companion_getInstance().get_Empty_i9b85g_k$())) {
    var message_1 = "Empty instance couldn't be recycled";
    throw IllegalStateException_init_$Create$(toString(message_1));
  }
  // Inline function 'kotlin.check' call
  if (!(instance.get_referenceCount_1ialcd_k$() === 0)) {
    var message_2 = 'Unable to clear buffer: it is still in use.';
    throw IllegalStateException_init_$Create$(toString(message_2));
  }
  // Inline function 'kotlin.check' call
  if (!(instance.get_next_wor1vg_k$() == null)) {
    var message_3 = "Recycled instance shouldn't be a part of a chain.";
    throw IllegalStateException_init_$Create$(toString(message_3));
  }
  // Inline function 'kotlin.check' call
  if (!(instance.get_origin_hq9xkf_k$() == null)) {
    var message_4 = "Recycled instance shouldn't be a view or another buffer.";
    throw IllegalStateException_init_$Create$(toString(message_4));
  }
};
protoOf(DefaultBufferPool).validateInstance_6mwbhp_k$ = function (instance) {
  return this.validateInstance_bdsdgl_k$(instance instanceof ChunkBuffer ? instance : THROW_CCE());
};
protoOf(DefaultBufferPool).clearInstance_c8rk5w_k$ = function (instance) {
  // Inline function 'kotlin.apply' call
  var this_0 = protoOf(DefaultPool).clearInstance_nfz4jw_k$.call(this, instance);
  this_0.unpark_9geoce_k$();
  this_0.reset_5u6xz3_k$();
  return this_0;
};
protoOf(DefaultBufferPool).clearInstance_nfz4jw_k$ = function (instance) {
  return this.clearInstance_c8rk5w_k$(instance instanceof ChunkBuffer ? instance : THROW_CCE());
};
function get_DEFAULT_BUFFER_SIZE() {
  return DEFAULT_BUFFER_SIZE;
}
var DEFAULT_BUFFER_SIZE;
var properties_initialized_BufferFactory_kt_q9tgbq;
function _init_properties_BufferFactory_kt__uj6b48() {
  if (!properties_initialized_BufferFactory_kt_q9tgbq) {
    properties_initialized_BufferFactory_kt_q9tgbq = true;
    DefaultChunkedBufferPool = new DefaultBufferPool();
  }
}
function writeFully(_this__u8e3s4, src, length) {
  // Inline function 'kotlin.require' call
  if (!(length >= 0)) {
    var message = "length shouldn't be negative: " + length;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  // Inline function 'kotlin.require' call
  if (!(length <= (src.get_writePosition_jdt81t_k$() - src.get_readPosition_70qxnc_k$() | 0))) {
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    var message_0 = "length shouldn't be greater than the source read remaining: " + length + ' > ' + (src.get_writePosition_jdt81t_k$() - src.get_readPosition_70qxnc_k$() | 0);
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
  // Inline function 'kotlin.require' call
  if (!(length <= (_this__u8e3s4.get_limit_iuokuq_k$() - _this__u8e3s4.get_writePosition_jdt81t_k$() | 0))) {
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    var message_1 = "length shouldn't be greater than the destination write remaining space: " + length + ' > ' + (_this__u8e3s4.get_limit_iuokuq_k$() - _this__u8e3s4.get_writePosition_jdt81t_k$() | 0);
    throw IllegalArgumentException_init_$Create$(toString(message_1));
  }
  // Inline function 'io.ktor.utils.io.core.writeExact' call
  var name = 'buffer readable content';
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var writeRemaining = _this__u8e3s4.get_limit_iuokuq_k$() - tmp2 | 0;
  if (writeRemaining < length) {
    throw InsufficientSpaceException_init_$Create$_0(name, length, writeRemaining);
  }
  src.get_memory_gl4362_k$().copyTo_fgxuoj_k$(tmp0, src.get_readPosition_70qxnc_k$(), length, tmp2);
  src.discardExact_11sae1_k$(length);
  var rc = length;
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
}
function readFully_0(_this__u8e3s4, destination, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? destination.length - offset | 0 : length;
  readFully_1(_this__u8e3s4 instanceof Buffer ? _this__u8e3s4 : THROW_CCE(), destination, offset, length);
}
function writeShort(_this__u8e3s4, value) {
  // Inline function 'io.ktor.utils.io.core.writeExact' call
  var name = 'short integer';
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var writeRemaining = _this__u8e3s4.get_limit_iuokuq_k$() - tmp2 | 0;
  if (writeRemaining < 2) {
    throw InsufficientSpaceException_init_$Create$_0(name, 2, writeRemaining);
  }
  // Inline function 'io.ktor.utils.io.bits.storeShortAt' call
  tmp0.get_view_wow8a6_k$().setInt16(tmp2, value, false);
  var rc = 2;
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
  return Unit_getInstance();
}
function writeFully_0(_this__u8e3s4, source, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? source.length - offset | 0 : length;
  // Inline function 'io.ktor.utils.io.core.writeExact' call
  var name = 'byte array';
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var writeRemaining = _this__u8e3s4.get_limit_iuokuq_k$() - tmp2 | 0;
  if (writeRemaining < length) {
    throw InsufficientSpaceException_init_$Create$_0(name, length, writeRemaining);
  }
  // Inline function 'io.ktor.utils.io.bits.storeByteArray' call
  // Inline function 'io.ktor.utils.io.bits.useMemory' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlin.let' call
  of_0(Companion_getInstance_4(), source, offset, length).copyTo_fgxuoj_k$(tmp0, 0, length, tmp2);
  var rc = length;
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
}
function writeExact(_this__u8e3s4, size, name, block) {
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var writeRemaining = _this__u8e3s4.get_limit_iuokuq_k$() - tmp2 | 0;
  if (writeRemaining < size) {
    throw InsufficientSpaceException_init_$Create$_0(name, size, writeRemaining);
  }
  block(tmp0, tmp2);
  var rc = size;
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
}
function readFully_1(_this__u8e3s4, destination, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? destination.length - offset | 0 : length;
  // Inline function 'io.ktor.utils.io.core.readExact' call
  var name = 'byte array';
  // Inline function 'kotlin.contracts.contract' call
  var value;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < length) {
    throw new EOFException('Not enough bytes to read a ' + name + ' of size ' + length + '.');
  }
  // Inline function 'io.ktor.utils.io.bits.loadByteArray' call
  copyTo_3(tmp0, destination, tmp2, length, offset);
  value = Unit_getInstance();
  var rc = length;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
}
function readExact(_this__u8e3s4, size, name, block) {
  // Inline function 'kotlin.contracts.contract' call
  var value;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < size) {
    throw new EOFException('Not enough bytes to read a ' + name + ' of size ' + size + '.');
  }
  value = block(tmp0, tmp2);
  var rc = size;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return value;
}
function writeInt(_this__u8e3s4, value) {
  // Inline function 'io.ktor.utils.io.core.writeExact' call
  var name = 'regular integer';
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var writeRemaining = _this__u8e3s4.get_limit_iuokuq_k$() - tmp2 | 0;
  if (writeRemaining < 4) {
    throw InsufficientSpaceException_init_$Create$_0(name, 4, writeRemaining);
  }
  // Inline function 'io.ktor.utils.io.bits.storeIntAt' call
  tmp0.get_view_wow8a6_k$().setInt32(tmp2, value, false);
  var rc = 4;
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
  return Unit_getInstance();
}
function writeLong(_this__u8e3s4, value) {
  // Inline function 'io.ktor.utils.io.core.writeExact' call
  var name = 'long integer';
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var writeRemaining = _this__u8e3s4.get_limit_iuokuq_k$() - tmp2 | 0;
  if (writeRemaining < 8) {
    throw InsufficientSpaceException_init_$Create$_0(name, 8, writeRemaining);
  }
  // Inline function 'io.ktor.utils.io.bits.storeLongAt' call
  tmp0.get_view_wow8a6_k$().setInt32(tmp2, convertToInt(shiftRight(value, 32)), false);
  tmp0.get_view_wow8a6_k$().setInt32(tmp2 + 4 | 0, convertToInt(bitwiseAnd(value, new Long(-1, 0))), false);
  var rc = 8;
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
  return Unit_getInstance();
}
function readShort(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readExact' call
  var name = 'short integer';
  // Inline function 'kotlin.contracts.contract' call
  var value;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < 2) {
    throw new EOFException('Not enough bytes to read a ' + name + ' of size ' + 2 + '.');
  }
  // Inline function 'io.ktor.utils.io.bits.loadShortAt' call
  value = tmp0.get_view_wow8a6_k$().getInt16(tmp2, false);
  var rc = 2;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return value;
}
function readInt(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readExact' call
  var name = 'regular integer';
  // Inline function 'kotlin.contracts.contract' call
  var value;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < 4) {
    throw new EOFException('Not enough bytes to read a ' + name + ' of size ' + 4 + '.');
  }
  // Inline function 'io.ktor.utils.io.bits.loadIntAt' call
  value = tmp0.get_view_wow8a6_k$().getInt32(tmp2, false);
  var rc = 4;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return value;
}
function readLong(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readExact' call
  var name = 'long integer';
  // Inline function 'kotlin.contracts.contract' call
  var value;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < 8) {
    throw new EOFException('Not enough bytes to read a ' + name + ' of size ' + 8 + '.');
  }
  // Inline function 'io.ktor.utils.io.bits.loadLongAt' call
  value = bitwiseOr(shiftLeft(fromInt(tmp0.get_view_wow8a6_k$().getUint32(tmp2, false)), 32), fromInt(tmp0.get_view_wow8a6_k$().getUint32(tmp2 + 4 | 0, false)));
  var rc = 8;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return value;
}
function readFloat(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readExact' call
  var name = 'floating point number';
  // Inline function 'kotlin.contracts.contract' call
  var value;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < 4) {
    throw new EOFException('Not enough bytes to read a ' + name + ' of size ' + 4 + '.');
  }
  // Inline function 'io.ktor.utils.io.bits.loadFloatAt' call
  value = tmp0.get_view_wow8a6_k$().getFloat32(tmp2, false);
  var rc = 4;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return value;
}
function readDouble(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readExact' call
  var name = 'long floating point number';
  // Inline function 'kotlin.contracts.contract' call
  var value;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < 8) {
    throw new EOFException('Not enough bytes to read a ' + name + ' of size ' + 8 + '.');
  }
  // Inline function 'io.ktor.utils.io.bits.loadDoubleAt' call
  value = tmp0.get_view_wow8a6_k$().getFloat64(tmp2, false);
  var rc = 8;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return value;
}
function readFully_2(_this__u8e3s4, dst, length) {
  var tmp;
  if (length === VOID) {
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    tmp = dst.get_limit_iuokuq_k$() - dst.get_writePosition_jdt81t_k$() | 0;
  } else {
    tmp = length;
  }
  length = tmp;
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.require' call
  if (!(length >= 0)) {
    var message = 'Failed requirement.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.require' call
  if (!(length <= (dst.get_limit_iuokuq_k$() - dst.get_writePosition_jdt81t_k$() | 0))) {
    var message_0 = 'Failed requirement.';
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  // Inline function 'io.ktor.utils.io.core.readExact' call
  var name = 'buffer content';
  // Inline function 'kotlin.contracts.contract' call
  var value;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < length) {
    throw new EOFException('Not enough bytes to read a ' + name + ' of size ' + length + '.');
  }
  tmp0.copyTo_fgxuoj_k$(dst.get_memory_gl4362_k$(), tmp2, length, dst.get_writePosition_jdt81t_k$());
  dst.commitWritten_tkztjs_k$(length);
  value = Unit_getInstance();
  var rc = length;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return length;
}
function remainingAll(_this__u8e3s4) {
  return remainingAll_0(_this__u8e3s4, new Long(0, 0));
}
function copyAll(_this__u8e3s4) {
  var copied = _this__u8e3s4.duplicate_jvgc97_k$();
  var tmp0_elvis_lhs = _this__u8e3s4.get_next_wor1vg_k$();
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return copied;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var next = tmp;
  return copyAll_0(next, copied, copied);
}
function findTail(_this__u8e3s4) {
  var $this = _this__u8e3s4;
  $l$1: do {
    $l$0: do {
      var tmp0_elvis_lhs = $this.get_next_wor1vg_k$();
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return $this;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var next = tmp;
      $this = next;
      continue $l$0;
    }
     while (false);
  }
   while (true);
}
function releaseAll(_this__u8e3s4, pool) {
  var current = _this__u8e3s4;
  while (!(current == null)) {
    var next = current.cleanNext_l2yy3o_k$();
    current.release_vbevvg_k$(pool);
    current = next;
  }
}
function forEachChunk(_this__u8e3s4, block) {
  // Inline function 'kotlin.contracts.contract' call
  var current = _this__u8e3s4;
  $l$loop: do {
    block(current);
    var tmp0_elvis_lhs = current.get_next_wor1vg_k$();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$loop;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    current = tmp;
  }
   while (true);
}
function coerceAtMostMaxIntOrFail(_this__u8e3s4, message) {
  if (compare(_this__u8e3s4, new Long(2147483647, 0)) > 0)
    throw IllegalArgumentException_init_$Create$(message);
  return convertToInt(_this__u8e3s4);
}
function remainingAll_0(_this__u8e3s4, n) {
  var $this = _this__u8e3s4;
  var n_0 = n;
  $l$1: do {
    $l$0: do {
      // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
      var this_0 = $this;
      var tmp$ret$0 = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
      var rem = add(fromInt(tmp$ret$0), n_0);
      var tmp0_elvis_lhs = $this.get_next_wor1vg_k$();
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return rem;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var next = tmp;
      $this = next;
      n_0 = rem;
      continue $l$0;
    }
     while (false);
  }
   while (true);
}
function copyAll_0(_this__u8e3s4, head, prev) {
  var $this = _this__u8e3s4;
  var head_0 = head;
  var prev_0 = prev;
  $l$1: do {
    $l$0: do {
      var copied = $this.duplicate_jvgc97_k$();
      prev_0.set_next_v483mr_k$(copied);
      var tmp0_elvis_lhs = $this.get_next_wor1vg_k$();
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return head_0;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var next = tmp;
      var tmp1 = head_0;
      $this = next;
      head_0 = tmp1;
      prev_0 = copied;
      continue $l$0;
    }
     while (false);
  }
   while (true);
}
function buildPacket(block) {
  // Inline function 'kotlin.contracts.contract' call
  var builder = new BytePacketBuilder();
  try {
    block(builder);
    return builder.build_1k0s4u_k$();
  } catch ($p) {
    if ($p instanceof Error) {
      var t = $p;
      builder.release_wu5yyf_k$();
      throw t;
    } else {
      throw $p;
    }
  }
}
function BytePacketBuilder(pool) {
  pool = pool === VOID ? Companion_getInstance_2().get_Pool_wo83gl_k$() : pool;
  Output.call(this, pool);
}
protoOf(BytePacketBuilder).get_size_woubt6_k$ = function () {
  return this.get__size_inpkfr_k$();
};
protoOf(BytePacketBuilder).get_isEmpty_zauvru_k$ = function () {
  return this.get__size_inpkfr_k$() === 0;
};
protoOf(BytePacketBuilder).get_isNotEmpty_7mbqpf_k$ = function () {
  return this.get__size_inpkfr_k$() > 0;
};
protoOf(BytePacketBuilder).get__pool_ihwmeb_k$ = function () {
  return this.get_pool_wosj1h_k$();
};
protoOf(BytePacketBuilder).closeDestination_mr1i3e_k$ = function () {
};
protoOf(BytePacketBuilder).flush_sux9un_k$ = function (source, offset, length) {
};
protoOf(BytePacketBuilder).append_am5a4z_k$ = function (value) {
  var tmp = protoOf(Output).append_am5a4z_k$.call(this, value);
  return tmp instanceof BytePacketBuilder ? tmp : THROW_CCE();
};
protoOf(BytePacketBuilder).append_jgojdo_k$ = function (value) {
  var tmp = protoOf(Output).append_jgojdo_k$.call(this, value);
  return tmp instanceof BytePacketBuilder ? tmp : THROW_CCE();
};
protoOf(BytePacketBuilder).append_xdc1zw_k$ = function (value, startIndex, endIndex) {
  var tmp = protoOf(Output).append_xdc1zw_k$.call(this, value, startIndex, endIndex);
  return tmp instanceof BytePacketBuilder ? tmp : THROW_CCE();
};
protoOf(BytePacketBuilder).build_1k0s4u_k$ = function () {
  var size = this.get_size_woubt6_k$();
  var head = this.stealAll_z3t1nh_k$();
  return head == null ? Companion_getInstance_0().get_Empty_i9b85g_k$() : new ByteReadPacket(head, fromInt(size), this.get_pool_wosj1h_k$());
};
protoOf(BytePacketBuilder).toString = function () {
  return 'BytePacketBuilder[0x' + hashCode(this) + ']';
};
function ByteReadPacket_init_$Init$(head, pool, $this) {
  ByteReadPacket.call($this, head, remainingAll(head), pool);
  return $this;
}
function ByteReadPacket_init_$Create$(head, pool) {
  return ByteReadPacket_init_$Init$(head, pool, objectCreate(protoOf(ByteReadPacket)));
}
function Companion_0() {
  Companion_instance_0 = this;
  this.Empty_1 = new ByteReadPacket(Companion_getInstance_2().get_Empty_i9b85g_k$(), new Long(0, 0), Companion_getInstance_2().get_EmptyPool_i65buo_k$());
}
protoOf(Companion_0).get_Empty_i9b85g_k$ = function () {
  return this.Empty_1;
};
var Companion_instance_0;
function Companion_getInstance_0() {
  if (Companion_instance_0 == null)
    new Companion_0();
  return Companion_instance_0;
}
function ByteReadPacket(head, remaining, pool) {
  Companion_getInstance_0();
  Input.call(this, head, remaining, pool);
  this.markNoMoreChunksAvailable_j25xf4_k$();
}
protoOf(ByteReadPacket).copy_1tks5_k$ = function () {
  return new ByteReadPacket(copyAll(this.get_head_3jiuok_k$()), this.get_remaining_mwegr1_k$(), this.get_pool_wosj1h_k$());
};
protoOf(ByteReadPacket).fill_1vd6r_k$ = function () {
  return null;
};
protoOf(ByteReadPacket).fill_3bipm6_k$ = function (destination, offset, length) {
  return 0;
};
protoOf(ByteReadPacket).closeSource_lb1mzh_k$ = function () {
};
protoOf(ByteReadPacket).toString = function () {
  return 'ByteReadPacket[' + hashCode(this) + ']';
};
function _set_idx__4w7ld4($this, _set____db54di) {
  $this.idx_1 = _set____db54di;
}
function _get_idx__e6a6ic($this) {
  return $this.idx_1;
}
function _set__head__b4pap2($this, newHead) {
  $this._head_1 = newHead;
  $this.headMemory_1 = newHead.get_memory_gl4362_k$();
  $this.headPosition_1 = newHead.get_readPosition_70qxnc_k$();
  $this.headEndExclusive_1 = newHead.get_writePosition_jdt81t_k$();
}
function _get__head__kwf5se($this) {
  return $this._head_1;
}
function doPrefetch($this, min) {
  var tail = findTail($this._head_1);
  // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
  var tmp$ret$0 = $this.headEndExclusive_1 - $this.headPosition_1 | 0;
  var available = add(numberToLong(tmp$ret$0), $this.tailRemaining_1);
  do {
    var next = $this.fill_1vd6r_k$();
    if (next == null) {
      $this.noMoreChunksAvailable_1 = true;
      return false;
    }
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    var chunkSize = next.get_writePosition_jdt81t_k$() - next.get_readPosition_70qxnc_k$() | 0;
    if (tail === Companion_getInstance_2().get_Empty_i9b85g_k$()) {
      _set__head__b4pap2($this, next);
      tail = next;
    } else {
      tail.set_next_v483mr_k$(next);
      // Inline function 'kotlin.Long.plus' call
      var this_0 = $this.tailRemaining_1;
      var tmp$ret$2 = add(this_0, fromInt(chunkSize));
      $this.set_tailRemaining_1tfcjy_k$(tmp$ret$2);
    }
    // Inline function 'kotlin.Long.plus' call
    var this_1 = available;
    available = add(this_1, fromInt(chunkSize));
  }
   while (compare(available, min) < 0);
  return true;
}
function _set_noMoreChunksAvailable__phi5hk($this, _set____db54di) {
  $this.noMoreChunksAvailable_1 = _set____db54di;
}
function _get_noMoreChunksAvailable__vn4hx8($this) {
  return $this.noMoreChunksAvailable_1;
}
function readByteSlow_0($this) {
  var index = $this.headPosition_1;
  if (index < $this.headEndExclusive_1) {
    // Inline function 'io.ktor.utils.io.bits.get' call
    // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
    var value = $this.headMemory_1.get_view_wow8a6_k$().getInt8(index);
    $this.headPosition_1 = index;
    var head = $this._head_1;
    head.discardUntilIndex_oonpdx_k$(index);
    $this.ensureNext_iux6pa_k$(head);
    return value;
  }
  var tmp0_elvis_lhs = $this.prepareRead_vozu80_k$(1);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    prematureEndOfStream(1);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head_0 = tmp;
  var byte = head_0.readByte_ectjk2_k$();
  completeReadHead($this, head_0);
  return byte;
}
function readASCII($this, out, min, max) {
  if (max === 0 && min === 0)
    return 0;
  else if ($this.get_endOfInput_skegkh_k$())
    if (min === 0)
      return 0;
    else {
      atLeastMinCharactersRequire($this, min);
    }
   else if (max < min) {
    minShouldBeLess($this, min, max);
  }
  var copied = 0;
  var utf8 = false;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.takeWhile' call
    var release = true;
    var tmp0_elvis_lhs = prepareReadFirstHead($this, 1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$block;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var current = tmp;
    try {
      $l$loop_0: do {
        var tmp0 = current;
        var tmp$ret$5;
        $l$block_0: {
          // Inline function 'io.ktor.utils.io.core.internal.decodeASCII' call
          // Inline function 'io.ktor.utils.io.core.read' call
          // Inline function 'kotlin.contracts.contract' call
          var tmp0_0 = tmp0.get_memory_gl4362_k$();
          var tmp2 = tmp0.get_readPosition_70qxnc_k$();
          var endExclusive = tmp0.get_writePosition_jdt81t_k$();
          var inductionVariable = tmp2;
          if (inductionVariable < endExclusive)
            do {
              var index = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              // Inline function 'io.ktor.utils.io.bits.get' call
              // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
              var codepoint = tmp0_0.get_view_wow8a6_k$().getInt8(index) & 255;
              var tmp_0;
              if ((codepoint & 128) === 128) {
                tmp_0 = true;
              } else {
                var it = numberToChar(codepoint);
                var tmp_1;
                if (copied === max) {
                  tmp_1 = false;
                } else {
                  out.append_am5a4z_k$(it);
                  copied = copied + 1 | 0;
                  tmp_1 = true;
                }
                tmp_0 = !tmp_1;
              }
              if (tmp_0) {
                tmp0.discardExact_11sae1_k$(index - tmp2 | 0);
                tmp$ret$5 = false;
                break $l$block_0;
              }
            }
             while (inductionVariable < endExclusive);
          var rc = endExclusive - tmp2 | 0;
          tmp0.discardExact_11sae1_k$(rc);
          tmp$ret$5 = true;
        }
        var rc_0 = tmp$ret$5;
        var tmp_2;
        if (rc_0) {
          tmp_2 = true;
        } else if (copied === max) {
          tmp_2 = false;
        } else {
          utf8 = true;
          tmp_2 = false;
        }
        if (!tmp_2) {
          break $l$loop_0;
        }
        release = false;
        var tmp1_elvis_lhs = prepareReadNextHead($this, current);
        var tmp_3;
        if (tmp1_elvis_lhs == null) {
          break $l$loop_0;
        } else {
          tmp_3 = tmp1_elvis_lhs;
        }
        var next = tmp_3;
        current = next;
        release = true;
      }
       while (true);
    }finally {
      if (release) {
        completeReadHead($this, current);
      }
    }
  }
  if (utf8) {
    return copied + readUtf8($this, out, min - copied | 0, max - copied | 0) | 0;
  }
  if (copied < min) {
    prematureEndOfStreamChars($this, min, copied);
  }
  return copied;
}
function atLeastMinCharactersRequire($this, min) {
  throw new EOFException('at least ' + min + ' characters required but no bytes available');
}
function minShouldBeLess($this, min, max) {
  throw IllegalArgumentException_init_$Create$('min should be less or equal to max but min = ' + min + ', max = ' + max);
}
function prematureEndOfStreamChars($this, min, copied) {
  throw new MalformedUTF8InputException('Premature end of stream: expected at least ' + min + ' chars but had only ' + copied);
}
function readUtf8($this, out, min, max) {
  var copied = 0;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.takeWhileSize' call
    var release = true;
    var tmp0_elvis_lhs = prepareReadFirstHead($this, 1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$block;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var current = tmp;
    var size = 1;
    try {
      $l$loop_0: do {
        // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
        var this_0 = current;
        var before = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
        var after;
        if (before >= size) {
          try {
            var tmp0 = current;
            var tmp$ret$6;
            $l$block_3: {
              // Inline function 'io.ktor.utils.io.core.internal.decodeUTF8' call
              var byteCount = 0;
              var value = 0;
              var lastByteCount = 0;
              // Inline function 'io.ktor.utils.io.core.read' call
              // Inline function 'kotlin.contracts.contract' call
              var tmp0_0 = tmp0.get_memory_gl4362_k$();
              var tmp2 = tmp0.get_readPosition_70qxnc_k$();
              var endExclusive = tmp0.get_writePosition_jdt81t_k$();
              var inductionVariable = tmp2;
              if (inductionVariable < endExclusive)
                do {
                  var index = inductionVariable;
                  inductionVariable = inductionVariable + 1 | 0;
                  // Inline function 'io.ktor.utils.io.bits.get' call
                  // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
                  var v = tmp0_0.get_view_wow8a6_k$().getInt8(index) & 255;
                  if ((v & 128) === 0) {
                    if (!(byteCount === 0)) {
                      malformedByteCount(byteCount);
                    }
                    var it = numberToChar(v);
                    var tmp_0;
                    if (copied === max) {
                      tmp_0 = false;
                    } else {
                      out.append_am5a4z_k$(it);
                      copied = copied + 1 | 0;
                      tmp_0 = true;
                    }
                    if (!tmp_0) {
                      tmp0.discardExact_11sae1_k$(index - tmp2 | 0);
                      tmp$ret$6 = -1;
                      break $l$block_3;
                    }
                  } else if (byteCount === 0) {
                    var mask = 128;
                    value = v;
                    var inductionVariable_0 = 1;
                    if (inductionVariable_0 <= 6)
                      $l$loop: do {
                        var i = inductionVariable_0;
                        inductionVariable_0 = inductionVariable_0 + 1 | 0;
                        if (!((value & mask) === 0)) {
                          value = value & ~mask;
                          mask = mask >> 1;
                          byteCount = byteCount + 1 | 0;
                        } else {
                          break $l$loop;
                        }
                      }
                       while (inductionVariable_0 <= 6);
                    lastByteCount = byteCount;
                    byteCount = byteCount - 1 | 0;
                    if (lastByteCount > (endExclusive - index | 0)) {
                      tmp0.discardExact_11sae1_k$(index - tmp2 | 0);
                      tmp$ret$6 = lastByteCount;
                      break $l$block_3;
                    }
                  } else {
                    value = value << 6 | v & 127;
                    byteCount = byteCount - 1 | 0;
                    if (byteCount === 0) {
                      if (isBmpCodePoint(value)) {
                        var it_0 = numberToChar(value);
                        var tmp_1;
                        if (copied === max) {
                          tmp_1 = false;
                        } else {
                          out.append_am5a4z_k$(it_0);
                          copied = copied + 1 | 0;
                          tmp_1 = true;
                        }
                        if (!tmp_1) {
                          tmp0.discardExact_11sae1_k$(((index - tmp2 | 0) - lastByteCount | 0) + 1 | 0);
                          tmp$ret$6 = -1;
                          break $l$block_3;
                        }
                      } else if (!isValidCodePoint(value)) {
                        malformedCodePoint(value);
                      } else {
                        var tmp_2;
                        var it_1 = numberToChar(highSurrogate(value));
                        var tmp_3;
                        if (copied === max) {
                          tmp_3 = false;
                        } else {
                          out.append_am5a4z_k$(it_1);
                          copied = copied + 1 | 0;
                          tmp_3 = true;
                        }
                        if (!tmp_3) {
                          tmp_2 = true;
                        } else {
                          var it_2 = numberToChar(lowSurrogate(value));
                          var tmp_4;
                          if (copied === max) {
                            tmp_4 = false;
                          } else {
                            out.append_am5a4z_k$(it_2);
                            copied = copied + 1 | 0;
                            tmp_4 = true;
                          }
                          tmp_2 = !tmp_4;
                        }
                        if (tmp_2) {
                          tmp0.discardExact_11sae1_k$(((index - tmp2 | 0) - lastByteCount | 0) + 1 | 0);
                          tmp$ret$6 = -1;
                          break $l$block_3;
                        }
                      }
                      value = 0;
                    }
                  }
                }
                 while (inductionVariable < endExclusive);
              var rc = endExclusive - tmp2 | 0;
              tmp0.discardExact_11sae1_k$(rc);
              tmp$ret$6 = 0;
            }
            var size_0 = tmp$ret$6;
            size = size_0 === 0 ? 1 : size_0 > 0 ? size_0 : 0;
          }finally {
            // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
            var this_1 = current;
            after = this_1.get_writePosition_jdt81t_k$() - this_1.get_readPosition_70qxnc_k$() | 0;
          }
        } else {
          after = before;
        }
        release = false;
        var tmp_5;
        if (after === 0) {
          tmp_5 = prepareReadNextHead($this, current);
        } else {
          var tmp_6;
          if (after < size) {
            tmp_6 = true;
          } else {
            // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
            var this_2 = current;
            tmp_6 = (this_2.get_capacity_wxbgcd_k$() - this_2.get_limit_iuokuq_k$() | 0) < 8;
          }
          if (tmp_6) {
            completeReadHead($this, current);
            tmp_5 = prepareReadFirstHead($this, size);
          } else {
            tmp_5 = current;
          }
        }
        var tmp1_elvis_lhs = tmp_5;
        var tmp_7;
        if (tmp1_elvis_lhs == null) {
          break $l$loop_0;
        } else {
          tmp_7 = tmp1_elvis_lhs;
        }
        var next = tmp_7;
        current = next;
        release = true;
      }
       while (size > 0);
    }finally {
      if (release) {
        completeReadHead($this, current);
      }
    }
  }
  if (copied < min) {
    prematureEndOfStreamChars($this, min, copied);
  }
  return copied;
}
function discardAsMuchAsPossible($this, n, skipped) {
  var $this_0 = $this;
  var n_0 = n;
  var skipped_0 = skipped;
  $l$1: do {
    $l$0: do {
      if (equalsLong(n_0, new Long(0, 0)))
        return skipped_0;
      var tmp0_elvis_lhs = $this_0.prepareRead_vozu80_k$(1);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return skipped_0;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var current = tmp;
      // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
      var tmp$ret$0 = current.get_writePosition_jdt81t_k$() - current.get_readPosition_70qxnc_k$() | 0;
      var tmp0 = fromInt(tmp$ret$0);
      // Inline function 'kotlin.comparisons.minOf' call
      var b = n_0;
      var tmp$ret$1 = compare(tmp0, b) <= 0 ? tmp0 : b;
      var size = convertToInt(tmp$ret$1);
      current.discardExact_11sae1_k$(size);
      var tmp1_this = $this_0;
      tmp1_this.headPosition_1 = tmp1_this.headPosition_1 + size | 0;
      afterRead($this_0, current);
      var tmp0_0 = $this_0;
      // Inline function 'kotlin.Long.minus' call
      var this_0 = n_0;
      var tmp1 = subtract(this_0, fromInt(size));
      // Inline function 'kotlin.Long.plus' call
      var this_1 = skipped_0;
      var tmp2 = add(this_1, fromInt(size));
      $this_0 = tmp0_0;
      n_0 = tmp1;
      skipped_0 = tmp2;
      continue $l$0;
    }
     while (false);
  }
   while (true);
}
function discardAsMuchAsPossible_0($this, n, skipped) {
  var currentCount = n;
  var currentSkipped = skipped;
  while (true) {
    if (currentCount === 0) {
      return currentSkipped;
    }
    var tmp0_elvis_lhs = $this.prepareRead_vozu80_k$(1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return currentSkipped;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var current = tmp;
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    var tmp0 = current.get_writePosition_jdt81t_k$() - current.get_readPosition_70qxnc_k$() | 0;
    // Inline function 'kotlin.comparisons.minOf' call
    var b = currentCount;
    var size = Math.min(tmp0, b);
    current.discardExact_11sae1_k$(size);
    $this.headPosition_1 = $this.headPosition_1 + size | 0;
    afterRead($this, current);
    currentCount = currentCount - size | 0;
    currentSkipped = currentSkipped + size | 0;
  }
}
function readAsMuchAsPossible($this, array, offset, length, copied) {
  var $this_0 = $this;
  var array_0 = array;
  var offset_0 = offset;
  var length_0 = length;
  var copied_0 = copied;
  $l$1: do {
    $l$0: do {
      if (length_0 === 0)
        return copied_0;
      var tmp0_elvis_lhs = $this_0.prepareRead_vozu80_k$(1);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return copied_0;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var current = tmp;
      var tmp0 = length_0;
      // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
      // Inline function 'kotlin.comparisons.minOf' call
      var b = current.get_writePosition_jdt81t_k$() - current.get_readPosition_70qxnc_k$() | 0;
      var size = Math.min(tmp0, b);
      var tmp2 = array_0;
      // Inline function 'io.ktor.utils.io.core.readFully' call
      var offset_1 = offset_0;
      readFully_1(current instanceof Buffer ? current : THROW_CCE(), tmp2, offset_1, size);
      $this_0.headPosition_1 = current.get_readPosition_70qxnc_k$();
      var tmp_0;
      var tmp_1;
      if (!(size === length_0)) {
        tmp_1 = true;
      } else {
        // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
        tmp_1 = (current.get_writePosition_jdt81t_k$() - current.get_readPosition_70qxnc_k$() | 0) === 0;
      }
      if (tmp_1) {
        afterRead($this_0, current);
        var tmp0_0 = $this_0;
        var tmp1 = array_0;
        var tmp2_0 = offset_0 + size | 0;
        var tmp3 = length_0 - size | 0;
        var tmp4 = copied_0 + size | 0;
        $this_0 = tmp0_0;
        array_0 = tmp1;
        offset_0 = tmp2_0;
        length_0 = tmp3;
        copied_0 = tmp4;
        continue $l$0;
      } else {
        tmp_0 = copied_0 + size | 0;
      }
      return tmp_0;
    }
     while (false);
  }
   while (true);
}
function notEnoughBytesAvailable($this, n) {
  throw new EOFException('Not enough data in packet (' + $this.get_remaining_mwegr1_k$().toString() + ') to read ' + n + ' byte(s)');
}
function fixGapAfterReadFallback($this, current) {
  if ($this.noMoreChunksAvailable_1 && current.get_next_wor1vg_k$() == null) {
    $this.headPosition_1 = current.get_readPosition_70qxnc_k$();
    $this.headEndExclusive_1 = current.get_writePosition_jdt81t_k$();
    $this.set_tailRemaining_1tfcjy_k$(new Long(0, 0));
    return Unit_getInstance();
  }
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var size = current.get_writePosition_jdt81t_k$() - current.get_readPosition_70qxnc_k$() | 0;
  // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
  // Inline function 'kotlin.comparisons.minOf' call
  var b = 8 - (current.get_capacity_wxbgcd_k$() - current.get_limit_iuokuq_k$() | 0) | 0;
  var overrun = Math.min(size, b);
  if (size > overrun) {
    fixGapAfterReadFallbackUnreserved($this, current, size, overrun);
  } else {
    var new_0 = $this.pool_1.borrow_mvkpor_k$();
    new_0.reserveEndGap_i4z3fz_k$(8);
    new_0.set_next_v483mr_k$(current.cleanNext_l2yy3o_k$());
    writeBufferAppend(new_0, current, size);
    _set__head__b4pap2($this, new_0);
  }
  current.release_vbevvg_k$($this.pool_1);
}
function fixGapAfterReadFallbackUnreserved($this, current, size, overrun) {
  var chunk1 = $this.pool_1.borrow_mvkpor_k$();
  var chunk2 = $this.pool_1.borrow_mvkpor_k$();
  chunk1.reserveEndGap_i4z3fz_k$(8);
  chunk2.reserveEndGap_i4z3fz_k$(8);
  chunk1.set_next_v483mr_k$(chunk2);
  chunk2.set_next_v483mr_k$(current.cleanNext_l2yy3o_k$());
  writeBufferAppend(chunk1, current, size - overrun | 0);
  writeBufferAppend(chunk2, current, overrun);
  _set__head__b4pap2($this, chunk1);
  $this.set_tailRemaining_1tfcjy_k$(remainingAll(chunk2));
}
function ensureNext($this, current, empty) {
  var $this_0 = $this;
  var current_0 = current;
  var empty_0 = empty;
  $l$1: do {
    $l$0: do {
      if (current_0 === empty_0) {
        return doFill($this_0);
      }
      var next = current_0.cleanNext_l2yy3o_k$();
      current_0.release_vbevvg_k$($this_0.pool_1);
      var tmp;
      if (next == null) {
        _set__head__b4pap2($this_0, empty_0);
        $this_0.set_tailRemaining_1tfcjy_k$(new Long(0, 0));
        var tmp0 = $this_0;
        var tmp1 = empty_0;
        var tmp2 = empty_0;
        $this_0 = tmp0;
        current_0 = tmp1;
        empty_0 = tmp2;
        continue $l$0;
      } else {
        // Inline function 'io.ktor.utils.io.core.canRead' call
        if (next.get_writePosition_jdt81t_k$() > next.get_readPosition_70qxnc_k$()) {
          _set__head__b4pap2($this_0, next);
          var tmp0_this = $this_0;
          var tmp0_0 = tmp0_this.tailRemaining_1;
          // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
          // Inline function 'kotlin.Long.minus' call
          var other = next.get_writePosition_jdt81t_k$() - next.get_readPosition_70qxnc_k$() | 0;
          var tmp$ret$2 = subtract(tmp0_0, fromInt(other));
          tmp0_this.set_tailRemaining_1tfcjy_k$(tmp$ret$2);
          tmp = next;
        } else {
          var tmp3 = $this_0;
          var tmp5 = empty_0;
          $this_0 = tmp3;
          current_0 = next;
          empty_0 = tmp5;
          continue $l$0;
        }
      }
      return tmp;
    }
     while (false);
  }
   while (true);
}
function doFill($this) {
  if ($this.noMoreChunksAvailable_1)
    return null;
  var chunk = $this.fill_1vd6r_k$();
  if (chunk == null) {
    $this.noMoreChunksAvailable_1 = true;
    return null;
  }
  appendView($this, chunk);
  return chunk;
}
function appendView($this, chunk) {
  var tail = findTail($this._head_1);
  if (tail === Companion_getInstance_2().get_Empty_i9b85g_k$()) {
    _set__head__b4pap2($this, chunk);
    // Inline function 'kotlin.require' call
    if (!equalsLong($this.tailRemaining_1, new Long(0, 0))) {
      throw IllegalStateException_init_$Create$('It should be no tail remaining bytes if current tail is EmptyBuffer');
    }
    var tmp0_safe_receiver = chunk.get_next_wor1vg_k$();
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : remainingAll(tmp0_safe_receiver);
    $this.set_tailRemaining_1tfcjy_k$(tmp1_elvis_lhs == null ? new Long(0, 0) : tmp1_elvis_lhs);
  } else {
    tail.set_next_v483mr_k$(chunk);
    $this.set_tailRemaining_1tfcjy_k$(add($this.tailRemaining_1, remainingAll(chunk)));
  }
}
function prepareReadLoop($this, minSize, head) {
  var $this_0 = $this;
  var minSize_0 = minSize;
  var head_0 = head;
  $l$1: do {
    $l$0: do {
      // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
      var this_0 = $this_0;
      var headSize = this_0.headEndExclusive_1 - this_0.headPosition_1 | 0;
      if (headSize >= minSize_0)
        return head_0;
      var tmp0_elvis_lhs = head_0.get_next_wor1vg_k$();
      var tmp1_elvis_lhs = tmp0_elvis_lhs == null ? doFill($this_0) : tmp0_elvis_lhs;
      var tmp;
      if (tmp1_elvis_lhs == null) {
        return null;
      } else {
        tmp = tmp1_elvis_lhs;
      }
      var next = tmp;
      if (headSize === 0) {
        if (!(head_0 === Companion_getInstance_2().get_Empty_i9b85g_k$())) {
          $this_0.releaseHead_bacurs_k$(head_0);
        }
        var tmp0 = $this_0;
        var tmp1 = minSize_0;
        $this_0 = tmp0;
        minSize_0 = tmp1;
        head_0 = next;
        continue $l$0;
      } else {
        var desiredExtraBytes = minSize_0 - headSize | 0;
        var copied = writeBufferAppend(head_0, next, desiredExtraBytes);
        $this_0.headEndExclusive_1 = head_0.get_writePosition_jdt81t_k$();
        var tmp2_this = $this_0;
        // Inline function 'kotlin.Long.minus' call
        var this_1 = tmp2_this.tailRemaining_1;
        var tmp$ret$1 = subtract(this_1, fromInt(copied));
        tmp2_this.set_tailRemaining_1tfcjy_k$(tmp$ret$1);
        // Inline function 'io.ktor.utils.io.core.canRead' call
        if (!(next.get_writePosition_jdt81t_k$() > next.get_readPosition_70qxnc_k$())) {
          head_0.set_next_v483mr_k$(null);
          head_0.set_next_v483mr_k$(next.cleanNext_l2yy3o_k$());
          next.release_vbevvg_k$($this_0.pool_1);
        } else {
          next.reserveStartGap_819mco_k$(copied);
        }
      }
      // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
      var this_2 = head_0;
      if ((this_2.get_writePosition_jdt81t_k$() - this_2.get_readPosition_70qxnc_k$() | 0) >= minSize_0)
        return head_0;
      if (minSize_0 > 8) {
        minSizeIsTooBig($this_0, minSize_0);
      }
      var tmp3 = $this_0;
      var tmp4 = minSize_0;
      var tmp5 = head_0;
      $this_0 = tmp3;
      minSize_0 = tmp4;
      head_0 = tmp5;
      continue $l$0;
    }
     while (false);
  }
   while (true);
}
function minSizeIsTooBig($this, minSize) {
  throw IllegalStateException_init_$Create$('minSize of ' + minSize + ' is too big (should be less than 8)');
}
function afterRead($this, head) {
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  if ((head.get_writePosition_jdt81t_k$() - head.get_readPosition_70qxnc_k$() | 0) === 0) {
    $this.releaseHead_bacurs_k$(head);
  }
}
function Companion_1() {
  Companion_instance_1 = this;
}
var Companion_instance_1;
function Companion_getInstance_1() {
  if (Companion_instance_1 == null)
    new Companion_1();
  return Companion_instance_1;
}
function Input$readAvailableCharacters$out$1($off, $destination) {
  this.$destination_1 = $destination;
  this.idx_1 = $off;
}
protoOf(Input$readAvailableCharacters$out$1).append_am5a4z_k$ = function (value) {
  var tmp1 = this.idx_1;
  this.idx_1 = tmp1 + 1 | 0;
  this.$destination_1[tmp1] = value;
  return this;
};
protoOf(Input$readAvailableCharacters$out$1).append_jgojdo_k$ = function (value) {
  if (!(value == null) ? typeof value === 'string' : false) {
    getCharsInternal(value, this.$destination_1, this.idx_1);
    this.idx_1 = this.idx_1 + charSequenceLength(value) | 0;
  } else {
    if (!(value == null)) {
      var inductionVariable = 0;
      var last = charSequenceLength(value);
      if (inductionVariable < last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var tmp3 = this.idx_1;
          this.idx_1 = tmp3 + 1 | 0;
          this.$destination_1[tmp3] = charSequenceGet(value, i);
        }
         while (inductionVariable < last);
    }
  }
  return this;
};
protoOf(Input$readAvailableCharacters$out$1).append_xdc1zw_k$ = function (value, startIndex, endIndex) {
  throw UnsupportedOperationException_init_$Create$();
};
function Input(head, remaining, pool) {
  Companion_getInstance_1();
  head = head === VOID ? Companion_getInstance_2().get_Empty_i9b85g_k$() : head;
  remaining = remaining === VOID ? remainingAll(head) : remaining;
  pool = pool === VOID ? Companion_getInstance_2().get_Pool_wo83gl_k$() : pool;
  this.pool_1 = pool;
  this._head_1 = head;
  this.headMemory_1 = head.get_memory_gl4362_k$();
  this.headPosition_1 = head.get_readPosition_70qxnc_k$();
  this.headEndExclusive_1 = head.get_writePosition_jdt81t_k$();
  var tmp = this;
  // Inline function 'kotlin.Long.minus' call
  var other = this.headEndExclusive_1 - this.headPosition_1 | 0;
  tmp.tailRemaining_1 = subtract(remaining, fromInt(other));
  this.noMoreChunksAvailable_1 = false;
}
protoOf(Input).get_pool_wosj1h_k$ = function () {
  return this.pool_1;
};
protoOf(Input).get_endOfInput_skegkh_k$ = function () {
  var tmp;
  var tmp_0;
  // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
  if ((this.headEndExclusive_1 - this.headPosition_1 | 0) === 0) {
    tmp_0 = equalsLong(this.tailRemaining_1, new Long(0, 0));
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    tmp = this.noMoreChunksAvailable_1 || doFill(this) == null;
  } else {
    tmp = false;
  }
  return tmp;
};
protoOf(Input).get_head_3jiuok_k$ = function () {
  // Inline function 'kotlin.also' call
  var this_0 = this._head_1;
  this_0.discardUntilIndex_oonpdx_k$(this.headPosition_1);
  return this_0;
};
protoOf(Input).set_headMemory_3ozrvy_k$ = function (_set____db54di) {
  this.headMemory_1 = _set____db54di;
};
protoOf(Input).get_headMemory_hbafrp_k$ = function () {
  return this.headMemory_1;
};
protoOf(Input).set_headPosition_yl6x47_k$ = function (_set____db54di) {
  this.headPosition_1 = _set____db54di;
};
protoOf(Input).get_headPosition_o84kar_k$ = function () {
  return this.headPosition_1;
};
protoOf(Input).set_headEndExclusive_cjob4d_k$ = function (_set____db54di) {
  this.headEndExclusive_1 = _set____db54di;
};
protoOf(Input).get_headEndExclusive_6frhsn_k$ = function () {
  return this.headEndExclusive_1;
};
protoOf(Input).set_tailRemaining_1tfcjy_k$ = function (newValue) {
  // Inline function 'kotlin.require' call
  if (!(compare(newValue, new Long(0, 0)) >= 0)) {
    var message = "tailRemaining shouldn't be negative: " + newValue.toString();
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.tailRemaining_1 = newValue;
};
protoOf(Input).get_tailRemaining_nllpiw_k$ = function () {
  return this.tailRemaining_1;
};
protoOf(Input).get_headRemaining_arum88_k$ = function () {
  return this.headEndExclusive_1 - this.headPosition_1 | 0;
};
protoOf(Input).prefetch_6e4gz4_k$ = function (min) {
  if (compare(min, new Long(0, 0)) <= 0)
    return true;
  // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
  var headRemaining = this.headEndExclusive_1 - this.headPosition_1 | 0;
  if (compare(fromInt(headRemaining), min) >= 0 || compare(add(numberToLong(headRemaining), this.tailRemaining_1), min) >= 0)
    return true;
  return doPrefetch(this, min);
};
protoOf(Input).peekTo_gzft5t_k$ = function (destination, destinationOffset, offset, min, max) {
  this.prefetch_6e4gz4_k$(add(min, offset));
  var current = this.get_head_3jiuok_k$();
  var copied = new Long(0, 0);
  var skip = offset;
  var writePosition = destinationOffset;
  // Inline function 'io.ktor.utils.io.bits.Memory.size' call
  var tmp$ret$0 = fromInt(destination.get_view_wow8a6_k$().byteLength);
  // Inline function 'kotlin.comparisons.minOf' call
  var b = subtract(tmp$ret$0, destinationOffset);
  var maxCopySize = compare(max, b) <= 0 ? max : b;
  $l$loop: while (compare(copied, min) < 0 && compare(copied, maxCopySize) < 0) {
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    var this_0 = current;
    var chunkSize = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
    if (compare(fromInt(chunkSize), skip) > 0) {
      var tmp0 = subtract(numberToLong(chunkSize), skip);
      // Inline function 'kotlin.comparisons.minOf' call
      var b_0 = subtract(maxCopySize, copied);
      var size = compare(tmp0, b_0) <= 0 ? tmp0 : b_0;
      current.get_memory_gl4362_k$().copyTo_ug0rjx_k$(destination, add(numberToLong(current.get_readPosition_70qxnc_k$()), skip), size, writePosition);
      skip = new Long(0, 0);
      copied = add(copied, size);
      writePosition = add(writePosition, size);
    } else {
      // Inline function 'kotlin.Long.minus' call
      var this_1 = skip;
      skip = subtract(this_1, fromInt(chunkSize));
    }
    var tmp0_elvis_lhs = current.get_next_wor1vg_k$();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$loop;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    current = tmp;
  }
  return copied;
};
protoOf(Input).peekTo$default_b22lr3_k$ = function (destination, destinationOffset, offset, min, max, $super) {
  offset = offset === VOID ? new Long(0, 0) : offset;
  min = min === VOID ? new Long(1, 0) : min;
  max = max === VOID ? new Long(-1, 2147483647) : max;
  return $super === VOID ? this.peekTo_gzft5t_k$(destination, destinationOffset, offset, min, max) : $super.peekTo_gzft5t_k$.call(this, destination, destinationOffset, offset, min, max);
};
protoOf(Input).get_remaining_mwegr1_k$ = function () {
  // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
  var tmp$ret$0 = this.headEndExclusive_1 - this.headPosition_1 | 0;
  return add(fromInt(tmp$ret$0), this.tailRemaining_1);
};
protoOf(Input).canRead_93a6bq_k$ = function () {
  return !(this.headPosition_1 === this.headEndExclusive_1) || !equalsLong(this.tailRemaining_1, new Long(0, 0));
};
protoOf(Input).hasBytes_ly98p3_k$ = function (n) {
  // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
  var tmp$ret$0 = this.headEndExclusive_1 - this.headPosition_1 | 0;
  return compare(add(numberToLong(tmp$ret$0), this.tailRemaining_1), fromInt(n)) >= 0;
};
protoOf(Input).release_wu5yyf_k$ = function () {
  var head = this.get_head_3jiuok_k$();
  var empty = Companion_getInstance_2().get_Empty_i9b85g_k$();
  if (!(head === empty)) {
    _set__head__b4pap2(this, empty);
    this.set_tailRemaining_1tfcjy_k$(new Long(0, 0));
    releaseAll(head, this.pool_1);
  }
};
protoOf(Input).close_yn9xrc_k$ = function () {
  this.release_wu5yyf_k$();
  if (!this.noMoreChunksAvailable_1) {
    this.noMoreChunksAvailable_1 = true;
  }
  this.closeSource_lb1mzh_k$();
};
protoOf(Input).stealAll_z3t1nh_k$ = function () {
  var head = this.get_head_3jiuok_k$();
  var empty = Companion_getInstance_2().get_Empty_i9b85g_k$();
  if (head === empty)
    return null;
  _set__head__b4pap2(this, empty);
  this.set_tailRemaining_1tfcjy_k$(new Long(0, 0));
  return head;
};
protoOf(Input).steal_4roji2_k$ = function () {
  var head = this.get_head_3jiuok_k$();
  var next = head.get_next_wor1vg_k$();
  var empty = Companion_getInstance_2().get_Empty_i9b85g_k$();
  if (head === empty)
    return null;
  if (next == null) {
    _set__head__b4pap2(this, empty);
    this.set_tailRemaining_1tfcjy_k$(new Long(0, 0));
  } else {
    _set__head__b4pap2(this, next);
    var tmp0 = this.tailRemaining_1;
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    // Inline function 'kotlin.Long.minus' call
    var other = next.get_writePosition_jdt81t_k$() - next.get_readPosition_70qxnc_k$() | 0;
    var tmp$ret$1 = subtract(tmp0, fromInt(other));
    this.set_tailRemaining_1tfcjy_k$(tmp$ret$1);
  }
  head.set_next_v483mr_k$(null);
  return head;
};
protoOf(Input).append_dlqhrp_k$ = function (chain) {
  if (chain === Companion_getInstance_2().get_Empty_i9b85g_k$())
    return Unit_getInstance();
  var size = remainingAll(chain);
  if (this._head_1 === Companion_getInstance_2().get_Empty_i9b85g_k$()) {
    _set__head__b4pap2(this, chain);
    // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
    // Inline function 'kotlin.Long.minus' call
    var other = this.headEndExclusive_1 - this.headPosition_1 | 0;
    var tmp$ret$1 = subtract(size, fromInt(other));
    this.set_tailRemaining_1tfcjy_k$(tmp$ret$1);
  } else {
    findTail(this._head_1).set_next_v483mr_k$(chain);
    this.set_tailRemaining_1tfcjy_k$(add(this.tailRemaining_1, size));
  }
};
protoOf(Input).tryWriteAppend_a9qssf_k$ = function (chain) {
  var tail = findTail(this.get_head_3jiuok_k$());
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var size = chain.get_writePosition_jdt81t_k$() - chain.get_readPosition_70qxnc_k$() | 0;
  var tmp;
  if (size === 0) {
    tmp = true;
  } else {
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    tmp = (tail.get_limit_iuokuq_k$() - tail.get_writePosition_jdt81t_k$() | 0) < size;
  }
  if (tmp)
    return false;
  writeBufferAppend(tail, chain, size);
  if (this.get_head_3jiuok_k$() === tail) {
    this.headEndExclusive_1 = tail.get_writePosition_jdt81t_k$();
  } else {
    // Inline function 'kotlin.Long.plus' call
    var this_0 = this.tailRemaining_1;
    var tmp$ret$2 = add(this_0, fromInt(size));
    this.set_tailRemaining_1tfcjy_k$(tmp$ret$2);
  }
  return true;
};
protoOf(Input).readByte_ectjk2_k$ = function () {
  var index = this.headPosition_1;
  var nextIndex = index + 1 | 0;
  if (nextIndex < this.headEndExclusive_1) {
    this.headPosition_1 = nextIndex;
    // Inline function 'io.ktor.utils.io.bits.get' call
    // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
    return this.headMemory_1.get_view_wow8a6_k$().getInt8(index);
  }
  return readByteSlow_0(this);
};
protoOf(Input).discard_6fulfq_k$ = function (n) {
  // Inline function 'kotlin.require' call
  if (!(n >= 0)) {
    var message = 'Negative discard is not allowed: ' + n;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  return discardAsMuchAsPossible_0(this, n, 0);
};
protoOf(Input).discardExact_11sae1_k$ = function (n) {
  if (!(this.discard_6fulfq_k$(n) === n))
    throw new EOFException('Unable to discard ' + n + ' bytes due to end of packet');
};
protoOf(Input).tryPeek_han6fe_k$ = function () {
  var head = this.get_head_3jiuok_k$();
  // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
  if ((this.headEndExclusive_1 - this.headPosition_1 | 0) > 0) {
    return head.tryPeekByte_ple8ke_k$();
  }
  if (equalsLong(this.tailRemaining_1, new Long(0, 0)) && this.noMoreChunksAvailable_1)
    return -1;
  var tmp0_safe_receiver = prepareReadLoop(this, 1, head);
  var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.tryPeekByte_ple8ke_k$();
  return tmp1_elvis_lhs == null ? -1 : tmp1_elvis_lhs;
};
protoOf(Input).peekTo_wjzs0w_k$ = function (buffer) {
  var tmp0_elvis_lhs = this.prepareReadHead_s3smdc_k$(1);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return -1;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head = tmp;
  // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
  var tmp0 = buffer.get_limit_iuokuq_k$() - buffer.get_writePosition_jdt81t_k$() | 0;
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  // Inline function 'kotlin.comparisons.minOf' call
  var b = head.get_writePosition_jdt81t_k$() - head.get_readPosition_70qxnc_k$() | 0;
  var size = Math.min(tmp0, b);
  writeFully(buffer instanceof Buffer ? buffer : THROW_CCE(), head, size);
  return size;
};
protoOf(Input).discard_kxfhu8_k$ = function (n) {
  if (compare(n, new Long(0, 0)) <= 0)
    return new Long(0, 0);
  return discardAsMuchAsPossible(this, n, new Long(0, 0));
};
protoOf(Input).readAvailableCharacters_hdn206_k$ = function (destination, off, len) {
  if (this.get_endOfInput_skegkh_k$())
    return -1;
  var out = new Input$readAvailableCharacters$out$1(off, destination);
  return this.readText_4d4a81_k$(out, 0, len);
};
protoOf(Input).readText_4d4a81_k$ = function (out, min, max) {
  if (compare(fromInt(max), this.get_remaining_mwegr1_k$()) >= 0) {
    var s = readTextExactBytes(this, convertToInt(this.get_remaining_mwegr1_k$()));
    out.append_jgojdo_k$(s);
    return s.length;
  }
  return readASCII(this, out, min, max);
};
protoOf(Input).readText$default_9behzc_k$ = function (out, min, max, $super) {
  min = min === VOID ? 0 : min;
  max = max === VOID ? 2147483647 : max;
  return $super === VOID ? this.readText_4d4a81_k$(out, min, max) : $super.readText_4d4a81_k$.call(this, out, min, max);
};
protoOf(Input).readTextExact_6e10eo_k$ = function (out, exactCharacters) {
  this.readText_4d4a81_k$(out, exactCharacters, exactCharacters);
};
protoOf(Input).readText_rdpd43_k$ = function (min, max) {
  if (min === 0 && (max === 0 || this.get_endOfInput_skegkh_k$()))
    return '';
  var remaining = this.get_remaining_mwegr1_k$();
  if (compare(remaining, new Long(0, 0)) > 0 && compare(fromInt(max), remaining) >= 0)
    return readTextExactBytes(this, convertToInt(remaining));
  // Inline function 'kotlin.text.buildString' call
  var capacity = coerceAtMost_0(coerceAtLeast(min, 16), max);
  // Inline function 'kotlin.apply' call
  var this_0 = StringBuilder_init_$Create$_0(capacity);
  readASCII(this, this_0, min, max);
  return this_0.toString();
};
protoOf(Input).readText$default_grxas_k$ = function (min, max, $super) {
  min = min === VOID ? 0 : min;
  max = max === VOID ? 2147483647 : max;
  return $super === VOID ? this.readText_rdpd43_k$(min, max) : $super.readText_rdpd43_k$.call(this, min, max);
};
protoOf(Input).readTextExact_dnvzzw_k$ = function (exactCharacters) {
  return this.readText_rdpd43_k$(exactCharacters, exactCharacters);
};
protoOf(Input).prepareReadHead_s3smdc_k$ = function (minSize) {
  return prepareReadLoop(this, minSize, this.get_head_3jiuok_k$());
};
protoOf(Input).ensureNextHead_wcj3ji_k$ = function (current) {
  return this.ensureNext_iux6pa_k$(current);
};
protoOf(Input).ensureNext_iux6pa_k$ = function (current) {
  return ensureNext(this, current, Companion_getInstance_2().get_Empty_i9b85g_k$());
};
protoOf(Input).fixGapAfterRead_1ikbj6_k$ = function (current) {
  var tmp0_elvis_lhs = current.get_next_wor1vg_k$();
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return fixGapAfterReadFallback(this, current);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var next = tmp;
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var remaining = current.get_writePosition_jdt81t_k$() - current.get_readPosition_70qxnc_k$() | 0;
  // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
  // Inline function 'kotlin.comparisons.minOf' call
  var b = 8 - (current.get_capacity_wxbgcd_k$() - current.get_limit_iuokuq_k$() | 0) | 0;
  var overrunSize = Math.min(remaining, b);
  if (next.get_startGap_a0yplv_k$() < overrunSize) {
    return fixGapAfterReadFallback(this, current);
  }
  restoreStartGap(next, overrunSize);
  if (remaining > overrunSize) {
    current.releaseEndGap_khqsu5_k$();
    this.headEndExclusive_1 = current.get_writePosition_jdt81t_k$();
    // Inline function 'kotlin.Long.plus' call
    var this_0 = this.tailRemaining_1;
    var tmp$ret$3 = add(this_0, fromInt(overrunSize));
    this.set_tailRemaining_1tfcjy_k$(tmp$ret$3);
  } else {
    _set__head__b4pap2(this, next);
    var tmp0 = this.tailRemaining_1;
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    // Inline function 'kotlin.Long.minus' call
    var other = (next.get_writePosition_jdt81t_k$() - next.get_readPosition_70qxnc_k$() | 0) - overrunSize | 0;
    var tmp$ret$5 = subtract(tmp0, fromInt(other));
    this.set_tailRemaining_1tfcjy_k$(tmp$ret$5);
    current.cleanNext_l2yy3o_k$();
    current.release_vbevvg_k$(this.pool_1);
  }
};
protoOf(Input).fill_1vd6r_k$ = function () {
  var buffer = this.pool_1.borrow_mvkpor_k$();
  try {
    buffer.reserveEndGap_i4z3fz_k$(8);
    var tmp = buffer.get_memory_gl4362_k$();
    var tmp_0 = buffer.get_writePosition_jdt81t_k$();
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    var tmp$ret$0 = buffer.get_limit_iuokuq_k$() - buffer.get_writePosition_jdt81t_k$() | 0;
    var copied = this.fill_3bipm6_k$(tmp, tmp_0, tmp$ret$0);
    if (copied === 0) {
      this.noMoreChunksAvailable_1 = true;
      // Inline function 'io.ktor.utils.io.core.canRead' call
      if (!(buffer.get_writePosition_jdt81t_k$() > buffer.get_readPosition_70qxnc_k$())) {
        buffer.release_vbevvg_k$(this.pool_1);
        return null;
      }
    }
    buffer.commitWritten_tkztjs_k$(copied);
    return buffer;
  } catch ($p) {
    if ($p instanceof Error) {
      var t = $p;
      buffer.release_vbevvg_k$(this.pool_1);
      throw t;
    } else {
      throw $p;
    }
  }
};
protoOf(Input).markNoMoreChunksAvailable_j25xf4_k$ = function () {
  if (!this.noMoreChunksAvailable_1) {
    this.noMoreChunksAvailable_1 = true;
  }
};
protoOf(Input).prepareRead_vozu80_k$ = function (minSize) {
  var head = this.get_head_3jiuok_k$();
  if ((this.headEndExclusive_1 - this.headPosition_1 | 0) >= minSize)
    return head;
  return prepareReadLoop(this, minSize, head);
};
protoOf(Input).prepareRead_g37je2_k$ = function (minSize, head) {
  if ((this.headEndExclusive_1 - this.headPosition_1 | 0) >= minSize)
    return head;
  return prepareReadLoop(this, minSize, head);
};
protoOf(Input).releaseHead_bacurs_k$ = function (head) {
  var tmp0_elvis_lhs = head.cleanNext_l2yy3o_k$();
  var next = tmp0_elvis_lhs == null ? Companion_getInstance_2().get_Empty_i9b85g_k$() : tmp0_elvis_lhs;
  _set__head__b4pap2(this, next);
  var tmp0 = this.tailRemaining_1;
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  // Inline function 'kotlin.Long.minus' call
  var other = next.get_writePosition_jdt81t_k$() - next.get_readPosition_70qxnc_k$() | 0;
  var tmp$ret$1 = subtract(tmp0, fromInt(other));
  this.set_tailRemaining_1tfcjy_k$(tmp$ret$1);
  head.release_vbevvg_k$(this.pool_1);
  return next;
};
function takeWhile(_this__u8e3s4, block) {
  var release = true;
  var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 1);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return Unit_getInstance();
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var current = tmp;
  try {
    $l$loop_0: do {
      if (!block(current)) {
        break $l$loop_0;
      }
      release = false;
      var tmp1_elvis_lhs = prepareReadNextHead(_this__u8e3s4, current);
      var tmp_0;
      if (tmp1_elvis_lhs == null) {
        break $l$loop_0;
      } else {
        tmp_0 = tmp1_elvis_lhs;
      }
      var next = tmp_0;
      current = next;
      release = true;
    }
     while (true);
  }finally {
    if (release) {
      completeReadHead(_this__u8e3s4, current);
    }
  }
}
function takeWhileSize(_this__u8e3s4, initialSize, block) {
  initialSize = initialSize === VOID ? 1 : initialSize;
  var release = true;
  var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, initialSize);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return Unit_getInstance();
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var current = tmp;
  var size = initialSize;
  try {
    $l$loop: do {
      // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
      var this_0 = current;
      var before = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
      var after;
      if (before >= size) {
        try {
          size = block(current);
        }finally {
          // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
          var this_1 = current;
          after = this_1.get_writePosition_jdt81t_k$() - this_1.get_readPosition_70qxnc_k$() | 0;
        }
      } else {
        after = before;
      }
      release = false;
      var tmp_0;
      if (after === 0) {
        tmp_0 = prepareReadNextHead(_this__u8e3s4, current);
      } else {
        var tmp_1;
        if (after < size) {
          tmp_1 = true;
        } else {
          // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
          var this_2 = current;
          tmp_1 = (this_2.get_capacity_wxbgcd_k$() - this_2.get_limit_iuokuq_k$() | 0) < 8;
        }
        if (tmp_1) {
          completeReadHead(_this__u8e3s4, current);
          tmp_0 = prepareReadFirstHead(_this__u8e3s4, size);
        } else {
          tmp_0 = current;
        }
      }
      var tmp1_elvis_lhs = tmp_0;
      var tmp_2;
      if (tmp1_elvis_lhs == null) {
        break $l$loop;
      } else {
        tmp_2 = tmp1_elvis_lhs;
      }
      var next = tmp_2;
      current = next;
      release = true;
    }
     while (size > 0);
  }finally {
    if (release) {
      completeReadHead(_this__u8e3s4, current);
    }
  }
}
function readFully_3(_this__u8e3s4, dst, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? dst.length - offset | 0 : length;
  // Inline function 'io.ktor.utils.io.core.readFullyBytesTemplate' call
  var remaining = length;
  var dstOffset = offset;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.takeWhile' call
    var release = true;
    var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$block;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var current = tmp;
    try {
      $l$loop_0: do {
        var buffer = current;
        var tmp0 = remaining;
        // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
        // Inline function 'kotlin.comparisons.minOf' call
        var b = buffer.get_writePosition_jdt81t_k$() - buffer.get_readPosition_70qxnc_k$() | 0;
        var count = Math.min(tmp0, b);
        var dstOffset_0 = dstOffset;
        readFully_1(buffer, dst, dstOffset_0, count);
        remaining = remaining - count | 0;
        dstOffset = dstOffset + count | 0;
        if (!(remaining > 0)) {
          break $l$loop_0;
        }
        release = false;
        var tmp1_elvis_lhs = prepareReadNextHead(_this__u8e3s4, current);
        var tmp_0;
        if (tmp1_elvis_lhs == null) {
          break $l$loop_0;
        } else {
          tmp_0 = tmp1_elvis_lhs;
        }
        var next = tmp_0;
        current = next;
        release = true;
      }
       while (true);
    }finally {
      if (release) {
        completeReadHead(_this__u8e3s4, current);
      }
    }
  }
  // Inline function 'io.ktor.utils.io.core.requireNoRemaining' call
  var this_0 = remaining;
  if (this_0 > 0) {
    prematureEndOfStream(this_0);
  }
}
function requireNoRemaining(_this__u8e3s4) {
  if (_this__u8e3s4 > 0) {
    prematureEndOfStream(_this__u8e3s4);
  }
}
function readFullyBytesTemplate(_this__u8e3s4, initialDstOffset, length, readBlock) {
  var remaining = length;
  var dstOffset = initialDstOffset;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.takeWhile' call
    var release = true;
    var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$block;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var current = tmp;
    try {
      $l$loop_0: do {
        var buffer = current;
        var tmp0 = remaining;
        // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
        // Inline function 'kotlin.comparisons.minOf' call
        var b = buffer.get_writePosition_jdt81t_k$() - buffer.get_readPosition_70qxnc_k$() | 0;
        var count = Math.min(tmp0, b);
        readBlock(buffer, dstOffset, count);
        remaining = remaining - count | 0;
        dstOffset = dstOffset + count | 0;
        if (!(remaining > 0)) {
          break $l$loop_0;
        }
        release = false;
        var tmp1_elvis_lhs = prepareReadNextHead(_this__u8e3s4, current);
        var tmp_0;
        if (tmp1_elvis_lhs == null) {
          break $l$loop_0;
        } else {
          tmp_0 = tmp1_elvis_lhs;
        }
        var next = tmp_0;
        current = next;
        release = true;
      }
       while (true);
    }finally {
      if (release) {
        completeReadHead(_this__u8e3s4, current);
      }
    }
  }
  return remaining;
}
function readFully_4(_this__u8e3s4, dst, length) {
  var tmp;
  if (length === VOID) {
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    tmp = dst.get_limit_iuokuq_k$() - dst.get_writePosition_jdt81t_k$() | 0;
  } else {
    tmp = length;
  }
  length = tmp;
  // Inline function 'io.ktor.utils.io.core.readFullyBytesTemplate' call
  var remaining = length;
  var dstOffset = 0;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.takeWhile' call
    var release = true;
    var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 1);
    var tmp_0;
    if (tmp0_elvis_lhs == null) {
      break $l$block;
    } else {
      tmp_0 = tmp0_elvis_lhs;
    }
    var current = tmp_0;
    try {
      $l$loop_0: do {
        var buffer = current;
        var tmp0 = remaining;
        // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
        // Inline function 'kotlin.comparisons.minOf' call
        var b = buffer.get_writePosition_jdt81t_k$() - buffer.get_readPosition_70qxnc_k$() | 0;
        var count = Math.min(tmp0, b);
        readFully_2(buffer, dst, count);
        remaining = remaining - count | 0;
        dstOffset = dstOffset + count | 0;
        if (!(remaining > 0)) {
          break $l$loop_0;
        }
        release = false;
        var tmp1_elvis_lhs = prepareReadNextHead(_this__u8e3s4, current);
        var tmp_1;
        if (tmp1_elvis_lhs == null) {
          break $l$loop_0;
        } else {
          tmp_1 = tmp1_elvis_lhs;
        }
        var next = tmp_1;
        current = next;
        release = true;
      }
       while (true);
    }finally {
      if (release) {
        completeReadHead(_this__u8e3s4, current);
      }
    }
  }
  // Inline function 'io.ktor.utils.io.core.requireNoRemaining' call
  var this_0 = remaining;
  if (this_0 > 0) {
    prematureEndOfStream(this_0);
  }
}
function readShort_0(_this__u8e3s4) {
  var tmp$ret$3;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.readPrimitive' call
    // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
    if ((_this__u8e3s4.get_headEndExclusive_6frhsn_k$() - _this__u8e3s4.get_headPosition_o84kar_k$() | 0) > 2) {
      var index = _this__u8e3s4.get_headPosition_o84kar_k$();
      _this__u8e3s4.set_headPosition_yl6x47_k$(index + 2 | 0);
      // Inline function 'io.ktor.utils.io.bits.loadShortAt' call
      tmp$ret$3 = _this__u8e3s4.get_headMemory_hbafrp_k$().get_view_wow8a6_k$().getInt16(index, false);
      break $l$block;
    }
    tmp$ret$3 = readShortFallback(_this__u8e3s4);
  }
  return tmp$ret$3;
}
function readInt_0(_this__u8e3s4) {
  var tmp$ret$3;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.readPrimitive' call
    // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
    if ((_this__u8e3s4.get_headEndExclusive_6frhsn_k$() - _this__u8e3s4.get_headPosition_o84kar_k$() | 0) > 4) {
      var index = _this__u8e3s4.get_headPosition_o84kar_k$();
      _this__u8e3s4.set_headPosition_yl6x47_k$(index + 4 | 0);
      // Inline function 'io.ktor.utils.io.bits.loadIntAt' call
      tmp$ret$3 = _this__u8e3s4.get_headMemory_hbafrp_k$().get_view_wow8a6_k$().getInt32(index, false);
      break $l$block;
    }
    tmp$ret$3 = readIntFallback(_this__u8e3s4);
  }
  return tmp$ret$3;
}
function readLong_0(_this__u8e3s4) {
  var tmp$ret$3;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.readPrimitive' call
    // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
    if ((_this__u8e3s4.get_headEndExclusive_6frhsn_k$() - _this__u8e3s4.get_headPosition_o84kar_k$() | 0) > 8) {
      var index = _this__u8e3s4.get_headPosition_o84kar_k$();
      _this__u8e3s4.set_headPosition_yl6x47_k$(index + 8 | 0);
      // Inline function 'io.ktor.utils.io.bits.loadLongAt' call
      var this_0 = _this__u8e3s4.get_headMemory_hbafrp_k$();
      tmp$ret$3 = bitwiseOr(shiftLeft(fromInt(this_0.get_view_wow8a6_k$().getUint32(index, false)), 32), fromInt(this_0.get_view_wow8a6_k$().getUint32(index + 4 | 0, false)));
      break $l$block;
    }
    tmp$ret$3 = readLongFallback(_this__u8e3s4);
  }
  return tmp$ret$3;
}
function readFloat_0(_this__u8e3s4) {
  var tmp$ret$3;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.readPrimitive' call
    // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
    if ((_this__u8e3s4.get_headEndExclusive_6frhsn_k$() - _this__u8e3s4.get_headPosition_o84kar_k$() | 0) > 4) {
      var index = _this__u8e3s4.get_headPosition_o84kar_k$();
      _this__u8e3s4.set_headPosition_yl6x47_k$(index + 4 | 0);
      // Inline function 'io.ktor.utils.io.bits.loadFloatAt' call
      tmp$ret$3 = _this__u8e3s4.get_headMemory_hbafrp_k$().get_view_wow8a6_k$().getFloat32(index, false);
      break $l$block;
    }
    tmp$ret$3 = readFloatFallback(_this__u8e3s4);
  }
  return tmp$ret$3;
}
function readDouble_0(_this__u8e3s4) {
  var tmp$ret$3;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.readPrimitive' call
    // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
    if ((_this__u8e3s4.get_headEndExclusive_6frhsn_k$() - _this__u8e3s4.get_headPosition_o84kar_k$() | 0) > 8) {
      var index = _this__u8e3s4.get_headPosition_o84kar_k$();
      _this__u8e3s4.set_headPosition_yl6x47_k$(index + 8 | 0);
      // Inline function 'io.ktor.utils.io.bits.loadDoubleAt' call
      tmp$ret$3 = _this__u8e3s4.get_headMemory_hbafrp_k$().get_view_wow8a6_k$().getFloat64(index, false);
      break $l$block;
    }
    tmp$ret$3 = readDoubleFallback(_this__u8e3s4);
  }
  return tmp$ret$3;
}
function readPrimitive(_this__u8e3s4, size, main, fallback) {
  // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
  if ((_this__u8e3s4.get_headEndExclusive_6frhsn_k$() - _this__u8e3s4.get_headPosition_o84kar_k$() | 0) > size) {
    var index = _this__u8e3s4.get_headPosition_o84kar_k$();
    _this__u8e3s4.set_headPosition_yl6x47_k$(index + size | 0);
    return main(_this__u8e3s4.get_headMemory_hbafrp_k$(), index);
  }
  return fallback();
}
function readShortFallback(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readPrimitiveFallback' call
  var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 2);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    prematureEndOfStream(2);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head = tmp;
  var value = readShort(head);
  completeReadHead(_this__u8e3s4, head);
  return value;
}
function readIntFallback(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readPrimitiveFallback' call
  var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 4);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    prematureEndOfStream(4);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head = tmp;
  var value = readInt(head);
  completeReadHead(_this__u8e3s4, head);
  return value;
}
function readLongFallback(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readPrimitiveFallback' call
  var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 8);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    prematureEndOfStream(8);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head = tmp;
  var value = readLong(head);
  completeReadHead(_this__u8e3s4, head);
  return value;
}
function readFloatFallback(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readPrimitiveFallback' call
  var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 4);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    prematureEndOfStream(4);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head = tmp;
  var value = readFloat(head);
  completeReadHead(_this__u8e3s4, head);
  return value;
}
function readDoubleFallback(_this__u8e3s4) {
  // Inline function 'io.ktor.utils.io.core.readPrimitiveFallback' call
  var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 8);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    prematureEndOfStream(8);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head = tmp;
  var value = readDouble(head);
  completeReadHead(_this__u8e3s4, head);
  return value;
}
function readPrimitiveFallback(_this__u8e3s4, size, read) {
  var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, size);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    prematureEndOfStream(size);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head = tmp;
  var value = read(head);
  completeReadHead(_this__u8e3s4, head);
  return value;
}
function Output_init_$Init$($this) {
  Output.call($this, Companion_getInstance_2().get_Pool_wo83gl_k$());
  return $this;
}
function Output_init_$Create$() {
  return Output_init_$Init$(objectCreate(protoOf(Output)));
}
function _set__head__b4pap2_0($this, _set____db54di) {
  $this._head_1 = _set____db54di;
}
function _get__head__kwf5se_0($this) {
  return $this._head_1;
}
function _set__tail__bb8fzq($this, _set____db54di) {
  $this._tail_1 = _set____db54di;
}
function _get__tail__kpw0hq($this) {
  return $this._tail_1;
}
function _set_tailInitialPosition__matoco($this, _set____db54di) {
  $this.tailInitialPosition_1 = _set____db54di;
}
function _get_tailInitialPosition__zfk4q4($this) {
  return $this.tailInitialPosition_1;
}
function _set_chainedSize__unajg($this, _set____db54di) {
  $this.chainedSize_1 = _set____db54di;
}
function _get_chainedSize__tfqvsg($this) {
  return $this.chainedSize_1;
}
function flushChain($this) {
  var tmp0_elvis_lhs = $this.stealAll_z3t1nh_k$();
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return Unit_getInstance();
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var oldTail = tmp;
  try {
    // Inline function 'io.ktor.utils.io.core.forEachChunk' call
    // Inline function 'kotlin.contracts.contract' call
    var current = oldTail;
    $l$loop: do {
      var chunk = current;
      var tmp_0 = chunk.get_memory_gl4362_k$();
      var tmp_1 = chunk.get_readPosition_70qxnc_k$();
      // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
      var tmp$ret$1 = chunk.get_writePosition_jdt81t_k$() - chunk.get_readPosition_70qxnc_k$() | 0;
      $this.flush_sux9un_k$(tmp_0, tmp_1, tmp$ret$1);
      var tmp0_elvis_lhs_0 = current.get_next_wor1vg_k$();
      var tmp_2;
      if (tmp0_elvis_lhs_0 == null) {
        break $l$loop;
      } else {
        tmp_2 = tmp0_elvis_lhs_0;
      }
      current = tmp_2;
    }
     while (true);
  }finally {
    releaseAll(oldTail, $this.pool_1);
  }
}
function appendNewChunk($this) {
  var new_0 = $this.pool_1.borrow_mvkpor_k$();
  new_0.reserveEndGap_i4z3fz_k$(8);
  $this.appendSingleChunk_jotwkc_k$(new_0);
  return new_0;
}
function appendChainImpl($this, head, newTail, chainedSizeDelta) {
  var _tail = $this._tail_1;
  if (_tail == null) {
    $this._head_1 = head;
    $this.chainedSize_1 = 0;
  } else {
    _tail.set_next_v483mr_k$(head);
    var tailPosition = $this.tailPosition_1;
    _tail.commitWrittenUntilIndex_p5vt7t_k$(tailPosition);
    $this.chainedSize_1 = $this.chainedSize_1 + (tailPosition - $this.tailInitialPosition_1 | 0) | 0;
  }
  $this._tail_1 = newTail;
  $this.chainedSize_1 = $this.chainedSize_1 + chainedSizeDelta | 0;
  $this.tailMemory_1 = newTail.get_memory_gl4362_k$();
  $this.tailPosition_1 = newTail.get_writePosition_jdt81t_k$();
  $this.tailInitialPosition_1 = newTail.get_readPosition_70qxnc_k$();
  $this.tailEndExclusive_1 = newTail.get_limit_iuokuq_k$();
}
function writeByteFallback($this, v) {
  appendNewChunk($this).writeByte_9ih3z3_k$(v);
  $this.tailPosition_1 = $this.tailPosition_1 + 1 | 0;
}
function appendCharFallback($this, c) {
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.Output.write' call
    var buffer = $this.prepareWriteHead_9ofvdx_k$(3);
    try {
      var tmp0 = buffer.get_memory_gl4362_k$();
      var tmp2 = buffer.get_writePosition_jdt81t_k$();
      // Inline function 'kotlin.code' call
      // Inline function 'io.ktor.utils.io.core.internal.putUtf8Char' call
      var v = Char__toInt_impl_vasixd(c);
      var tmp;
      if (0 <= v ? v <= 127 : false) {
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value = toByte(v);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2, value);
        tmp = 1;
      } else if (128 <= v ? v <= 2047 : false) {
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_0 = toByte(192 | v >> 6 & 31);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2, value_0);
        var tmp2_0 = tmp2 + 1 | 0;
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_1 = toByte(128 | v & 63);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2_0, value_1);
        tmp = 2;
      } else if (2048 <= v ? v <= 65535 : false) {
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_2 = toByte(224 | v >> 12 & 15);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2, value_2);
        var tmp2_1 = tmp2 + 1 | 0;
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_3 = toByte(128 | v >> 6 & 63);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2_1, value_3);
        var tmp2_2 = tmp2 + 2 | 0;
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_4 = toByte(128 | v & 63);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2_2, value_4);
        tmp = 3;
      } else if (65536 <= v ? v <= 1114111 : false) {
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_5 = toByte(240 | v >> 18 & 7);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2, value_5);
        var tmp2_3 = tmp2 + 1 | 0;
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_6 = toByte(128 | v >> 12 & 63);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2_3, value_6);
        var tmp2_4 = tmp2 + 2 | 0;
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_7 = toByte(128 | v >> 6 & 63);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2_4, value_7);
        var tmp2_5 = tmp2 + 3 | 0;
        // Inline function 'io.ktor.utils.io.bits.set' call
        // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
        var value_8 = toByte(128 | v & 63);
        tmp0.get_view_wow8a6_k$().setInt8(tmp2_5, value_8);
        tmp = 4;
      } else {
        malformedCodePoint(v);
      }
      var size = tmp;
      buffer.commitWritten_tkztjs_k$(size);
      var result = size;
      // Inline function 'kotlin.check' call
      if (!(result >= 0)) {
        var message = "The returned value shouldn't be negative";
        throw IllegalStateException_init_$Create$(toString(message));
      }
      break $l$block;
    }finally {
      $this.afterHeadWrite_tn4qvy_k$();
    }
  }
}
function writePacketMerging($this, tail, foreignStolen, pool) {
  tail.commitWrittenUntilIndex_p5vt7t_k$($this.tailPosition_1);
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var lastSize = tail.get_writePosition_jdt81t_k$() - tail.get_readPosition_70qxnc_k$() | 0;
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  var nextSize = foreignStolen.get_writePosition_jdt81t_k$() - foreignStolen.get_readPosition_70qxnc_k$() | 0;
  var maxCopySize = get_PACKET_MAX_COPY_SIZE();
  var tmp;
  var tmp_0;
  if (nextSize < maxCopySize) {
    // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
    var tmp_1 = tail.get_capacity_wxbgcd_k$() - tail.get_limit_iuokuq_k$() | 0;
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    tmp_0 = nextSize <= (tmp_1 + (tail.get_limit_iuokuq_k$() - tail.get_writePosition_jdt81t_k$() | 0) | 0);
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    tmp = nextSize;
  } else {
    tmp = -1;
  }
  var appendSize = tmp;
  var tmp_2;
  if (lastSize < maxCopySize && lastSize <= foreignStolen.get_startGap_a0yplv_k$() && isExclusivelyOwned(foreignStolen)) {
    tmp_2 = lastSize;
  } else {
    tmp_2 = -1;
  }
  var prependSize = tmp_2;
  if (appendSize === -1 && prependSize === -1) {
    $this.appendChain_rx0f6g_k$(foreignStolen);
  } else if (prependSize === -1 || appendSize <= prependSize) {
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    var tmp_3 = tail.get_limit_iuokuq_k$() - tail.get_writePosition_jdt81t_k$() | 0;
    // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
    var tmp$ret$5 = tail.get_capacity_wxbgcd_k$() - tail.get_limit_iuokuq_k$() | 0;
    writeBufferAppend(tail, foreignStolen, tmp_3 + tmp$ret$5 | 0);
    $this.afterHeadWrite_tn4qvy_k$();
    var tmp0_safe_receiver = foreignStolen.cleanNext_l2yy3o_k$();
    if (tmp0_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      $this.appendChain_rx0f6g_k$(tmp0_safe_receiver);
    }
    foreignStolen.release_vbevvg_k$(pool);
  } else if (appendSize === -1 || prependSize < appendSize) {
    writePacketSlowPrepend($this, foreignStolen, tail);
  } else {
    throw IllegalStateException_init_$Create$('prep = ' + prependSize + ', app = ' + appendSize);
  }
}
function writePacketSlowPrepend($this, foreignStolen, tail) {
  writeBufferPrepend(foreignStolen, tail);
  var tmp0_elvis_lhs = $this._head_1;
  var tmp;
  if (tmp0_elvis_lhs == null) {
    var message = "head should't be null since it is already handled in the fast-path";
    throw IllegalStateException_init_$Create$(toString(message));
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var _head = tmp;
  if (_head === tail) {
    $this._head_1 = foreignStolen;
  } else {
    var pre = _head;
    $l$loop: while (true) {
      var next = ensureNotNull(pre.get_next_wor1vg_k$());
      if (next === tail)
        break $l$loop;
      pre = next;
    }
    pre.set_next_v483mr_k$(foreignStolen);
  }
  tail.release_vbevvg_k$($this.pool_1);
  $this._tail_1 = findTail(foreignStolen);
}
function Output(pool) {
  this.pool_1 = pool;
  this._head_1 = null;
  this._tail_1 = null;
  this.tailMemory_1 = Companion_getInstance_4().get_Empty_i9b85g_k$();
  this.tailPosition_1 = 0;
  this.tailEndExclusive_1 = 0;
  this.tailInitialPosition_1 = 0;
  this.chainedSize_1 = 0;
}
protoOf(Output).get_pool_wosj1h_k$ = function () {
  return this.pool_1;
};
protoOf(Output).get__size_inpkfr_k$ = function () {
  return this.chainedSize_1 + (this.tailPosition_1 - this.tailInitialPosition_1 | 0) | 0;
};
protoOf(Output).get_head_3jiuok_k$ = function () {
  var tmp0_elvis_lhs = this._head_1;
  return tmp0_elvis_lhs == null ? Companion_getInstance_2().get_Empty_i9b85g_k$() : tmp0_elvis_lhs;
};
protoOf(Output).set_tailMemory_ud8iaq_k$ = function (_set____db54di) {
  this.tailMemory_1 = _set____db54di;
};
protoOf(Output).get_tailMemory_lzmpmj_k$ = function () {
  return this.tailMemory_1;
};
protoOf(Output).set_tailPosition_t4s9qh_k$ = function (_set____db54di) {
  this.tailPosition_1 = _set____db54di;
};
protoOf(Output).get_tailPosition_6b4e37_k$ = function () {
  return this.tailPosition_1;
};
protoOf(Output).set_tailEndExclusive_wtf5jx_k$ = function (_set____db54di) {
  this.tailEndExclusive_1 = _set____db54di;
};
protoOf(Output).get_tailEndExclusive_vde4zd_k$ = function () {
  return this.tailEndExclusive_1;
};
protoOf(Output).get_tailRemaining_nllpiw_k$ = function () {
  return this.tailEndExclusive_1 - this.tailPosition_1 | 0;
};
protoOf(Output).flush_shahbo_k$ = function () {
  flushChain(this);
};
protoOf(Output).stealAll_z3t1nh_k$ = function () {
  var tmp0_elvis_lhs = this._head_1;
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return null;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var head = tmp;
  var tmp1_safe_receiver = this._tail_1;
  if (tmp1_safe_receiver == null)
    null;
  else
    tmp1_safe_receiver.commitWrittenUntilIndex_p5vt7t_k$(this.tailPosition_1);
  this._head_1 = null;
  this._tail_1 = null;
  this.tailPosition_1 = 0;
  this.tailEndExclusive_1 = 0;
  this.tailInitialPosition_1 = 0;
  this.chainedSize_1 = 0;
  this.tailMemory_1 = Companion_getInstance_4().get_Empty_i9b85g_k$();
  return head;
};
protoOf(Output).appendSingleChunk_jotwkc_k$ = function (buffer) {
  // Inline function 'kotlin.check' call
  if (!(buffer.get_next_wor1vg_k$() == null)) {
    var message = 'It should be a single buffer chunk.';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  appendChainImpl(this, buffer, buffer, 0);
};
protoOf(Output).appendChain_rx0f6g_k$ = function (head) {
  var tail = findTail(head);
  var tmp0 = remainingAll(head);
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  // Inline function 'kotlin.Long.minus' call
  var other = tail.get_writePosition_jdt81t_k$() - tail.get_readPosition_70qxnc_k$() | 0;
  var tmp0_0 = subtract(tmp0, fromInt(other));
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  var name = 'total size increase';
  if (compare(tmp0_0, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(tmp0_0, name);
  }
  var chainedSizeDelta = convertToInt(tmp0_0);
  appendChainImpl(this, head, tail, chainedSizeDelta);
};
protoOf(Output).writeByte_9ih3z3_k$ = function (v) {
  var index = this.tailPosition_1;
  if (index < this.tailEndExclusive_1) {
    this.tailPosition_1 = index + 1 | 0;
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    this.tailMemory_1.get_view_wow8a6_k$().setInt8(index, v);
    return Unit_getInstance();
  }
  return writeByteFallback(this, v);
};
protoOf(Output).close_yn9xrc_k$ = function () {
  try {
    this.flush_shahbo_k$();
  }finally {
    this.closeDestination_mr1i3e_k$();
  }
};
protoOf(Output).append_am5a4z_k$ = function (value) {
  var tailPosition = this.tailPosition_1;
  if ((this.tailEndExclusive_1 - tailPosition | 0) >= 3) {
    var tmp0 = this.tailMemory_1;
    // Inline function 'kotlin.code' call
    // Inline function 'io.ktor.utils.io.core.internal.putUtf8Char' call
    var v = Char__toInt_impl_vasixd(value);
    var tmp;
    if (0 <= v ? v <= 127 : false) {
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_0 = toByte(v);
      tmp0.get_view_wow8a6_k$().setInt8(tailPosition, value_0);
      tmp = 1;
    } else if (128 <= v ? v <= 2047 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_1 = toByte(192 | v >> 6 & 31);
      tmp0.get_view_wow8a6_k$().setInt8(tailPosition, value_1);
      var tmp2 = tailPosition + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_2 = toByte(128 | v & 63);
      tmp0.get_view_wow8a6_k$().setInt8(tmp2, value_2);
      tmp = 2;
    } else if (2048 <= v ? v <= 65535 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_3 = toByte(224 | v >> 12 & 15);
      tmp0.get_view_wow8a6_k$().setInt8(tailPosition, value_3);
      var tmp2_0 = tailPosition + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_4 = toByte(128 | v >> 6 & 63);
      tmp0.get_view_wow8a6_k$().setInt8(tmp2_0, value_4);
      var tmp2_1 = tailPosition + 2 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_5 = toByte(128 | v & 63);
      tmp0.get_view_wow8a6_k$().setInt8(tmp2_1, value_5);
      tmp = 3;
    } else if (65536 <= v ? v <= 1114111 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_6 = toByte(240 | v >> 18 & 7);
      tmp0.get_view_wow8a6_k$().setInt8(tailPosition, value_6);
      var tmp2_2 = tailPosition + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_7 = toByte(128 | v >> 12 & 63);
      tmp0.get_view_wow8a6_k$().setInt8(tmp2_2, value_7);
      var tmp2_3 = tailPosition + 2 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_8 = toByte(128 | v >> 6 & 63);
      tmp0.get_view_wow8a6_k$().setInt8(tmp2_3, value_8);
      var tmp2_4 = tailPosition + 3 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_9 = toByte(128 | v & 63);
      tmp0.get_view_wow8a6_k$().setInt8(tmp2_4, value_9);
      tmp = 4;
    } else {
      malformedCodePoint(v);
    }
    var size = tmp;
    this.tailPosition_1 = tailPosition + size | 0;
    return this;
  }
  appendCharFallback(this, value);
  return this;
};
protoOf(Output).append_jgojdo_k$ = function (value) {
  if (value == null) {
    this.append_xdc1zw_k$('null', 0, 4);
  } else {
    this.append_xdc1zw_k$(value, 0, charSequenceLength(value));
  }
  return this;
};
protoOf(Output).append_xdc1zw_k$ = function (value, startIndex, endIndex) {
  if (value == null) {
    return this.append_xdc1zw_k$('null', startIndex, endIndex);
  }
  writeText(this, value, startIndex, endIndex, Charsets_getInstance().get_UTF_8_ihn39z_k$());
  return this;
};
protoOf(Output).writePacket_e1h3qk_k$ = function (packet) {
  var foreignStolen = packet.stealAll_z3t1nh_k$();
  if (foreignStolen == null) {
    packet.release_wu5yyf_k$();
    return Unit_getInstance();
  }
  var tail = this._tail_1;
  if (tail == null) {
    this.appendChain_rx0f6g_k$(foreignStolen);
    return Unit_getInstance();
  }
  writePacketMerging(this, tail, foreignStolen, packet.get_pool_wosj1h_k$());
};
protoOf(Output).writeChunkBuffer_16n4v5_k$ = function (chunkBuffer) {
  var _tail = this._tail_1;
  if (_tail == null) {
    this.appendChain_rx0f6g_k$(chunkBuffer);
    return Unit_getInstance();
  }
  writePacketMerging(this, _tail, chunkBuffer, this.pool_1);
};
protoOf(Output).writePacket_3jtwmc_k$ = function (p, n) {
  var remaining = n;
  $l$loop: while (remaining > 0) {
    // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
    var headRemaining = p.get_headEndExclusive_6frhsn_k$() - p.get_headPosition_o84kar_k$() | 0;
    if (headRemaining <= remaining) {
      remaining = remaining - headRemaining | 0;
      var tmp0_elvis_lhs = p.steal_4roji2_k$();
      var tmp;
      if (tmp0_elvis_lhs == null) {
        throw new EOFException('Unexpected end of packet');
      } else {
        tmp = tmp0_elvis_lhs;
      }
      this.appendSingleChunk_jotwkc_k$(tmp);
    } else {
      // Inline function 'io.ktor.utils.io.core.read' call
      // Inline function 'kotlin.contracts.contract' call
      var tmp0_elvis_lhs_0 = p.prepareRead_vozu80_k$(1);
      var tmp_0;
      if (tmp0_elvis_lhs_0 == null) {
        prematureEndOfStream(1);
      } else {
        tmp_0 = tmp0_elvis_lhs_0;
      }
      var buffer = tmp_0;
      var positionBefore = buffer.get_readPosition_70qxnc_k$();
      try {
        writeFully_1(this, buffer, remaining);
      }finally {
        var positionAfter = buffer.get_readPosition_70qxnc_k$();
        if (positionAfter < positionBefore) {
          throw IllegalStateException_init_$Create$("Buffer's position shouldn't be rewinded");
        }
        if (positionAfter === buffer.get_writePosition_jdt81t_k$()) {
          p.ensureNext_iux6pa_k$(buffer);
        } else {
          p.set_headPosition_yl6x47_k$(positionAfter);
        }
      }
      break $l$loop;
    }
  }
};
protoOf(Output).writePacket_9o18u2_k$ = function (p, n) {
  var remaining = n;
  $l$loop: while (compare(remaining, new Long(0, 0)) > 0) {
    // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
    var tmp$ret$0 = p.get_headEndExclusive_6frhsn_k$() - p.get_headPosition_o84kar_k$() | 0;
    var headRemaining = fromInt(tmp$ret$0);
    if (compare(headRemaining, remaining) <= 0) {
      remaining = subtract(remaining, headRemaining);
      var tmp0_elvis_lhs = p.steal_4roji2_k$();
      var tmp;
      if (tmp0_elvis_lhs == null) {
        throw new EOFException('Unexpected end of packet');
      } else {
        tmp = tmp0_elvis_lhs;
      }
      this.appendSingleChunk_jotwkc_k$(tmp);
    } else {
      // Inline function 'io.ktor.utils.io.core.read' call
      // Inline function 'kotlin.contracts.contract' call
      var tmp0_elvis_lhs_0 = p.prepareRead_vozu80_k$(1);
      var tmp_0;
      if (tmp0_elvis_lhs_0 == null) {
        prematureEndOfStream(1);
      } else {
        tmp_0 = tmp0_elvis_lhs_0;
      }
      var buffer = tmp_0;
      var positionBefore = buffer.get_readPosition_70qxnc_k$();
      try {
        writeFully_1(this, buffer, convertToInt(remaining));
      }finally {
        var positionAfter = buffer.get_readPosition_70qxnc_k$();
        if (positionAfter < positionBefore) {
          throw IllegalStateException_init_$Create$("Buffer's position shouldn't be rewinded");
        }
        if (positionAfter === buffer.get_writePosition_jdt81t_k$()) {
          p.ensureNext_iux6pa_k$(buffer);
        } else {
          p.set_headPosition_yl6x47_k$(positionAfter);
        }
      }
      break $l$loop;
    }
  }
};
protoOf(Output).append_nldnbc_k$ = function (csq, start, end) {
  writeText_0(this, csq, start, end, Charsets_getInstance().get_UTF_8_ihn39z_k$());
  return this;
};
protoOf(Output).release_wu5yyf_k$ = function () {
  this.close_yn9xrc_k$();
};
protoOf(Output).prepareWriteHead_9ofvdx_k$ = function (n) {
  // Inline function 'io.ktor.utils.io.core.Output.tailRemaining' call
  if ((this.tailEndExclusive_1 - this.tailPosition_1 | 0) >= n) {
    var tmp0_safe_receiver = this._tail_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      tmp0_safe_receiver.commitWrittenUntilIndex_p5vt7t_k$(this.tailPosition_1);
      return tmp0_safe_receiver;
    }
  }
  return appendNewChunk(this);
};
protoOf(Output).afterHeadWrite_tn4qvy_k$ = function () {
  var tmp0_safe_receiver = this._tail_1;
  if (tmp0_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    this.tailPosition_1 = tmp0_safe_receiver.get_writePosition_jdt81t_k$();
  }
};
protoOf(Output).write_kpgc5g_k$ = function (size, block) {
  var buffer = this.prepareWriteHead_9ofvdx_k$(size);
  try {
    var result = block(buffer);
    // Inline function 'kotlin.check' call
    if (!(result >= 0)) {
      var message = "The returned value shouldn't be negative";
      throw IllegalStateException_init_$Create$(toString(message));
    }
    return result;
  }finally {
    this.afterHeadWrite_tn4qvy_k$();
  }
};
protoOf(Output).last_qmwmtj_k$ = function (buffer) {
  this.appendSingleChunk_jotwkc_k$(buffer);
};
protoOf(Output).afterBytesStolen_o1tblb_k$ = function () {
  var head = this.get_head_3jiuok_k$();
  if (!(head === Companion_getInstance_2().get_Empty_i9b85g_k$())) {
    // Inline function 'kotlin.check' call
    if (!(head.get_next_wor1vg_k$() == null)) {
      throw IllegalStateException_init_$Create$('Check failed.');
    }
    head.resetForWrite_2oalv9_k$();
    head.reserveEndGap_i4z3fz_k$(8);
    this.tailPosition_1 = head.get_writePosition_jdt81t_k$();
    this.tailInitialPosition_1 = this.tailPosition_1;
    this.tailEndExclusive_1 = head.get_limit_iuokuq_k$();
  }
};
function writeWhileSize(_this__u8e3s4, initialSize, block) {
  initialSize = initialSize === VOID ? 1 : initialSize;
  var tail = prepareWriteHead(_this__u8e3s4, initialSize, null);
  try {
    var size;
    $l$loop: while (true) {
      size = block(tail);
      if (size <= 0)
        break $l$loop;
      tail = prepareWriteHead(_this__u8e3s4, size, tail);
    }
  }finally {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
}
function writeWhile(_this__u8e3s4, block) {
  var tail = prepareWriteHead(_this__u8e3s4, 1, null);
  try {
    $l$loop: while (block(tail)) {
      tail = prepareWriteHead(_this__u8e3s4, 1, tail);
    }
  }finally {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
}
function writeFully_1(_this__u8e3s4, src, length) {
  var tmp;
  if (length === VOID) {
    // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
    tmp = src.get_writePosition_jdt81t_k$() - src.get_readPosition_70qxnc_k$() | 0;
  } else {
    tmp = length;
  }
  length = tmp;
  // Inline function 'io.ktor.utils.io.core.writeFullyBytesTemplate' call
  var currentOffset = 0;
  var remaining = length;
  // Inline function 'io.ktor.utils.io.core.writeWhile' call
  var tail = prepareWriteHead(_this__u8e3s4, 1, null);
  try {
    $l$loop: while (true) {
      var buffer = tail;
      var tmp0 = remaining;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      // Inline function 'kotlin.comparisons.minOf' call
      var b = buffer.get_limit_iuokuq_k$() - buffer.get_writePosition_jdt81t_k$() | 0;
      var size = Math.min(tmp0, b);
      writeFully(buffer, src, size);
      currentOffset = currentOffset + size | 0;
      remaining = remaining - size | 0;
      if (!(remaining > 0))
        break $l$loop;
      tail = prepareWriteHead(_this__u8e3s4, 1, tail);
    }
  }finally {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
}
function writeFullyBytesTemplate(_this__u8e3s4, offset, length, block) {
  var currentOffset = offset;
  var remaining = length;
  // Inline function 'io.ktor.utils.io.core.writeWhile' call
  var tail = prepareWriteHead(_this__u8e3s4, 1, null);
  try {
    $l$loop: while (true) {
      var buffer = tail;
      var tmp0 = remaining;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      // Inline function 'kotlin.comparisons.minOf' call
      var b = buffer.get_limit_iuokuq_k$() - buffer.get_writePosition_jdt81t_k$() | 0;
      var size = Math.min(tmp0, b);
      block(buffer, currentOffset, size);
      currentOffset = currentOffset + size | 0;
      remaining = remaining - size | 0;
      if (!(remaining > 0))
        break $l$loop;
      tail = prepareWriteHead(_this__u8e3s4, 1, tail);
    }
  }finally {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
}
function writeFully_2(_this__u8e3s4, src, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? src.length - offset | 0 : length;
  // Inline function 'io.ktor.utils.io.core.writeFullyBytesTemplate' call
  var currentOffset = offset;
  var remaining = length;
  // Inline function 'io.ktor.utils.io.core.writeWhile' call
  var tail = prepareWriteHead(_this__u8e3s4, 1, null);
  try {
    $l$loop: while (true) {
      var buffer = tail;
      var tmp0 = remaining;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      // Inline function 'kotlin.comparisons.minOf' call
      var b = buffer.get_limit_iuokuq_k$() - buffer.get_writePosition_jdt81t_k$() | 0;
      var size = Math.min(tmp0, b);
      var currentOffset_0 = currentOffset;
      writeFully_0(buffer, src, currentOffset_0, size);
      currentOffset = currentOffset + size | 0;
      remaining = remaining - size | 0;
      if (!(remaining > 0))
        break $l$loop;
      tail = prepareWriteHead(_this__u8e3s4, 1, tail);
    }
  }finally {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
}
function writeFully_3(_this__u8e3s4, src, offset, length) {
  writeFully_4(_this__u8e3s4, src, fromInt(offset), fromInt(length));
}
function writeFully_4(_this__u8e3s4, src, offset, length) {
  // Inline function 'io.ktor.utils.io.core.writeFullyBytesTemplate' call
  var currentOffset = offset;
  var remaining = length;
  // Inline function 'io.ktor.utils.io.core.writeWhile' call
  var tail = prepareWriteHead(_this__u8e3s4, 1, null);
  try {
    $l$loop: while (true) {
      var buffer = tail;
      var tmp0 = remaining;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      var tmp$ret$0 = buffer.get_limit_iuokuq_k$() - buffer.get_writePosition_jdt81t_k$() | 0;
      // Inline function 'kotlin.comparisons.minOf' call
      var b = fromInt(tmp$ret$0);
      var size = compare(tmp0, b) <= 0 ? tmp0 : b;
      var tmp0_0 = buffer.get_memory_gl4362_k$();
      var tmp2 = fromInt(buffer.get_writePosition_jdt81t_k$());
      var sourceOffset = currentOffset;
      src.copyTo_ug0rjx_k$(tmp0_0, sourceOffset, size, tmp2);
      buffer.commitWritten_tkztjs_k$(convertToInt(size));
      currentOffset = add(currentOffset, size);
      remaining = subtract(remaining, size);
      if (!(compare(remaining, new Long(0, 0)) > 0))
        break $l$loop;
      tail = prepareWriteHead(_this__u8e3s4, 1, tail);
    }
  }finally {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
}
function writeFullyBytesTemplate_0(_this__u8e3s4, initialOffset, length, block) {
  var currentOffset = initialOffset;
  var remaining = length;
  // Inline function 'io.ktor.utils.io.core.writeWhile' call
  var tail = prepareWriteHead(_this__u8e3s4, 1, null);
  try {
    $l$loop: while (true) {
      var buffer = tail;
      var tmp0 = remaining;
      // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
      var tmp$ret$0 = buffer.get_limit_iuokuq_k$() - buffer.get_writePosition_jdt81t_k$() | 0;
      // Inline function 'kotlin.comparisons.minOf' call
      var b = fromInt(tmp$ret$0);
      var size = compare(tmp0, b) <= 0 ? tmp0 : b;
      block(buffer.get_memory_gl4362_k$(), fromInt(buffer.get_writePosition_jdt81t_k$()), currentOffset, size);
      buffer.commitWritten_tkztjs_k$(convertToInt(size));
      currentOffset = add(currentOffset, size);
      remaining = subtract(remaining, size);
      if (!(compare(remaining, new Long(0, 0)) > 0))
        break $l$loop;
      tail = prepareWriteHead(_this__u8e3s4, 1, tail);
    }
  }finally {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
}
function writeShort_0(_this__u8e3s4, value) {
  var tmp$ret$2;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.writePrimitiveTemplate' call
    var index = _this__u8e3s4.get_tailPosition_6b4e37_k$();
    if ((_this__u8e3s4.get_tailEndExclusive_vde4zd_k$() - index | 0) > 2) {
      _this__u8e3s4.set_tailPosition_t4s9qh_k$(index + 2 | 0);
      // Inline function 'io.ktor.utils.io.bits.storeShortAt' call
      _this__u8e3s4.get_tailMemory_lzmpmj_k$().get_view_wow8a6_k$().setInt16(index, value, false);
      tmp$ret$2 = true;
      break $l$block;
    }
    tmp$ret$2 = false;
  }
  if (!tmp$ret$2) {
    writeShortFallback(_this__u8e3s4, value);
  }
}
function writePrimitiveTemplate(_this__u8e3s4, componentSize, block) {
  var index = _this__u8e3s4.get_tailPosition_6b4e37_k$();
  if ((_this__u8e3s4.get_tailEndExclusive_vde4zd_k$() - index | 0) > componentSize) {
    _this__u8e3s4.set_tailPosition_t4s9qh_k$(index + componentSize | 0);
    block(_this__u8e3s4.get_tailMemory_lzmpmj_k$(), index);
    return true;
  }
  return false;
}
function writeShortFallback(_this__u8e3s4, value) {
  // Inline function 'io.ktor.utils.io.core.writePrimitiveFallbackTemplate' call
  var tail = _this__u8e3s4.prepareWriteHead_9ofvdx_k$(2);
  writeShort(tail, value);
  _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  if (!true) {
    // Inline function 'io.ktor.utils.io.bits.highByte' call
    var tmp$ret$2 = toByte(value >>> 8 | 0);
    _this__u8e3s4.writeByte_9ih3z3_k$(tmp$ret$2);
    // Inline function 'io.ktor.utils.io.bits.lowByte' call
    var tmp$ret$3 = toByte(value & 255);
    _this__u8e3s4.writeByte_9ih3z3_k$(tmp$ret$3);
  }
}
function writePrimitiveFallbackTemplate(_this__u8e3s4, componentSize, writeOperation) {
  var tail = _this__u8e3s4.prepareWriteHead_9ofvdx_k$(componentSize);
  writeOperation(tail);
  _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  return true;
}
function writeInt_0(_this__u8e3s4, value) {
  var tmp$ret$2;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.writePrimitiveTemplate' call
    var index = _this__u8e3s4.get_tailPosition_6b4e37_k$();
    if ((_this__u8e3s4.get_tailEndExclusive_vde4zd_k$() - index | 0) > 4) {
      _this__u8e3s4.set_tailPosition_t4s9qh_k$(index + 4 | 0);
      // Inline function 'io.ktor.utils.io.bits.storeIntAt' call
      _this__u8e3s4.get_tailMemory_lzmpmj_k$().get_view_wow8a6_k$().setInt32(index, value, false);
      tmp$ret$2 = true;
      break $l$block;
    }
    tmp$ret$2 = false;
  }
  if (!tmp$ret$2) {
    writeIntFallback(_this__u8e3s4, value);
  }
}
function writeLong_0(_this__u8e3s4, value) {
  var tmp$ret$2;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.writePrimitiveTemplate' call
    var index = _this__u8e3s4.get_tailPosition_6b4e37_k$();
    if ((_this__u8e3s4.get_tailEndExclusive_vde4zd_k$() - index | 0) > 8) {
      _this__u8e3s4.set_tailPosition_t4s9qh_k$(index + 8 | 0);
      // Inline function 'io.ktor.utils.io.bits.storeLongAt' call
      var this_0 = _this__u8e3s4.get_tailMemory_lzmpmj_k$();
      this_0.get_view_wow8a6_k$().setInt32(index, convertToInt(shiftRight(value, 32)), false);
      this_0.get_view_wow8a6_k$().setInt32(index + 4 | 0, convertToInt(bitwiseAnd(value, new Long(-1, 0))), false);
      tmp$ret$2 = true;
      break $l$block;
    }
    tmp$ret$2 = false;
  }
  if (!tmp$ret$2) {
    writeLongFallback(_this__u8e3s4, value);
  }
}
function writeFloat(_this__u8e3s4, value) {
  var tmp$ret$2;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.writePrimitiveTemplate' call
    var index = _this__u8e3s4.get_tailPosition_6b4e37_k$();
    if ((_this__u8e3s4.get_tailEndExclusive_vde4zd_k$() - index | 0) > 4) {
      _this__u8e3s4.set_tailPosition_t4s9qh_k$(index + 4 | 0);
      // Inline function 'io.ktor.utils.io.bits.storeFloatAt' call
      _this__u8e3s4.get_tailMemory_lzmpmj_k$().get_view_wow8a6_k$().setFloat32(index, value, false);
      tmp$ret$2 = true;
      break $l$block;
    }
    tmp$ret$2 = false;
  }
  if (!tmp$ret$2) {
    writeIntFallback(_this__u8e3s4, toRawBits(value));
  }
}
function writeDouble(_this__u8e3s4, value) {
  var tmp$ret$2;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.writePrimitiveTemplate' call
    var index = _this__u8e3s4.get_tailPosition_6b4e37_k$();
    if ((_this__u8e3s4.get_tailEndExclusive_vde4zd_k$() - index | 0) > 8) {
      _this__u8e3s4.set_tailPosition_t4s9qh_k$(index + 8 | 0);
      // Inline function 'io.ktor.utils.io.bits.storeDoubleAt' call
      _this__u8e3s4.get_tailMemory_lzmpmj_k$().get_view_wow8a6_k$().setFloat64(index, value, false);
      tmp$ret$2 = true;
      break $l$block;
    }
    tmp$ret$2 = false;
  }
  if (!tmp$ret$2) {
    writeLongFallback(_this__u8e3s4, toRawBits_0(value));
  }
}
function writeIntFallback(_this__u8e3s4, value) {
  // Inline function 'io.ktor.utils.io.core.writePrimitiveFallbackTemplate' call
  var tail = _this__u8e3s4.prepareWriteHead_9ofvdx_k$(4);
  writeInt(tail, value);
  _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  if (!true) {
    writeIntByteByByte(_this__u8e3s4, value);
  }
}
function writeLongFallback(_this__u8e3s4, value) {
  // Inline function 'io.ktor.utils.io.core.writePrimitiveFallbackTemplate' call
  var tail = _this__u8e3s4.prepareWriteHead_9ofvdx_k$(8);
  writeLong(tail, value);
  _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  if (!true) {
    // Inline function 'io.ktor.utils.io.bits.highInt' call
    var tmp$ret$2 = convertToInt(shiftRightUnsigned(value, 32));
    writeIntByteByByte(_this__u8e3s4, tmp$ret$2);
    // Inline function 'io.ktor.utils.io.bits.lowInt' call
    var tmp$ret$3 = convertToInt(bitwiseAnd(value, new Long(-1, 0)));
    writeIntByteByByte(_this__u8e3s4, tmp$ret$3);
  }
}
function writeIntByteByByte(_this__u8e3s4, value) {
  // Inline function 'io.ktor.utils.io.bits.highShort' call
  // Inline function 'kotlin.let' call
  var it = toShort(value >>> 16 | 0);
  // Inline function 'io.ktor.utils.io.bits.highByte' call
  var tmp$ret$1 = toByte(it >>> 8 | 0);
  _this__u8e3s4.writeByte_9ih3z3_k$(tmp$ret$1);
  // Inline function 'io.ktor.utils.io.bits.lowByte' call
  var tmp$ret$2 = toByte(it & 255);
  _this__u8e3s4.writeByte_9ih3z3_k$(tmp$ret$2);
  // Inline function 'io.ktor.utils.io.bits.lowShort' call
  // Inline function 'kotlin.let' call
  var it_0 = toShort(value & 65535);
  // Inline function 'io.ktor.utils.io.bits.highByte' call
  var tmp$ret$6 = toByte(it_0 >>> 8 | 0);
  _this__u8e3s4.writeByte_9ih3z3_k$(tmp$ret$6);
  // Inline function 'io.ktor.utils.io.bits.lowByte' call
  var tmp$ret$7 = toByte(it_0 & 255);
  _this__u8e3s4.writeByte_9ih3z3_k$(tmp$ret$7);
}
function get_isEmpty(_this__u8e3s4) {
  return _this__u8e3s4.get_endOfInput_skegkh_k$();
}
function get_isNotEmpty(_this__u8e3s4) {
  return !_this__u8e3s4.get_endOfInput_skegkh_k$();
}
function read_0(_this__u8e3s4, n, block) {
  n = n === VOID ? 1 : n;
  // Inline function 'kotlin.contracts.contract' call
  var tmp0_elvis_lhs = _this__u8e3s4.prepareRead_vozu80_k$(n);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    prematureEndOfStream(n);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var buffer = tmp;
  var positionBefore = buffer.get_readPosition_70qxnc_k$();
  try {
    block(buffer);
  }finally {
    var positionAfter = buffer.get_readPosition_70qxnc_k$();
    if (positionAfter < positionBefore) {
      throw IllegalStateException_init_$Create$("Buffer's position shouldn't be rewinded");
    }
    if (positionAfter === buffer.get_writePosition_jdt81t_k$()) {
      _this__u8e3s4.ensureNext_iux6pa_k$(buffer);
    } else {
      _this__u8e3s4.set_headPosition_yl6x47_k$(positionAfter);
    }
  }
}
function toByteArray(_this__u8e3s4, charset) {
  charset = charset === VOID ? Charsets_getInstance().get_UTF_8_ihn39z_k$() : charset;
  if (charset.equals(Charsets_getInstance().get_UTF_8_ihn39z_k$()))
    return encodeToByteArray(_this__u8e3s4);
  return encodeToByteArray_0(charset.newEncoder_gqwcdg_k$(), _this__u8e3s4, 0, _this__u8e3s4.length);
}
function readText(_this__u8e3s4, charset, max) {
  charset = charset === VOID ? Charsets_getInstance().get_UTF_8_ihn39z_k$() : charset;
  max = max === VOID ? 2147483647 : max;
  return decode(charset.newDecoder_zcettw_k$(), _this__u8e3s4, max);
}
function readBytes(_this__u8e3s4, n) {
  var tmp;
  if (n === VOID) {
    var tmp0 = _this__u8e3s4.get_remaining_mwegr1_k$();
    // Inline function 'io.ktor.utils.io.core.coerceAtMostMaxIntOrFail' call
    var message = 'Unable to convert to a ByteArray: packet is too big';
    if (compare(tmp0, new Long(2147483647, 0)) > 0)
      throw IllegalArgumentException_init_$Create$(message);
    tmp = convertToInt(tmp0);
  } else {
    tmp = n;
  }
  n = tmp;
  var tmp_0;
  if (!(n === 0)) {
    // Inline function 'kotlin.also' call
    var this_0 = new Int8Array(n);
    readFully_3(_this__u8e3s4, this_0, 0, n);
    tmp_0 = this_0;
  } else {
    tmp_0 = get_EmptyByteArray();
  }
  return tmp_0;
}
function writeText(_this__u8e3s4, text, fromIndex, toIndex, charset) {
  fromIndex = fromIndex === VOID ? 0 : fromIndex;
  toIndex = toIndex === VOID ? charSequenceLength(text) : toIndex;
  charset = charset === VOID ? Charsets_getInstance().get_UTF_8_ihn39z_k$() : charset;
  if (charset === Charsets_getInstance().get_UTF_8_ihn39z_k$()) {
    return writeTextUtf8(_this__u8e3s4, text, fromIndex, toIndex);
  }
  encodeToImpl(charset.newEncoder_gqwcdg_k$(), _this__u8e3s4, text, fromIndex, toIndex);
}
function prematureEndOfStream(size) {
  throw new EOFException('Premature end of stream: expected ' + size + ' bytes');
}
function readTextExactBytes(_this__u8e3s4, bytesCount, charset) {
  charset = charset === VOID ? Charsets_getInstance().get_UTF_8_ihn39z_k$() : charset;
  return decodeExactBytes(charset.newDecoder_zcettw_k$(), _this__u8e3s4, bytesCount);
}
function writeText_0(_this__u8e3s4, text, fromIndex, toIndex, charset) {
  fromIndex = fromIndex === VOID ? 0 : fromIndex;
  toIndex = toIndex === VOID ? text.length : toIndex;
  charset = charset === VOID ? Charsets_getInstance().get_UTF_8_ihn39z_k$() : charset;
  if (charset === Charsets_getInstance().get_UTF_8_ihn39z_k$()) {
    return writeTextUtf8(_this__u8e3s4, new CharArraySequence(text, 0, text.length), fromIndex, toIndex);
  }
  encode_0(charset.newEncoder_gqwcdg_k$(), text, fromIndex, toIndex, _this__u8e3s4);
}
function writeTextUtf8(_this__u8e3s4, text, fromIndex, toIndex) {
  var index = fromIndex;
  // Inline function 'io.ktor.utils.io.core.writeWhileSize' call
  var tail = prepareWriteHead(_this__u8e3s4, 1, null);
  try {
    var size;
    $l$loop: while (true) {
      var buffer = tail;
      var memory = buffer.get_memory_gl4362_k$();
      var dstOffset = buffer.get_writePosition_jdt81t_k$();
      var dstLimit = buffer.get_limit_iuokuq_k$();
      var tmp0_container = encodeUTF8(memory, text, index, toIndex, dstOffset, dstLimit);
      var characters = EncodeResult__component1_impl_36tlhi(tmp0_container);
      var bytes = EncodeResult__component2_impl_3nv7vp(tmp0_container);
      var tmp = index;
      // Inline function 'kotlin.UShort.toInt' call
      index = tmp + (_UShort___get_data__impl__g0245(characters) & 65535) | 0;
      // Inline function 'kotlin.UShort.toInt' call
      var tmp$ret$1 = _UShort___get_data__impl__g0245(bytes) & 65535;
      buffer.commitWritten_tkztjs_k$(tmp$ret$1);
      var tmp_0;
      var tmp_1;
      // Inline function 'kotlin.UShort.toInt' call
      if ((_UShort___get_data__impl__g0245(characters) & 65535) === 0) {
        tmp_1 = index < toIndex;
      } else {
        tmp_1 = false;
      }
      if (tmp_1) {
        tmp_0 = 8;
      } else {
        if (index < toIndex) {
          tmp_0 = 1;
        } else {
          tmp_0 = 0;
        }
      }
      size = tmp_0;
      if (size <= 0)
        break $l$loop;
      tail = prepareWriteHead(_this__u8e3s4, size, tail);
    }
  }finally {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
}
function _get_array__jslnqg($this) {
  return $this.array_1;
}
function _get_offset__c6qzmg($this) {
  return $this.offset_1;
}
function indexOutOfBounds($this, index) {
  throw IndexOutOfBoundsException_init_$Create$('String index out of bounds: ' + index + ' > ' + $this.length_1);
}
function CharArraySequence(array, offset, length) {
  this.array_1 = array;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf(CharArraySequence).get_length_g42xv3_k$ = function () {
  return this.length_1;
};
protoOf(CharArraySequence).get_kdzpvg_k$ = function (index) {
  if (index >= this.length_1) {
    indexOutOfBounds(this, index);
  }
  return this.array_1[index + this.offset_1 | 0];
};
protoOf(CharArraySequence).subSequence_hm5hnj_k$ = function (startIndex, endIndex) {
  // Inline function 'kotlin.require' call
  if (!(startIndex >= 0)) {
    var message = "startIndex shouldn't be negative: " + startIndex;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.require' call
  if (!(startIndex <= this.length_1)) {
    var message_0 = 'startIndex is too large: ' + startIndex + ' > ' + this.length_1;
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  // Inline function 'kotlin.require' call
  if (!((startIndex + endIndex | 0) <= this.length_1)) {
    var message_1 = 'endIndex is too large: ' + endIndex + ' > ' + this.length_1;
    throw IllegalArgumentException_init_$Create$(toString(message_1));
  }
  // Inline function 'kotlin.require' call
  if (!(endIndex >= startIndex)) {
    var message_2 = 'endIndex should be greater or equal to startIndex: ' + startIndex + ' > ' + endIndex;
    throw IllegalArgumentException_init_$Create$(toString(message_2));
  }
  return new CharArraySequence(this.array_1, this.offset_1 + startIndex | 0, endIndex - startIndex | 0);
};
function ChunkBuffer$Companion$EmptyPool$1() {
}
protoOf(ChunkBuffer$Companion$EmptyPool$1).get_capacity_wxbgcd_k$ = function () {
  return 1;
};
protoOf(ChunkBuffer$Companion$EmptyPool$1).borrow_mvkpor_k$ = function () {
  return Companion_getInstance_2().Empty_1;
};
protoOf(ChunkBuffer$Companion$EmptyPool$1).recycle_2vlm99_k$ = function (instance) {
  // Inline function 'kotlin.require' call
  if (!(instance === Companion_getInstance_2().Empty_1)) {
    var message = 'Only ChunkBuffer.Empty instance could be recycled.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
};
protoOf(ChunkBuffer$Companion$EmptyPool$1).recycle_d2xv5h_k$ = function (instance) {
  return this.recycle_2vlm99_k$(instance instanceof ChunkBuffer ? instance : THROW_CCE());
};
protoOf(ChunkBuffer$Companion$EmptyPool$1).dispose_3nnxhr_k$ = function () {
};
function ChunkBuffer$Companion$NoPool$1() {
  NoPoolImpl.call(this);
}
protoOf(ChunkBuffer$Companion$NoPool$1).borrow_mvkpor_k$ = function () {
  return new ChunkBuffer(DefaultAllocator_getInstance().alloc_l8bx4z_k$(4096), null, this);
};
protoOf(ChunkBuffer$Companion$NoPool$1).recycle_2vlm99_k$ = function (instance) {
  DefaultAllocator_getInstance().free_r48ke1_k$(instance.get_memory_gl4362_k$());
};
protoOf(ChunkBuffer$Companion$NoPool$1).recycle_d2xv5h_k$ = function (instance) {
  return this.recycle_2vlm99_k$(instance instanceof ChunkBuffer ? instance : THROW_CCE());
};
function ChunkBuffer$Companion$NoPoolManuallyManaged$1() {
  NoPoolImpl.call(this);
}
protoOf(ChunkBuffer$Companion$NoPoolManuallyManaged$1).borrow_mvkpor_k$ = function () {
  throw UnsupportedOperationException_init_$Create$_0("This pool doesn't support borrow");
};
protoOf(ChunkBuffer$Companion$NoPoolManuallyManaged$1).recycle_2vlm99_k$ = function (instance) {
};
protoOf(ChunkBuffer$Companion$NoPoolManuallyManaged$1).recycle_d2xv5h_k$ = function (instance) {
  return this.recycle_2vlm99_k$(instance instanceof ChunkBuffer ? instance : THROW_CCE());
};
function _get_nextRef__cbbs0f($this) {
  return $this.nextRef_1;
}
function _get_refCount__6xgqup($this) {
  return $this.refCount_1;
}
function _set_origin__gfzohd($this, _set____db54di) {
  $this.origin_1 = _set____db54di;
}
function appendNext($this, chunk) {
  if (!$this.nextRef_1.atomicfu$compareAndSet(null, chunk)) {
    throw IllegalStateException_init_$Create$('This chunk has already a next chunk.');
  }
}
function Companion_2() {
  Companion_instance_2 = this;
  var tmp = this;
  tmp.EmptyPool_1 = new ChunkBuffer$Companion$EmptyPool$1();
  this.Empty_1 = new ChunkBuffer(Companion_getInstance_4().get_Empty_i9b85g_k$(), null, this.EmptyPool_1);
  var tmp_0 = this;
  tmp_0.NoPool_1 = new ChunkBuffer$Companion$NoPool$1();
  var tmp_1 = this;
  tmp_1.NoPoolManuallyManaged_1 = new ChunkBuffer$Companion$NoPoolManuallyManaged$1();
}
protoOf(Companion_2).get_Pool_wo83gl_k$ = function () {
  return get_DefaultChunkedBufferPool();
};
protoOf(Companion_2).get_EmptyPool_i65buo_k$ = function () {
  return this.EmptyPool_1;
};
protoOf(Companion_2).get_Empty_i9b85g_k$ = function () {
  return this.Empty_1;
};
protoOf(Companion_2).get_NoPool_44i68f_k$ = function () {
  return this.NoPool_1;
};
protoOf(Companion_2).get_NoPoolManuallyManaged_30991t_k$ = function () {
  return this.NoPoolManuallyManaged_1;
};
var Companion_instance_2;
function Companion_getInstance_2() {
  if (Companion_instance_2 == null)
    new Companion_2();
  return Companion_instance_2;
}
function ChunkBuffer(memory, origin, parentPool) {
  Companion_getInstance_2();
  Buffer.call(this, memory);
  this.parentPool_1 = parentPool;
  // Inline function 'kotlin.require' call
  if (!!(origin === this)) {
    var message = "A chunk couldn't be a view of itself.";
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.nextRef_1 = atomic$ref$1(null);
  this.refCount_1 = atomic$int$1(1);
  this.origin_1 = origin;
}
protoOf(ChunkBuffer).get_parentPool_co68yi_k$ = function () {
  return this.parentPool_1;
};
protoOf(ChunkBuffer).get_origin_hq9xkf_k$ = function () {
  return this.origin_1;
};
protoOf(ChunkBuffer).set_next_v483mr_k$ = function (newValue) {
  if (newValue == null) {
    this.cleanNext_l2yy3o_k$();
  } else {
    appendNext(this, newValue);
  }
};
protoOf(ChunkBuffer).get_next_wor1vg_k$ = function () {
  return this.nextRef_1.get_kotlinx$atomicfu$value_vi2am5_k$();
};
protoOf(ChunkBuffer).get_referenceCount_1ialcd_k$ = function () {
  return this.refCount_1.get_kotlinx$atomicfu$value_vi2am5_k$();
};
protoOf(ChunkBuffer).cleanNext_l2yy3o_k$ = function () {
  return this.nextRef_1.atomicfu$getAndSet(null);
};
protoOf(ChunkBuffer).duplicate_jvgc97_k$ = function () {
  var tmp0_elvis_lhs = this.origin_1;
  // Inline function 'kotlin.let' call
  var newOrigin = tmp0_elvis_lhs == null ? this : tmp0_elvis_lhs;
  newOrigin.acquire_8bgs8h_k$();
  // Inline function 'kotlin.also' call
  var this_0 = new ChunkBuffer(this.get_memory_gl4362_k$(), newOrigin, this.parentPool_1);
  this.duplicateTo_5gqm85_k$(this_0);
  return this_0;
};
protoOf(ChunkBuffer).release_vbevvg_k$ = function (pool) {
  if (this.release_mlkky_k$()) {
    var origin = this.origin_1;
    if (!(origin == null)) {
      this.unlink_qbwysy_k$();
      origin.release_vbevvg_k$(pool);
    } else {
      var tmp0_elvis_lhs = this.parentPool_1;
      var poolToUse = tmp0_elvis_lhs == null ? pool : tmp0_elvis_lhs;
      poolToUse.recycle_d2xv5h_k$(this);
    }
  }
};
protoOf(ChunkBuffer).unlink_qbwysy_k$ = function () {
  if (!this.refCount_1.atomicfu$compareAndSet(0, -1)) {
    throw IllegalStateException_init_$Create$('Unable to unlink: buffer is in use.');
  }
  this.cleanNext_l2yy3o_k$();
  this.origin_1 = null;
};
protoOf(ChunkBuffer).acquire_8bgs8h_k$ = function () {
  var tmp0 = this.refCount_1;
  $l$block: {
    // Inline function 'kotlinx.atomicfu.update' call
    while (true) {
      var cur = tmp0.get_kotlinx$atomicfu$value_vi2am5_k$();
      if (cur <= 0)
        throw IllegalStateException_init_$Create$('Unable to acquire chunk: it is already released.');
      var upd = cur + 1 | 0;
      if (tmp0.atomicfu$compareAndSet(cur, upd)) {
        break $l$block;
      }
    }
  }
};
protoOf(ChunkBuffer).unpark_9geoce_k$ = function () {
  var tmp0 = this.refCount_1;
  $l$block: {
    // Inline function 'kotlinx.atomicfu.update' call
    while (true) {
      var cur = tmp0.get_kotlinx$atomicfu$value_vi2am5_k$();
      if (cur < 0) {
        throw IllegalStateException_init_$Create$("This instance is already disposed and couldn't be borrowed.");
      }
      if (cur > 0) {
        throw IllegalStateException_init_$Create$('This instance is already in use but somehow appeared in the pool.');
      }
      var upd = 1;
      if (tmp0.atomicfu$compareAndSet(cur, upd)) {
        break $l$block;
      }
    }
  }
};
protoOf(ChunkBuffer).release_mlkky_k$ = function () {
  var tmp0 = this.refCount_1;
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlinx.atomicfu.updateAndGet' call
    while (true) {
      var cur = tmp0.get_kotlinx$atomicfu$value_vi2am5_k$();
      if (cur <= 0)
        throw IllegalStateException_init_$Create$('Unable to release: it is already released.');
      var upd = cur - 1 | 0;
      if (tmp0.atomicfu$compareAndSet(cur, upd)) {
        tmp$ret$1 = upd;
        break $l$block;
      }
    }
  }
  return tmp$ret$1 === 0;
};
protoOf(ChunkBuffer).reset_5u6xz3_k$ = function () {
  // Inline function 'kotlin.require' call
  if (!(this.origin_1 == null)) {
    var message = 'Unable to reset buffer with origin';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  protoOf(Buffer).reset_5u6xz3_k$.call(this);
  this.nextRef_1.set_kotlinx$atomicfu$value_508e3y_k$(null);
};
function isExclusivelyOwned(_this__u8e3s4) {
  return _this__u8e3s4.get_referenceCount_1ialcd_k$() === 1;
}
function _EncodeResult___init__impl__vkc0cy(value) {
  return value;
}
function _EncodeResult___get_value__impl__h0r466($this) {
  return $this;
}
function _EncodeResult___init__impl__vkc0cy_0(characters, bytes) {
  // Inline function 'kotlin.UShort.toInt' call
  var tmp = (_UShort___get_data__impl__g0245(characters) & 65535) << 16;
  // Inline function 'kotlin.UShort.toInt' call
  var tmp$ret$1 = _UShort___get_data__impl__g0245(bytes) & 65535;
  return _EncodeResult___init__impl__vkc0cy(tmp | tmp$ret$1);
}
function _EncodeResult___get_characters__impl__rrxzcv($this) {
  // Inline function 'io.ktor.utils.io.bits.highShort' call
  var this_0 = _EncodeResult___get_value__impl__h0r466($this);
  // Inline function 'kotlin.toUShort' call
  var this_1 = toShort(this_0 >>> 16 | 0);
  return _UShort___init__impl__jigrne(this_1);
}
function _EncodeResult___get_bytes__impl__bt0kq0($this) {
  // Inline function 'io.ktor.utils.io.bits.lowShort' call
  var this_0 = _EncodeResult___get_value__impl__h0r466($this);
  // Inline function 'kotlin.toUShort' call
  var this_1 = toShort(this_0 & 65535);
  return _UShort___init__impl__jigrne(this_1);
}
function EncodeResult__component1_impl_36tlhi($this) {
  return _EncodeResult___get_characters__impl__rrxzcv($this);
}
function EncodeResult__component2_impl_3nv7vp($this) {
  return _EncodeResult___get_bytes__impl__bt0kq0($this);
}
function EncodeResult__toString_impl_ck9qjy($this) {
  return 'EncodeResult(value=' + $this + ')';
}
function EncodeResult__hashCode_impl_96w68x($this) {
  return $this;
}
function EncodeResult__equals_impl_szairf($this, other) {
  if (!(other instanceof EncodeResult))
    return false;
  if (!($this === (other instanceof EncodeResult ? other.value_1 : THROW_CCE())))
    return false;
  return true;
}
function EncodeResult(value) {
  this.value_1 = value;
}
protoOf(EncodeResult).toString = function () {
  return EncodeResult__toString_impl_ck9qjy(this.value_1);
};
protoOf(EncodeResult).hashCode = function () {
  return EncodeResult__hashCode_impl_96w68x(this.value_1);
};
protoOf(EncodeResult).equals = function (other) {
  return EncodeResult__equals_impl_szairf(this.value_1, other);
};
function toIntOrFail(_this__u8e3s4, name) {
  if (compare(_this__u8e3s4, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(_this__u8e3s4, name);
  }
  return convertToInt(_this__u8e3s4);
}
function failLongToIntConversion(value, name) {
  throw IllegalArgumentException_init_$Create$('Long value ' + value.toString() + ' of ' + name + " doesn't fit into 32-bit integer");
}
function decodeASCII(_this__u8e3s4, consumer) {
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  var endExclusive = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var inductionVariable = tmp2;
  if (inductionVariable < endExclusive)
    do {
      var index = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.get' call
      // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
      var codepoint = tmp0.get_view_wow8a6_k$().getInt8(index) & 255;
      if ((codepoint & 128) === 128 || !consumer(new Char(numberToChar(codepoint)))) {
        _this__u8e3s4.discardExact_11sae1_k$(index - tmp2 | 0);
        return false;
      }
    }
     while (inductionVariable < endExclusive);
  var rc = endExclusive - tmp2 | 0;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return true;
}
function MalformedUTF8InputException(message) {
  Exception_init_$Init$(message, this);
  captureStack(this, MalformedUTF8InputException);
}
function decodeUTF8(_this__u8e3s4, consumer) {
  var byteCount = 0;
  var value = 0;
  var lastByteCount = 0;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  var endExclusive = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var inductionVariable = tmp2;
  if (inductionVariable < endExclusive)
    do {
      var index = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.get' call
      // Inline function 'io.ktor.utils.io.bits.Memory.loadAt' call
      var v = tmp0.get_view_wow8a6_k$().getInt8(index) & 255;
      if ((v & 128) === 0) {
        if (!(byteCount === 0)) {
          malformedByteCount(byteCount);
        }
        if (!consumer(new Char(numberToChar(v)))) {
          _this__u8e3s4.discardExact_11sae1_k$(index - tmp2 | 0);
          return -1;
        }
      } else if (byteCount === 0) {
        var mask = 128;
        value = v;
        var inductionVariable_0 = 1;
        if (inductionVariable_0 <= 6)
          $l$loop: do {
            var i = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            if (!((value & mask) === 0)) {
              value = value & ~mask;
              mask = mask >> 1;
              byteCount = byteCount + 1 | 0;
            } else {
              break $l$loop;
            }
          }
           while (inductionVariable_0 <= 6);
        lastByteCount = byteCount;
        byteCount = byteCount - 1 | 0;
        if (lastByteCount > (endExclusive - index | 0)) {
          _this__u8e3s4.discardExact_11sae1_k$(index - tmp2 | 0);
          return lastByteCount;
        }
      } else {
        value = value << 6 | v & 127;
        byteCount = byteCount - 1 | 0;
        if (byteCount === 0) {
          if (isBmpCodePoint(value)) {
            if (!consumer(new Char(numberToChar(value)))) {
              _this__u8e3s4.discardExact_11sae1_k$(((index - tmp2 | 0) - lastByteCount | 0) + 1 | 0);
              return -1;
            }
          } else if (!isValidCodePoint(value)) {
            malformedCodePoint(value);
          } else {
            if (!consumer(new Char(numberToChar(highSurrogate(value)))) || !consumer(new Char(numberToChar(lowSurrogate(value))))) {
              _this__u8e3s4.discardExact_11sae1_k$(((index - tmp2 | 0) - lastByteCount | 0) + 1 | 0);
              return -1;
            }
          }
          value = 0;
        }
      }
    }
     while (inductionVariable < endExclusive);
  var rc = endExclusive - tmp2 | 0;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return 0;
}
function putUtf8Char(_this__u8e3s4, offset, v) {
  var tmp;
  if (0 <= v ? v <= 127 : false) {
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value = toByte(v);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value);
    tmp = 1;
  } else if (128 <= v ? v <= 2047 : false) {
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_0 = toByte(192 | v >> 6 & 31);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_0);
    var tmp2 = offset + 1 | 0;
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_1 = toByte(128 | v & 63);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2, value_1);
    tmp = 2;
  } else if (2048 <= v ? v <= 65535 : false) {
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_2 = toByte(224 | v >> 12 & 15);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_2);
    var tmp2_0 = offset + 1 | 0;
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_3 = toByte(128 | v >> 6 & 63);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_0, value_3);
    var tmp2_1 = offset + 2 | 0;
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_4 = toByte(128 | v & 63);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_1, value_4);
    tmp = 3;
  } else if (65536 <= v ? v <= 1114111 : false) {
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_5 = toByte(240 | v >> 18 & 7);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_5);
    var tmp2_2 = offset + 1 | 0;
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_6 = toByte(128 | v >> 12 & 63);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_2, value_6);
    var tmp2_3 = offset + 2 | 0;
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_7 = toByte(128 | v >> 6 & 63);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_3, value_7);
    var tmp2_4 = offset + 3 | 0;
    // Inline function 'io.ktor.utils.io.bits.set' call
    // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
    var value_8 = toByte(128 | v & 63);
    _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_4, value_8);
    tmp = 4;
  } else {
    malformedCodePoint(v);
  }
  return tmp;
}
function encodeUTF8(_this__u8e3s4, text, from, to, dstOffset, dstLimit) {
  // Inline function 'kotlin.UShort.toInt' call
  var this_0 = _UShort___init__impl__jigrne(-1);
  // Inline function 'kotlin.comparisons.minOf' call
  var b = from + (_UShort___get_data__impl__g0245(this_0) & 65535) | 0;
  var lastCharIndex = Math.min(to, b);
  // Inline function 'kotlin.UShort.toInt' call
  var this_1 = _UShort___init__impl__jigrne(-1);
  var tmp$ret$2 = _UShort___get_data__impl__g0245(this_1) & 65535;
  var resultLimit = coerceAtMost_0(dstLimit, tmp$ret$2);
  var resultPosition = dstOffset;
  var index = from;
  $l$loop: do {
    if (resultPosition >= resultLimit || index >= lastCharIndex) {
      // Inline function 'kotlin.toUShort' call
      var this_2 = index - from | 0;
      var tmp = _UShort___init__impl__jigrne(toShort(this_2));
      // Inline function 'kotlin.toUShort' call
      var this_3 = resultPosition - dstOffset | 0;
      var tmp$ret$4 = _UShort___init__impl__jigrne(toShort(this_3));
      return _EncodeResult___init__impl__vkc0cy_0(tmp, tmp$ret$4);
    }
    var tmp0 = index;
    index = tmp0 + 1 | 0;
    // Inline function 'kotlin.code' call
    var this_4 = charSequenceGet(text, tmp0);
    var character = Char__toInt_impl_vasixd(this_4) & 65535;
    if ((character & 65408) === 0) {
      var tmp1 = resultPosition;
      resultPosition = tmp1 + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value = toByte(character);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp1, value);
    } else {
      break $l$loop;
    }
  }
   while (true);
  index = index - 1 | 0;
  return encodeUTF8Stage1(_this__u8e3s4, text, index, lastCharIndex, from, resultPosition, resultLimit, dstOffset);
}
function malformedByteCount(byteCount) {
  throw new MalformedUTF8InputException('Expected ' + byteCount + ' more character bytes');
}
function isBmpCodePoint(cp) {
  return (cp >>> 16 | 0) === 0;
}
function isValidCodePoint(codePoint) {
  return codePoint <= 1114111;
}
function malformedCodePoint(value) {
  throw IllegalArgumentException_init_$Create$('Malformed code-point ' + value + ' found');
}
function highSurrogate(cp) {
  return (cp >>> 10 | 0) + 55232 | 0;
}
function lowSurrogate(cp) {
  return (cp & 1023) + 56320 | 0;
}
function encodeUTF8Stage1(_this__u8e3s4, text, index1, lastCharIndex, from, resultPosition1, resultLimit, dstOffset) {
  var index = index1;
  var resultPosition = resultPosition1;
  var stage1Limit = resultLimit - 3 | 0;
  $l$loop: do {
    var freeSpace = stage1Limit - resultPosition | 0;
    if (freeSpace <= 0 || index >= lastCharIndex) {
      break $l$loop;
    }
    var tmp0 = index;
    index = tmp0 + 1 | 0;
    var character = charSequenceGet(text, tmp0);
    var tmp;
    if (isHighSurrogate(character)) {
      var tmp_0;
      if (index === lastCharIndex || !isLowSurrogate(charSequenceGet(text, index))) {
        tmp_0 = 63;
      } else {
        var tmp1 = index;
        index = tmp1 + 1 | 0;
        tmp_0 = codePoint(character, charSequenceGet(text, tmp1));
      }
      tmp = tmp_0;
    } else {
      // Inline function 'kotlin.code' call
      tmp = Char__toInt_impl_vasixd(character);
    }
    var codepoint = tmp;
    // Inline function 'io.ktor.utils.io.core.internal.putUtf8Char' call
    var offset = resultPosition;
    var tmp_1;
    if (0 <= codepoint ? codepoint <= 127 : false) {
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value = toByte(codepoint);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value);
      tmp_1 = 1;
    } else if (128 <= codepoint ? codepoint <= 2047 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_0 = toByte(192 | codepoint >> 6 & 31);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_0);
      var tmp2 = offset + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_1 = toByte(128 | codepoint & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2, value_1);
      tmp_1 = 2;
    } else if (2048 <= codepoint ? codepoint <= 65535 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_2 = toByte(224 | codepoint >> 12 & 15);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_2);
      var tmp2_0 = offset + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_3 = toByte(128 | codepoint >> 6 & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_0, value_3);
      var tmp2_1 = offset + 2 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_4 = toByte(128 | codepoint & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_1, value_4);
      tmp_1 = 3;
    } else if (65536 <= codepoint ? codepoint <= 1114111 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_5 = toByte(240 | codepoint >> 18 & 7);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_5);
      var tmp2_2 = offset + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_6 = toByte(128 | codepoint >> 12 & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_2, value_6);
      var tmp2_3 = offset + 2 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_7 = toByte(128 | codepoint >> 6 & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_3, value_7);
      var tmp2_4 = offset + 3 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_8 = toByte(128 | codepoint & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_4, value_8);
      tmp_1 = 4;
    } else {
      malformedCodePoint(codepoint);
    }
    var size = tmp_1;
    resultPosition = resultPosition + size | 0;
  }
   while (true);
  if (resultPosition === stage1Limit) {
    return encodeUTF8Stage2(_this__u8e3s4, text, index, lastCharIndex, from, resultPosition, resultLimit, dstOffset);
  }
  // Inline function 'kotlin.toUShort' call
  var this_0 = index - from | 0;
  var tmp_2 = _UShort___init__impl__jigrne(toShort(this_0));
  // Inline function 'kotlin.toUShort' call
  var this_1 = resultPosition - dstOffset | 0;
  var tmp$ret$22 = _UShort___init__impl__jigrne(toShort(this_1));
  return _EncodeResult___init__impl__vkc0cy_0(tmp_2, tmp$ret$22);
}
function get_MaxCodePoint() {
  return MaxCodePoint;
}
var MaxCodePoint;
function get_HighSurrogateMagic() {
  return HighSurrogateMagic;
}
var HighSurrogateMagic;
function get_MinLowSurrogate() {
  return MinLowSurrogate;
}
var MinLowSurrogate;
function codePoint(high, low) {
  // Inline function 'kotlin.code' call
  var highValue = Char__toInt_impl_vasixd(high) - 55232 | 0;
  // Inline function 'kotlin.code' call
  var lowValue = Char__toInt_impl_vasixd(low) - 56320 | 0;
  return highValue << 10 | lowValue;
}
function encodeUTF8Stage2(_this__u8e3s4, text, index1, lastCharIndex, from, resultPosition1, resultLimit, dstOffset) {
  var index = index1;
  var resultPosition = resultPosition1;
  $l$loop_0: do {
    var freeSpace = resultLimit - resultPosition | 0;
    if (freeSpace <= 0 || index >= lastCharIndex) {
      break $l$loop_0;
    }
    var tmp0 = index;
    index = tmp0 + 1 | 0;
    var character = charSequenceGet(text, tmp0);
    var tmp;
    if (!isHighSurrogate(character)) {
      // Inline function 'kotlin.code' call
      tmp = Char__toInt_impl_vasixd(character);
    } else {
      var tmp_0;
      if (index === lastCharIndex || !isLowSurrogate(charSequenceGet(text, index))) {
        tmp_0 = 63;
      } else {
        var tmp1 = index;
        index = tmp1 + 1 | 0;
        tmp_0 = codePoint(character, charSequenceGet(text, tmp1));
      }
      tmp = tmp_0;
    }
    var codepoint = tmp;
    // Inline function 'io.ktor.utils.io.core.internal.charactersSize' call
    var tmp_1;
    if (1 <= codepoint ? codepoint <= 127 : false) {
      tmp_1 = 1;
    } else if (128 <= codepoint ? codepoint <= 2047 : false) {
      tmp_1 = 2;
    } else if (2048 <= codepoint ? codepoint <= 65535 : false) {
      tmp_1 = 3;
    } else if (65536 <= codepoint ? codepoint <= 1114111 : false) {
      tmp_1 = 4;
    } else {
      malformedCodePoint(codepoint);
    }
    if (tmp_1 > freeSpace) {
      index = index - 1 | 0;
      break $l$loop_0;
    }
    // Inline function 'io.ktor.utils.io.core.internal.putUtf8Char' call
    var offset = resultPosition;
    var tmp_2;
    if (0 <= codepoint ? codepoint <= 127 : false) {
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value = toByte(codepoint);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value);
      tmp_2 = 1;
    } else if (128 <= codepoint ? codepoint <= 2047 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_0 = toByte(192 | codepoint >> 6 & 31);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_0);
      var tmp2 = offset + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_1 = toByte(128 | codepoint & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2, value_1);
      tmp_2 = 2;
    } else if (2048 <= codepoint ? codepoint <= 65535 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_2 = toByte(224 | codepoint >> 12 & 15);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_2);
      var tmp2_0 = offset + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_3 = toByte(128 | codepoint >> 6 & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_0, value_3);
      var tmp2_1 = offset + 2 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_4 = toByte(128 | codepoint & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_1, value_4);
      tmp_2 = 3;
    } else if (65536 <= codepoint ? codepoint <= 1114111 : false) {
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_5 = toByte(240 | codepoint >> 18 & 7);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(offset, value_5);
      var tmp2_2 = offset + 1 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_6 = toByte(128 | codepoint >> 12 & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_2, value_6);
      var tmp2_3 = offset + 2 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_7 = toByte(128 | codepoint >> 6 & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_3, value_7);
      var tmp2_4 = offset + 3 | 0;
      // Inline function 'io.ktor.utils.io.bits.set' call
      // Inline function 'io.ktor.utils.io.bits.Memory.storeAt' call
      var value_8 = toByte(128 | codepoint & 63);
      _this__u8e3s4.get_view_wow8a6_k$().setInt8(tmp2_4, value_8);
      tmp_2 = 4;
    } else {
      malformedCodePoint(codepoint);
    }
    var size = tmp_2;
    resultPosition = resultPosition + size | 0;
  }
   while (true);
  // Inline function 'kotlin.toUShort' call
  var this_0 = index - from | 0;
  var tmp_3 = _UShort___init__impl__jigrne(toShort(this_0));
  // Inline function 'kotlin.toUShort' call
  var this_1 = resultPosition - dstOffset | 0;
  var tmp$ret$23 = _UShort___init__impl__jigrne(toShort(this_1));
  return _EncodeResult___init__impl__vkc0cy_0(tmp_3, tmp$ret$23);
}
function charactersSize(v) {
  var tmp;
  if (1 <= v ? v <= 127 : false) {
    tmp = 1;
  } else if (128 <= v ? v <= 2047 : false) {
    tmp = 2;
  } else if (2048 <= v ? v <= 65535 : false) {
    tmp = 3;
  } else if (65536 <= v ? v <= 1114111 : false) {
    tmp = 4;
  } else {
    malformedCodePoint(v);
  }
  return tmp;
}
function decodeUTF8LineLoopSuspend(out, limit, nextChunk, afterRead, $completion) {
  var tmp = new $decodeUTF8LineLoopSuspendCOROUTINE$(out, limit, nextChunk, afterRead, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function prematureEndOfStreamUtf(size) {
  throw new EOFException('Premature end of stream: expected ' + size + ' bytes to decode UTF-8 char');
}
function $decodeUTF8LineLoopSuspendCOROUTINE$(out, limit, nextChunk, afterRead, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.out_1 = out;
  this.limit_1 = limit;
  this.nextChunk_1 = nextChunk;
  this.afterRead_1 = afterRead;
}
protoOf($decodeUTF8LineLoopSuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(4);
          this.decoded1__1 = 0;
          this.size3__1 = 1;
          this.cr2__1 = false;
          this.end0__1 = false;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(!this.end0__1 && !(this.size3__1 === 0))) {
            this.set_state_rjd8d0_k$(5);
            continue $sm;
          }

          this.set_state_rjd8d0_k$(2);
          suspendResult = this.nextChunk_1(this.size3__1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          var tmp0_elvis_lhs = suspendResult;
          if (tmp0_elvis_lhs == null) {
            this.set_state_rjd8d0_k$(5);
            var tmp_0 = this;
            continue $sm;
          } else {
            this.WHEN_RESULT4__1 = tmp0_elvis_lhs;
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

        case 3:
          var chunk = this.WHEN_RESULT4__1;
          var totalBytes = chunk.get_remaining_mwegr1_k$();
          l$ret$1: do {
            var release = true;
            var tmp0_elvis_lhs_0 = prepareReadFirstHead(chunk, 1);
            var tmp_1;
            if (tmp0_elvis_lhs_0 == null) {
              break l$ret$1;
            } else {
              tmp_1 = tmp0_elvis_lhs_0;
            }
            var current = tmp_1;
            var size = 1;
            l$ret$15: do {
              try {
                $l$loop_0: do {
                  var this_0 = current;
                  var before = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
                  var after;
                  if (before >= size) {
                    l$ret$13: do {
                      try {
                        var buffer = current;
                        var skip = 0;
                        var tmp_2 = this;
                        var tmp$ret$4;
                        l$ret$5: do {
                          var byteCount = 0;
                          var value = 0;
                          var lastByteCount = 0;
                          var tmp0 = buffer.get_memory_gl4362_k$();
                          var tmp2 = buffer.get_readPosition_70qxnc_k$();
                          var endExclusive = buffer.get_writePosition_jdt81t_k$();
                          var inductionVariable = tmp2;
                          if (inductionVariable < endExclusive)
                            do {
                              var index = inductionVariable;
                              inductionVariable = inductionVariable + 1 | 0;
                              var v = tmp0.get_view_wow8a6_k$().getInt8(index) & 255;
                              if ((v & 128) === 0) {
                                if (!(byteCount === 0)) {
                                  malformedByteCount(byteCount);
                                }
                                var tmp0_0 = numberToChar(v);
                                var tmp$ret$2;
                                l$ret$3: do {
                                  var tmp_3;
                                  if (tmp0_0 === _Char___init__impl__6a9atx(13)) {
                                    if (this.cr2__1) {
                                      this.end0__1 = true;
                                      tmp$ret$2 = false;
                                      break l$ret$3;
                                    }
                                    this.cr2__1 = true;
                                    tmp_3 = true;
                                  } else if (tmp0_0 === _Char___init__impl__6a9atx(10)) {
                                    this.end0__1 = true;
                                    skip = 1;
                                    tmp_3 = false;
                                  } else {
                                    if (this.cr2__1) {
                                      this.end0__1 = true;
                                      tmp$ret$2 = false;
                                      break l$ret$3;
                                    }
                                    if (this.decoded1__1 === this.limit_1) {
                                      throw new TooLongLineException('Too many characters in line: limit ' + this.limit_1 + ' exceeded');
                                    }
                                    this.decoded1__1 = this.decoded1__1 + 1 | 0;
                                    this.out_1.append_am5a4z_k$(tmp0_0);
                                    tmp_3 = true;
                                  }
                                  tmp$ret$2 = tmp_3;
                                }
                                 while (false);
                                if (!tmp$ret$2) {
                                  buffer.discardExact_11sae1_k$(index - tmp2 | 0);
                                  tmp$ret$4 = -1;
                                  break l$ret$5;
                                }
                              } else if (byteCount === 0) {
                                var mask = 128;
                                value = v;
                                var inductionVariable_0 = 1;
                                if (inductionVariable_0 <= 6)
                                  $l$loop: do {
                                    var i = inductionVariable_0;
                                    inductionVariable_0 = inductionVariable_0 + 1 | 0;
                                    if (!((value & mask) === 0)) {
                                      value = value & ~mask;
                                      mask = mask >> 1;
                                      byteCount = byteCount + 1 | 0;
                                    } else {
                                      break $l$loop;
                                    }
                                  }
                                   while (inductionVariable_0 <= 6);
                                lastByteCount = byteCount;
                                byteCount = byteCount - 1 | 0;
                                if (lastByteCount > (endExclusive - index | 0)) {
                                  buffer.discardExact_11sae1_k$(index - tmp2 | 0);
                                  tmp$ret$4 = lastByteCount;
                                  break l$ret$5;
                                }
                              } else {
                                value = value << 6 | v & 127;
                                byteCount = byteCount - 1 | 0;
                                if (byteCount === 0) {
                                  if (isBmpCodePoint(value)) {
                                    var tmp0_1 = numberToChar(value);
                                    var tmp$ret$6;
                                    l$ret$7: do {
                                      var tmp_4;
                                      if (tmp0_1 === _Char___init__impl__6a9atx(13)) {
                                        if (this.cr2__1) {
                                          this.end0__1 = true;
                                          tmp$ret$6 = false;
                                          break l$ret$7;
                                        }
                                        this.cr2__1 = true;
                                        tmp_4 = true;
                                      } else if (tmp0_1 === _Char___init__impl__6a9atx(10)) {
                                        this.end0__1 = true;
                                        skip = 1;
                                        tmp_4 = false;
                                      } else {
                                        if (this.cr2__1) {
                                          this.end0__1 = true;
                                          tmp$ret$6 = false;
                                          break l$ret$7;
                                        }
                                        if (this.decoded1__1 === this.limit_1) {
                                          throw new TooLongLineException('Too many characters in line: limit ' + this.limit_1 + ' exceeded');
                                        }
                                        this.decoded1__1 = this.decoded1__1 + 1 | 0;
                                        this.out_1.append_am5a4z_k$(tmp0_1);
                                        tmp_4 = true;
                                      }
                                      tmp$ret$6 = tmp_4;
                                    }
                                     while (false);
                                    if (!tmp$ret$6) {
                                      buffer.discardExact_11sae1_k$(((index - tmp2 | 0) - lastByteCount | 0) + 1 | 0);
                                      tmp$ret$4 = -1;
                                      break l$ret$5;
                                    }
                                  } else if (!isValidCodePoint(value)) {
                                    malformedCodePoint(value);
                                  } else {
                                    var tmp_5;
                                    var tmp0_2 = numberToChar(highSurrogate(value));
                                    var tmp$ret$8;
                                    l$ret$9: do {
                                      var tmp_6;
                                      if (tmp0_2 === _Char___init__impl__6a9atx(13)) {
                                        if (this.cr2__1) {
                                          this.end0__1 = true;
                                          tmp$ret$8 = false;
                                          break l$ret$9;
                                        }
                                        this.cr2__1 = true;
                                        tmp_6 = true;
                                      } else if (tmp0_2 === _Char___init__impl__6a9atx(10)) {
                                        this.end0__1 = true;
                                        skip = 1;
                                        tmp_6 = false;
                                      } else {
                                        if (this.cr2__1) {
                                          this.end0__1 = true;
                                          tmp$ret$8 = false;
                                          break l$ret$9;
                                        }
                                        if (this.decoded1__1 === this.limit_1) {
                                          throw new TooLongLineException('Too many characters in line: limit ' + this.limit_1 + ' exceeded');
                                        }
                                        this.decoded1__1 = this.decoded1__1 + 1 | 0;
                                        this.out_1.append_am5a4z_k$(tmp0_2);
                                        tmp_6 = true;
                                      }
                                      tmp$ret$8 = tmp_6;
                                    }
                                     while (false);
                                    if (!tmp$ret$8) {
                                      tmp_5 = true;
                                    } else {
                                      var tmp0_3 = numberToChar(lowSurrogate(value));
                                      var tmp$ret$10;
                                      l$ret$11: do {
                                        var tmp_7;
                                        if (tmp0_3 === _Char___init__impl__6a9atx(13)) {
                                          if (this.cr2__1) {
                                            this.end0__1 = true;
                                            tmp$ret$10 = false;
                                            break l$ret$11;
                                          }
                                          this.cr2__1 = true;
                                          tmp_7 = true;
                                        } else if (tmp0_3 === _Char___init__impl__6a9atx(10)) {
                                          this.end0__1 = true;
                                          skip = 1;
                                          tmp_7 = false;
                                        } else {
                                          if (this.cr2__1) {
                                            this.end0__1 = true;
                                            tmp$ret$10 = false;
                                            break l$ret$11;
                                          }
                                          if (this.decoded1__1 === this.limit_1) {
                                            throw new TooLongLineException('Too many characters in line: limit ' + this.limit_1 + ' exceeded');
                                          }
                                          this.decoded1__1 = this.decoded1__1 + 1 | 0;
                                          this.out_1.append_am5a4z_k$(tmp0_3);
                                          tmp_7 = true;
                                        }
                                        tmp$ret$10 = tmp_7;
                                      }
                                       while (false);
                                      tmp_5 = !tmp$ret$10;
                                    }
                                    if (tmp_5) {
                                      buffer.discardExact_11sae1_k$(((index - tmp2 | 0) - lastByteCount | 0) + 1 | 0);
                                      tmp$ret$4 = -1;
                                      break l$ret$5;
                                    }
                                  }
                                  value = 0;
                                }
                              }
                            }
                             while (inductionVariable < endExclusive);
                          var rc = endExclusive - tmp2 | 0;
                          buffer.discardExact_11sae1_k$(rc);
                          tmp$ret$4 = 0;
                        }
                         while (false);
                        tmp_2.size3__1 = tmp$ret$4;
                        if (skip > 0) {
                          buffer.discardExact_11sae1_k$(skip);
                        }
                        this.size3__1 = this.end0__1 ? 0 : coerceAtLeast(this.size3__1, 1);
                        size = this.size3__1;
                        break l$ret$13;
                      } catch ($p) {
                        var t = $p;
                        var this_1 = current;
                        after = this_1.get_writePosition_jdt81t_k$() - this_1.get_readPosition_70qxnc_k$() | 0;
                        throw t;
                      }
                    }
                     while (false);
                    var this_2 = current;
                    after = this_2.get_writePosition_jdt81t_k$() - this_2.get_readPosition_70qxnc_k$() | 0;
                  } else {
                    after = before;
                  }
                  release = false;
                  var tmp_8;
                  if (after === 0) {
                    tmp_8 = prepareReadNextHead(chunk, current);
                  } else {
                    var tmp_9;
                    if (after < size) {
                      tmp_9 = true;
                    } else {
                      var this_3 = current;
                      tmp_9 = (this_3.get_capacity_wxbgcd_k$() - this_3.get_limit_iuokuq_k$() | 0) < 8;
                    }
                    if (tmp_9) {
                      completeReadHead(chunk, current);
                      tmp_8 = prepareReadFirstHead(chunk, size);
                    } else {
                      tmp_8 = current;
                    }
                  }
                  var tmp1_elvis_lhs = tmp_8;
                  var tmp_10;
                  if (tmp1_elvis_lhs == null) {
                    break $l$loop_0;
                  } else {
                    tmp_10 = tmp1_elvis_lhs;
                  }
                  var next = tmp_10;
                  current = next;
                  release = true;
                }
                 while (size > 0);
                break l$ret$15;
              } catch ($p) {
                var t_0 = $p;
                if (release) {
                  completeReadHead(chunk, current);
                }
                throw t_0;
              }
            }
             while (false);
            if (release) {
              completeReadHead(chunk, current);
            }
          }
           while (false);
          this.afterRead_1(convertToInt(subtract(totalBytes, chunk.get_remaining_mwegr1_k$())));
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 4:
          throw this.get_exception_x0n6w6_k$();
        case 5:
          if (this.size3__1 > 1) {
            prematureEndOfStreamUtf(this.size3__1);
          }

          if (this.cr2__1) {
            this.end0__1 = true;
          }

          return this.decoded1__1 > 0 || this.end0__1;
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 4) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function get_EmptyByteArray() {
  _init_properties_Unsafe_kt__orlvcq();
  return EmptyByteArray;
}
var EmptyByteArray;
function completeReadHead(_this__u8e3s4, current) {
  _init_properties_Unsafe_kt__orlvcq();
  if (current === _this__u8e3s4)
    return Unit_getInstance();
  else {
    // Inline function 'io.ktor.utils.io.core.canRead' call
    if (!(current.get_writePosition_jdt81t_k$() > current.get_readPosition_70qxnc_k$())) {
      _this__u8e3s4.ensureNext_iux6pa_k$(current);
    } else {
      // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
      if ((current.get_capacity_wxbgcd_k$() - current.get_limit_iuokuq_k$() | 0) < 8) {
        _this__u8e3s4.fixGapAfterRead_1ikbj6_k$(current);
      } else {
        _this__u8e3s4.set_headPosition_yl6x47_k$(current.get_readPosition_70qxnc_k$());
      }
    }
  }
}
function prepareReadFirstHead(_this__u8e3s4, minSize) {
  _init_properties_Unsafe_kt__orlvcq();
  return _this__u8e3s4.prepareReadHead_s3smdc_k$(minSize);
}
function prepareReadNextHead(_this__u8e3s4, current) {
  _init_properties_Unsafe_kt__orlvcq();
  if (current === _this__u8e3s4) {
    return _this__u8e3s4.canRead_93a6bq_k$() ? _this__u8e3s4 : null;
  }
  return _this__u8e3s4.ensureNextHead_wcj3ji_k$(current);
}
function prepareWriteHead(_this__u8e3s4, capacity, current) {
  _init_properties_Unsafe_kt__orlvcq();
  if (!(current == null)) {
    _this__u8e3s4.afterHeadWrite_tn4qvy_k$();
  }
  return _this__u8e3s4.prepareWriteHead_9ofvdx_k$(capacity);
}
function unsafeAppend(_this__u8e3s4, builder) {
  _init_properties_Unsafe_kt__orlvcq();
  var builderSize = builder.get_size_woubt6_k$();
  var tmp0_elvis_lhs = builder.stealAll_z3t1nh_k$();
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return 0;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var builderHead = tmp;
  if (builderSize <= get_PACKET_MAX_COPY_SIZE() && builderHead.get_next_wor1vg_k$() == null && _this__u8e3s4.tryWriteAppend_a9qssf_k$(builderHead)) {
    builder.afterBytesStolen_o1tblb_k$();
    return builderSize;
  }
  _this__u8e3s4.append_dlqhrp_k$(builderHead);
  return builderSize;
}
var properties_initialized_Unsafe_kt_o5mw48;
function _init_properties_Unsafe_kt__orlvcq() {
  if (!properties_initialized_Unsafe_kt_o5mw48) {
    properties_initialized_Unsafe_kt_o5mw48 = true;
    EmptyByteArray = new Int8Array(0);
  }
}
function _get_suspension__g1gp0y($this) {
  return $this.suspension_1;
}
function trySuspend($this, sleepCondition, $completion) {
  var tmp = new $trySuspendCOROUTINE$($this, sleepCondition, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function $sleepCOROUTINE$(_this__u8e3s4, sleepCondition, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.sleepCondition_1 = sleepCondition;
}
protoOf($sleepCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.set_state_rjd8d0_k$(1);
          suspendResult = trySuspend(this._this__u8e3s4__1, this.sleepCondition_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          if (suspendResult) {
            return Unit_getInstance();
          } else {
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 2:
          this._this__u8e3s4__1.resume_2o15jx_k$();
          return Unit_getInstance();
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $trySuspendCOROUTINE$(_this__u8e3s4, sleepCondition, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.sleepCondition_1 = sleepCondition;
}
protoOf($trySuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          this.suspended0__1 = false;
          var job = Job_0();
          if (this._this__u8e3s4__1.suspension_1.atomicfu$compareAndSet(null, job) && this.sleepCondition_1()) {
            this.suspended0__1 = true;
            this.set_state_rjd8d0_k$(1);
            suspendResult = job.join_o20dar_k$(this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 1:
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.suspended0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function AwaitingSlot() {
  this.suspension_1 = atomic$ref$1(null);
}
protoOf(AwaitingSlot).sleep_nce3pz_k$ = function (sleepCondition, $completion) {
  var tmp = new $sleepCOROUTINE$(this, sleepCondition, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(AwaitingSlot).resume_2o15jx_k$ = function () {
  var tmp0_safe_receiver = this.suspension_1.atomicfu$getAndSet(null);
  if (tmp0_safe_receiver == null)
    null;
  else
    tmp0_safe_receiver.complete_9ww6vb_k$();
};
protoOf(AwaitingSlot).cancel_9i2dv0_k$ = function (cause) {
  var tmp0_elvis_lhs = this.suspension_1.atomicfu$getAndSet(null);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return Unit_getInstance();
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var continuation = tmp;
  if (!(cause == null)) {
    continuation.completeExceptionally_xyzekf_k$(cause);
  } else {
    continuation.complete_9ww6vb_k$();
  }
};
function copyToSequentialImpl(_this__u8e3s4, dst, limit, $completion) {
  var tmp = new $copyToSequentialImplCOROUTINE$(_this__u8e3s4, dst, limit, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function copyToTail(_this__u8e3s4, dst, limit, $completion) {
  var tmp = new $copyToTailCOROUTINE$(_this__u8e3s4, dst, limit, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function $copyToSequentialImplCOROUTINE$(_this__u8e3s4, dst, limit, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.limit_1 = limit;
}
protoOf($copyToSequentialImplCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(10);
          if (!!(this._this__u8e3s4__1 === this.dst_1)) {
            var message = 'Failed requirement.';
            throw IllegalArgumentException_init_$Create$(toString(message));
          }

          if (!(this._this__u8e3s4__1.get_closedCause_o1qcj8_k$() == null)) {
            this.dst_1.close_ukldxa_k$(this._this__u8e3s4__1.get_closedCause_o1qcj8_k$());
            return new Long(0, 0);
          }

          this.remainingLimit0__1 = this.limit_1;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(compare(this.remainingLimit0__1, new Long(0, 0)) > 0)) {
            this.set_state_rjd8d0_k$(9);
            continue $sm;
          }

          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.awaitInternalAtLeast1_1tmgbr_k$(this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          if (!suspendResult) {
            this.set_state_rjd8d0_k$(9);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

        case 3:
          this.transferred3__1 = this._this__u8e3s4__1.transferTo_ctiqwx_k$(this.dst_1, this.remainingLimit0__1);
          if (equalsLong(this.transferred3__1, new Long(0, 0))) {
            this.set_state_rjd8d0_k$(6);
            suspendResult = copyToTail(this._this__u8e3s4__1, this.dst_1, this.remainingLimit0__1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            if (this.dst_1.get_availableForWrite_22rgeu_k$() === 0) {
              this.set_state_rjd8d0_k$(4);
              suspendResult = this.dst_1.awaitAtLeastNBytesAvailableForWrite_s8uhn2_k$(1, this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.set_state_rjd8d0_k$(5);
              continue $sm;
            }
          }

        case 4:
          this.set_state_rjd8d0_k$(5);
          continue $sm;
        case 5:
          this.WHEN_RESULT1__1 = this.transferred3__1;
          this.set_state_rjd8d0_k$(8);
          continue $sm;
        case 6:
          this.tail2__1 = suspendResult;
          if (equalsLong(this.tail2__1, new Long(0, 0))) {
            this.set_state_rjd8d0_k$(9);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(7);
            continue $sm;
          }

        case 7:
          this.WHEN_RESULT1__1 = this.tail2__1;
          this.set_state_rjd8d0_k$(8);
          continue $sm;
        case 8:
          var copied = this.WHEN_RESULT1__1;
          this.remainingLimit0__1 = subtract(this.remainingLimit0__1, copied);
          if (compare(copied, new Long(0, 0)) > 0) {
            this.dst_1.flush_shahbo_k$();
          }

          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 9:
          return subtract(this.limit_1, this.remainingLimit0__1);
        case 10:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 10) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $copyToTailCOROUTINE$(_this__u8e3s4, dst, limit, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.limit_1 = limit;
}
protoOf($copyToTailCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(9);
          this.lastPiece0__1 = Companion_getInstance_2().get_Pool_wo83gl_k$().borrow_mvkpor_k$();
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          this.set_exceptionState_fex74n_k$(8);
          this.lastPiece0__1.resetForWrite_c461wd_k$(convertToInt(coerceAtMost(this.limit_1, fromInt(this.lastPiece0__1.get_capacity_wxbgcd_k$()))));
          this.set_state_rjd8d0_k$(3);
          suspendResult = this._this__u8e3s4__1.readAvailable_wzcy2k_k$(this.lastPiece0__1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 3:
          this.rc2__1 = suspendResult;
          if (this.rc2__1 === -1) {
            this.lastPiece0__1.release_vbevvg_k$(Companion_getInstance_2().get_Pool_wo83gl_k$());
            this.tmp$ret$01__1 = new Long(0, 0);
            this.set_exceptionState_fex74n_k$(9);
            this.set_state_rjd8d0_k$(6);
            continue $sm;
          } else {
            this.set_state_rjd8d0_k$(4);
            continue $sm;
          }

        case 4:
          this.set_state_rjd8d0_k$(5);
          suspendResult = this.dst_1.writeFully_hz8k55_k$(this.lastPiece0__1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 5:
          this.tmp$ret$01__1 = fromInt(this.rc2__1);
          this.set_exceptionState_fex74n_k$(9);
          this.set_state_rjd8d0_k$(6);
          continue $sm;
        case 6:
          var tmp_0 = this.tmp$ret$01__1;
          this.set_exceptionState_fex74n_k$(9);
          this.lastPiece0__1.release_vbevvg_k$(Companion_getInstance_2().get_Pool_wo83gl_k$());
          return tmp_0;
        case 7:
          this.set_exceptionState_fex74n_k$(9);
          this.lastPiece0__1.release_vbevvg_k$(Companion_getInstance_2().get_Pool_wo83gl_k$());
          return Unit_getInstance();
        case 8:
          this.set_exceptionState_fex74n_k$(9);
          var t = this.get_exception_x0n6w6_k$();
          this.lastPiece0__1.release_vbevvg_k$(Companion_getInstance_2().get_Pool_wo83gl_k$());
          throw t;
        case 9:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 9) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function get_ByteArrayPool() {
  _init_properties_ByteArrayPool_kt__kfi3uj();
  return ByteArrayPool;
}
var ByteArrayPool;
function ByteArrayPool$1() {
  DefaultPool.call(this, 128);
}
protoOf(ByteArrayPool$1).produceInstance_xswihh_k$ = function () {
  return new Int8Array(4096);
};
var properties_initialized_ByteArrayPool_kt_td6pfh;
function _init_properties_ByteArrayPool_kt__kfi3uj() {
  if (!properties_initialized_ByteArrayPool_kt_td6pfh) {
    properties_initialized_ByteArrayPool_kt_td6pfh = true;
    ByteArrayPool = new ByteArrayPool$1();
  }
}
function useInstance(_this__u8e3s4, block) {
  var instance = _this__u8e3s4.borrow_mvkpor_k$();
  try {
    return block(instance);
  }finally {
    _this__u8e3s4.recycle_d2xv5h_k$(instance);
  }
}
function ObjectPool() {
}
function NoPoolImpl() {
}
protoOf(NoPoolImpl).get_capacity_wxbgcd_k$ = function () {
  return 0;
};
protoOf(NoPoolImpl).recycle_d2xv5h_k$ = function (instance) {
};
protoOf(NoPoolImpl).dispose_3nnxhr_k$ = function () {
};
function ByteChannel_0(autoFlush) {
  autoFlush = autoFlush === VOID ? false : autoFlush;
  return new ByteChannelJS(Companion_getInstance_2().get_Empty_i9b85g_k$(), autoFlush);
}
function copyTo(_this__u8e3s4, dst, limit, $completion) {
  var tmp = _this__u8e3s4 instanceof ByteChannelSequentialBase ? _this__u8e3s4 : THROW_CCE();
  return copyToSequentialImpl(tmp, dst instanceof ByteChannelSequentialBase ? dst : THROW_CCE(), limit, $completion);
}
function ByteReadChannel_0(content, offset, length) {
  // Inline function 'kotlin.collections.isEmpty' call
  if (content.length === 0)
    return Companion_getInstance_3().get_Empty_i9b85g_k$();
  var head = Companion_getInstance_2().get_Pool_wo83gl_k$().borrow_mvkpor_k$();
  var tail = head;
  var start = offset;
  var end = start + length | 0;
  $l$loop: while (true) {
    tail.reserveEndGap_i4z3fz_k$(8);
    var tmp0 = end - start | 0;
    // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
    var this_0 = tail;
    // Inline function 'kotlin.comparisons.minOf' call
    var b = this_0.get_limit_iuokuq_k$() - this_0.get_writePosition_jdt81t_k$() | 0;
    var size = Math.min(tmp0, b);
    writeFully_0(tail instanceof Buffer ? tail : THROW_CCE(), content, start, size);
    start = start + size | 0;
    if (start === end)
      break $l$loop;
    var current = tail;
    tail = Companion_getInstance_2().get_Pool_wo83gl_k$().borrow_mvkpor_k$();
    current.set_next_v483mr_k$(tail);
  }
  // Inline function 'kotlin.apply' call
  var this_1 = new ByteChannelJS(head, false);
  close_0(this_1);
  return this_1;
}
function _set_attachedJob__ugwmz8($this, _set____db54di) {
  $this.attachedJob_1 = _set____db54di;
}
function _get_attachedJob__6ignc($this) {
  return $this.attachedJob_1;
}
function readAvailableSuspend($this, dst, offset, length, $completion) {
  var tmp = new $readAvailableSuspendCOROUTINE$($this, dst, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function readFullySuspend_1($this, dst, offset, length, $completion) {
  var tmp = new $readFullySuspendCOROUTINE$_1($this, dst, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
}
function ByteChannelJS$attachJob$lambda(this$0) {
  return function (cause) {
    this$0.attachedJob_1 = null;
    var tmp;
    if (!(cause == null)) {
      this$0.cancel_e74who_k$(unwrapCancellationException(cause));
      tmp = Unit_getInstance();
    }
    return Unit_getInstance();
  };
}
function $readAvailableCOROUTINE$_1(_this__u8e3s4, dst, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($readAvailableCOROUTINE$_1).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(3);
          if (this._this__u8e3s4__1.get_readable_ovw33t_k$().get_endOfInput_skegkh_k$()) {
            this.set_state_rjd8d0_k$(1);
            suspendResult = readAvailableSuspend(this._this__u8e3s4__1, this.dst_1, this.offset_1, this.length_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }
            continue $sm;
          } else {
            var tmp_0 = this;
            var tmp0_safe_receiver = this._this__u8e3s4__1.get_closedCause_o1qcj8_k$();
            if (tmp0_safe_receiver == null)
              null;
            else {
              throw tmp0_safe_receiver;
            }
            var count = readAvailable_1(this._this__u8e3s4__1.get_readable_ovw33t_k$(), this.dst_1, this.offset_1, this.length_1);
            this._this__u8e3s4__1.afterRead_biie6i_k$(count);
            tmp_0.WHEN_RESULT0__1 = count;
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 1:
          this.WHEN_RESULT0__1 = suspendResult;
          this.set_state_rjd8d0_k$(2);
          continue $sm;
        case 2:
          return this.WHEN_RESULT0__1;
        case 3:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 3) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readAvailableSuspendCOROUTINE$(_this__u8e3s4, dst, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($readAvailableSuspendCOROUTINE$).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(4);
          this.set_state_rjd8d0_k$(1);
          suspendResult = this._this__u8e3s4__1.await_wm3xku_k$(1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          if (!suspendResult) {
            return -1;
          } else {
            this.set_state_rjd8d0_k$(2);
            continue $sm;
          }

        case 2:
          this.set_state_rjd8d0_k$(3);
          suspendResult = this._this__u8e3s4__1.readAvailable_w0u1jn_k$(this.dst_1, this.offset_1, this.length_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 3:
          return suspendResult;
        case 4:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 4) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function $readFullySuspendCOROUTINE$_1(_this__u8e3s4, dst, offset, length, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this._this__u8e3s4__1 = _this__u8e3s4;
  this.dst_1 = dst;
  this.offset_1 = offset;
  this.length_1 = length;
}
protoOf($readFullySuspendCOROUTINE$_1).doResume_5yljmg_k$ = function () {
  var suspendResult = this.get_result_iyg5d2_k$();
  $sm: do
    try {
      var tmp = this.get_state_iypx7s_k$();
      switch (tmp) {
        case 0:
          this.set_exceptionState_fex74n_k$(4);
          this.start1__1 = this.offset_1;
          this.end2__1 = this.offset_1 + this.length_1 | 0;
          this.remaining0__1 = this.length_1;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 1:
          if (!(this.start1__1 < this.end2__1)) {
            this.set_state_rjd8d0_k$(3);
            continue $sm;
          }

          this.set_state_rjd8d0_k$(2);
          suspendResult = this._this__u8e3s4__1.readAvailable_w0u1jn_k$(this.dst_1, this.start1__1, this.remaining0__1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          var rc = suspendResult;
          if (rc === -1)
            throw new EOFException('Premature end of stream: required ' + this.remaining0__1 + ' more bytes');
          this.start1__1 = this.start1__1 + rc | 0;
          this.remaining0__1 = this.remaining0__1 - rc | 0;
          this.set_state_rjd8d0_k$(1);
          continue $sm;
        case 3:
          return Unit_getInstance();
        case 4:
          throw this.get_exception_x0n6w6_k$();
      }
    } catch ($p) {
      var e = $p;
      if (this.get_exceptionState_wflpxn_k$() === 4) {
        throw e;
      } else {
        this.set_state_rjd8d0_k$(this.get_exceptionState_wflpxn_k$());
        this.set_exception_px07aa_k$(e);
      }
    }
   while (true);
};
function ByteChannelJS(initial, autoFlush) {
  ByteChannelSequentialBase.call(this, initial, autoFlush);
  this.attachedJob_1 = null;
}
protoOf(ByteChannelJS).attachJob_s2t2tl_k$ = function (job) {
  var tmp0_safe_receiver = this.attachedJob_1;
  if (tmp0_safe_receiver == null)
    null;
  else {
    tmp0_safe_receiver.cancel$default_8haxne_k$();
  }
  this.attachedJob_1 = job;
  job.invokeOnCompletion$default_1v3utx_k$(true, VOID, ByteChannelJS$attachJob$lambda(this));
};
protoOf(ByteChannelJS).readAvailable_w0u1jn_k$ = function (dst, offset, length, $completion) {
  var tmp = new $readAvailableCOROUTINE$_1(this, dst, offset, length, $completion);
  tmp.set_result_xj64lm_k$(Unit_getInstance());
  tmp.set_exception_px07aa_k$(null);
  return tmp.doResume_5yljmg_k$();
};
protoOf(ByteChannelJS).readFully_oc61qm_k$ = function (dst, offset, length, $completion) {
  if (this.get_availableForRead_tq0sox_k$() >= length) {
    var tmp0_safe_receiver = this.get_closedCause_o1qcj8_k$();
    if (tmp0_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      throw tmp0_safe_receiver;
    }
    readFully_6(this.get_readable_ovw33t_k$(), dst, offset, length);
    this.afterRead_biie6i_k$(length - offset | 0);
    return Unit_getInstance();
  }
  return readFullySuspend_1(this, dst, offset, length, $completion);
};
protoOf(ByteChannelJS).toString = function () {
  return 'ByteChannel[' + toString_1(this.attachedJob_1) + ', ' + hashCode(this) + ']';
};
function ByteReadChannel$Companion$Empty$delegate$lambda() {
  // Inline function 'kotlin.apply' call
  var this_0 = new ByteChannelJS(Companion_getInstance_2().get_Empty_i9b85g_k$(), false);
  this_0.close_ukldxa_k$(null);
  return this_0;
}
function ByteReadChannel$Companion$_get_Empty_$ref_55olb0() {
  return function (p0) {
    return p0.get_Empty_i9b85g_k$();
  };
}
function Companion_3() {
  Companion_instance_3 = this;
  var tmp = this;
  tmp.Empty$delegate_1 = lazy(ByteReadChannel$Companion$Empty$delegate$lambda);
}
protoOf(Companion_3).get_Empty_i9b85g_k$ = function () {
  var tmp0 = this.Empty$delegate_1;
  var tmp = KProperty1;
  // Inline function 'kotlin.getValue' call
  getPropertyCallableRef('Empty', 1, tmp, ByteReadChannel$Companion$_get_Empty_$ref_55olb0(), null);
  return tmp0.get_value_j01efc_k$();
};
var Companion_instance_3;
function Companion_getInstance_3() {
  if (Companion_instance_3 == null)
    new Companion_3();
  return Companion_instance_3;
}
function ByteReadChannel_1() {
}
function ByteWriteChannel() {
}
function DefaultAllocator() {
  DefaultAllocator_instance = this;
}
protoOf(DefaultAllocator).alloc_l8bx4z_k$ = function (size) {
  return new Memory(new DataView(new ArrayBuffer(size)));
};
protoOf(DefaultAllocator).alloc_n5v8h3_k$ = function (size) {
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  if (compare(size, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(size, 'size');
  }
  var tmp$ret$0 = convertToInt(size);
  return new Memory(new DataView(new ArrayBuffer(tmp$ret$0)));
};
protoOf(DefaultAllocator).free_r48ke1_k$ = function (instance) {
};
var DefaultAllocator_instance;
function DefaultAllocator_getInstance() {
  if (DefaultAllocator_instance == null)
    new DefaultAllocator();
  return DefaultAllocator_instance;
}
function of(_this__u8e3s4, buffer, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? buffer.byteLength - offset | 0 : length;
  return new Memory(new DataView(buffer, offset, length));
}
function useMemory(_this__u8e3s4, offset, length, block) {
  offset = offset === VOID ? 0 : offset;
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlin.let' call
  return block(of_0(Companion_getInstance_4(), _this__u8e3s4, offset, length));
}
function of_0(_this__u8e3s4, array, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? array.length - offset | 0 : length;
  // Inline function 'kotlin.js.asDynamic' call
  var typedArray = array;
  return of_1(Companion_getInstance_4(), typedArray, offset, length);
}
function of_1(_this__u8e3s4, view, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? view.byteLength : length;
  return of(Companion_getInstance_4(), view.buffer, view.byteOffset + offset | 0, length);
}
function Companion_4() {
  Companion_instance_4 = this;
  this.Empty_1 = new Memory(new DataView(new ArrayBuffer(0)));
}
protoOf(Companion_4).get_Empty_i9b85g_k$ = function () {
  return this.Empty_1;
};
var Companion_instance_4;
function Companion_getInstance_4() {
  if (Companion_instance_4 == null)
    new Companion_4();
  return Companion_instance_4;
}
function Memory(view) {
  Companion_getInstance_4();
  this.view_1 = view;
}
protoOf(Memory).get_view_wow8a6_k$ = function () {
  return this.view_1;
};
protoOf(Memory).get_size_woubt6_k$ = function () {
  return fromInt(this.view_1.byteLength);
};
protoOf(Memory).get_size32_jht1rd_k$ = function () {
  return this.view_1.byteLength;
};
protoOf(Memory).loadAt_z9xu2n_k$ = function (index) {
  return this.view_1.getInt8(index);
};
protoOf(Memory).loadAt_m39h2j_k$ = function (index) {
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  if (compare(index, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(index, 'index');
  }
  var tmp$ret$0 = convertToInt(index);
  return this.view_1.getInt8(tmp$ret$0);
};
protoOf(Memory).storeAt_xwc3rw_k$ = function (index, value) {
  this.view_1.setInt8(index, value);
};
protoOf(Memory).storeAt_g4s8oi_k$ = function (index, value) {
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  if (compare(index, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(index, 'index');
  }
  var tmp$ret$0 = convertToInt(index);
  this.view_1.setInt8(tmp$ret$0, value);
};
protoOf(Memory).slice_bze60e_k$ = function (offset, length) {
  // Inline function 'kotlin.require' call
  if (!(offset >= 0)) {
    var message = "offset shouldn't be negative: " + offset;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.require' call
  if (!(length >= 0)) {
    var message_0 = "length shouldn't be negative: " + length;
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  var tmp = fromInt(offset + length | 0);
  // Inline function 'io.ktor.utils.io.bits.Memory.size' call
  var tmp$ret$4 = fromInt(this.view_1.byteLength);
  if (compare(tmp, tmp$ret$4) > 0) {
    // Inline function 'io.ktor.utils.io.bits.Memory.size' call
    var tmp$ret$5 = fromInt(this.view_1.byteLength);
    throw IndexOutOfBoundsException_init_$Create$('offset + length > size: ' + offset + ' + ' + length + ' > ' + tmp$ret$5.toString());
  }
  return new Memory(new DataView(this.view_1.buffer, this.view_1.byteOffset + offset | 0, length));
};
protoOf(Memory).slice_4fjajy_k$ = function (offset, length) {
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  if (compare(offset, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(offset, 'offset');
  }
  var tmp = convertToInt(offset);
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  if (compare(length, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(length, 'length');
  }
  var tmp$ret$1 = convertToInt(length);
  return this.slice_bze60e_k$(tmp, tmp$ret$1);
};
protoOf(Memory).copyTo_fgxuoj_k$ = function (destination, offset, length, destinationOffset) {
  var src = new Int8Array(this.view_1.buffer, this.view_1.byteOffset + offset | 0, length);
  var dst = new Int8Array(destination.view_1.buffer, destination.view_1.byteOffset + destinationOffset | 0, length);
  dst.set(src);
};
protoOf(Memory).copyTo_ug0rjx_k$ = function (destination, offset, length, destinationOffset) {
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  if (compare(offset, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(offset, 'offset');
  }
  var tmp = convertToInt(offset);
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  if (compare(length, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(length, 'length');
  }
  var tmp_0 = convertToInt(length);
  // Inline function 'io.ktor.utils.io.core.internal.toIntOrFail' call
  var name = 'destinationOffset';
  if (compare(destinationOffset, new Long(2147483647, 0)) >= 0) {
    failLongToIntConversion(destinationOffset, name);
  }
  var tmp$ret$2 = convertToInt(destinationOffset);
  this.copyTo_fgxuoj_k$(destination, tmp, tmp_0, tmp$ret$2);
};
function copyTo_0(_this__u8e3s4, destination, offset, length, destinationOffset) {
  copyTo_1(_this__u8e3s4.buffer, destination, offset + _this__u8e3s4.byteOffset | 0, length, destinationOffset);
}
function copyTo_1(_this__u8e3s4, destination, offset, length, destinationOffset) {
  var from = new Int8Array(_this__u8e3s4, offset, length);
  var to = new Int8Array(destination.view_1.buffer, destination.view_1.byteOffset + destinationOffset | 0, length);
  to.set(from, 0);
}
function copyTo_2(_this__u8e3s4, destination, offset, length, destinationOffset) {
  var to = new Int8Array(destination, destinationOffset, length);
  var from = new Int8Array(_this__u8e3s4.view_1.buffer, _this__u8e3s4.view_1.byteOffset + offset | 0, length);
  to.set(from, 0);
}
function copyTo_3(_this__u8e3s4, destination, offset, length, destinationOffset) {
  // Inline function 'kotlin.js.asDynamic' call
  var to = destination;
  var from = new Int8Array(_this__u8e3s4.view_1.buffer, _this__u8e3s4.view_1.byteOffset + offset | 0, length);
  to.set(from, destinationOffset);
}
function storeShortAt(_this__u8e3s4, offset, value) {
  _this__u8e3s4.get_view_wow8a6_k$().setInt16(offset, value, false);
}
function storeIntAt(_this__u8e3s4, offset, value) {
  _this__u8e3s4.get_view_wow8a6_k$().setInt32(offset, value, false);
}
function storeLongAt(_this__u8e3s4, offset, value) {
  _this__u8e3s4.get_view_wow8a6_k$().setInt32(offset, convertToInt(shiftRight(value, 32)), false);
  _this__u8e3s4.get_view_wow8a6_k$().setInt32(offset + 4 | 0, convertToInt(bitwiseAnd(value, new Long(-1, 0))), false);
}
function storeFloatAt(_this__u8e3s4, offset, value) {
  _this__u8e3s4.get_view_wow8a6_k$().setFloat32(offset, value, false);
}
function storeDoubleAt(_this__u8e3s4, offset, value) {
  _this__u8e3s4.get_view_wow8a6_k$().setFloat64(offset, value, false);
}
function loadShortAt(_this__u8e3s4, offset) {
  return _this__u8e3s4.get_view_wow8a6_k$().getInt16(offset, false);
}
function loadIntAt(_this__u8e3s4, offset) {
  return _this__u8e3s4.get_view_wow8a6_k$().getInt32(offset, false);
}
function loadLongAt(_this__u8e3s4, offset) {
  return bitwiseOr(shiftLeft(fromInt(_this__u8e3s4.get_view_wow8a6_k$().getUint32(offset, false)), 32), fromInt(_this__u8e3s4.get_view_wow8a6_k$().getUint32(offset + 4 | 0, false)));
}
function loadFloatAt(_this__u8e3s4, offset) {
  return _this__u8e3s4.get_view_wow8a6_k$().getFloat32(offset, false);
}
function loadDoubleAt(_this__u8e3s4, offset) {
  return _this__u8e3s4.get_view_wow8a6_k$().getFloat64(offset, false);
}
function get_isLittleEndianPlatform() {
  _init_properties_PrimitiveArraysJs_kt__3i7vt4();
  return isLittleEndianPlatform;
}
var isLittleEndianPlatform;
var properties_initialized_PrimitiveArraysJs_kt_2zxjae;
function _init_properties_PrimitiveArraysJs_kt__3i7vt4() {
  if (!properties_initialized_PrimitiveArraysJs_kt_2zxjae) {
    properties_initialized_PrimitiveArraysJs_kt_2zxjae = true;
    isLittleEndianPlatform = Companion_getInstance_6().nativeOrder_spqstz_k$() === ByteOrder_LITTLE_ENDIAN_getInstance();
  }
}
function Companion_5() {
  Companion_instance_5 = this;
}
protoOf(Companion_5).forName_etcah2_k$ = function (name) {
  switch (name) {
    case 'UTF-8':
    case 'utf-8':
    case 'UTF8':
    case 'utf8':
      return Charsets_getInstance().UTF_8__1;
  }
  var tmp;
  var tmp_0;
  var tmp_1;
  switch (name) {
    case 'ISO-8859-1':
    case 'iso-8859-1':
      tmp_1 = true;
      break;
    default:
      // Inline function 'kotlin.let' call

      var it = replace(name, _Char___init__impl__6a9atx(95), _Char___init__impl__6a9atx(45));
      var tmp_2;
      if (it === 'iso-8859-1') {
        tmp_2 = true;
      } else {
        // Inline function 'kotlin.text.lowercase' call
        // Inline function 'kotlin.js.asDynamic' call
        tmp_2 = it.toLowerCase() === 'iso-8859-1';
      }

      tmp_1 = tmp_2;
      break;
  }
  if (tmp_1) {
    tmp_0 = true;
  } else {
    tmp_0 = name === 'latin1';
  }
  if (tmp_0) {
    tmp = true;
  } else {
    tmp = name === 'Latin1';
  }
  if (tmp) {
    return Charsets_getInstance().ISO_8859_1__1;
  }
  throw IllegalArgumentException_init_$Create$('Charset ' + name + ' is not supported');
};
protoOf(Companion_5).isSupported_c9nas6_k$ = function (charset) {
  var tmp;
  switch (charset) {
    case 'UTF-8':
    case 'utf-8':
    case 'UTF8':
    case 'utf8':
      tmp = true;
      break;
    default:
      var tmp_0;
      var tmp_1;
      switch (charset) {
        case 'ISO-8859-1':
        case 'iso-8859-1':
          tmp_1 = true;
          break;
        default:
          // Inline function 'kotlin.let' call

          var it = replace(charset, _Char___init__impl__6a9atx(95), _Char___init__impl__6a9atx(45));
          var tmp_2;
          if (it === 'iso-8859-1') {
            tmp_2 = true;
          } else {
            // Inline function 'kotlin.text.lowercase' call
            // Inline function 'kotlin.js.asDynamic' call
            tmp_2 = it.toLowerCase() === 'iso-8859-1';
          }

          tmp_1 = tmp_2;
          break;
      }

      if (tmp_1) {
        tmp_0 = true;
      } else {
        tmp_0 = charset === 'latin1';
      }

      if (tmp_0) {
        tmp = true;
      } else {
        tmp = false;
      }

      break;
  }
  return tmp;
};
var Companion_instance_5;
function Companion_getInstance_5() {
  if (Companion_instance_5 == null)
    new Companion_5();
  return Companion_instance_5;
}
function Charset(_name) {
  Companion_getInstance_5();
  this._name_1 = _name;
}
protoOf(Charset).get__name_sx4npw_k$ = function () {
  return this._name_1;
};
protoOf(Charset).equals = function (other) {
  if (this === other)
    return true;
  if (other == null || !(this.constructor == other.constructor))
    return false;
  if (!(other instanceof Charset))
    THROW_CCE();
  if (!(this._name_1 === other._name_1))
    return false;
  return true;
};
protoOf(Charset).hashCode = function () {
  return getStringHashCode(this._name_1);
};
protoOf(Charset).toString = function () {
  return this._name_1;
};
function get_name(_this__u8e3s4) {
  return _this__u8e3s4._name_1;
}
function Charsets() {
  Charsets_instance = this;
  this.UTF_8__1 = new CharsetImpl('UTF-8');
  this.ISO_8859_1__1 = new CharsetImpl('ISO-8859-1');
}
protoOf(Charsets).get_UTF_8_ihn39z_k$ = function () {
  return this.UTF_8__1;
};
protoOf(Charsets).get_ISO_8859_1_y3qebr_k$ = function () {
  return this.ISO_8859_1__1;
};
var Charsets_instance;
function Charsets_getInstance() {
  if (Charsets_instance == null)
    new Charsets();
  return Charsets_instance;
}
function MalformedInputException(message) {
  extendThrowable(this, message);
  captureStack(this, MalformedInputException);
}
function CharsetDecoder(_charset) {
  this._charset_1 = _charset;
}
protoOf(CharsetDecoder).get__charset_48naqp_k$ = function () {
  return this._charset_1;
};
function CharsetEncoder(_charset) {
  this._charset_1 = _charset;
}
protoOf(CharsetEncoder).get__charset_48naqp_k$ = function () {
  return this._charset_1;
};
function decode_0(_this__u8e3s4, input, dst, max) {
  var decoder = Decoder_0(get_name(get_charset(_this__u8e3s4)), true);
  var charactersCopied = 0;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.takeWhileSize' call
    var release = true;
    var tmp0_elvis_lhs = prepareReadFirstHead(input, 1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$block;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var current = tmp;
    var size = 1;
    try {
      $l$loop: do {
        // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
        var this_0 = current;
        var before = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
        var after;
        if (before >= size) {
          try {
            var tmp0 = current;
            var tmp$ret$3;
            $l$block_0: {
              var rem = max - charactersCopied | 0;
              // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
              var bufferSize = tmp0.get_writePosition_jdt81t_k$() - tmp0.get_readPosition_70qxnc_k$() | 0;
              if (rem < bufferSize) {
                tmp$ret$3 = 0;
                break $l$block_0;
              }
              // Inline function 'io.ktor.utils.io.core.readDirectInt8Array' call
              // Inline function 'kotlin.contracts.contract' call
              // Inline function 'io.ktor.utils.io.core.read' call
              // Inline function 'kotlin.contracts.contract' call
              var tmp0_0 = tmp0.get_memory_gl4362_k$();
              var tmp2 = tmp0.get_readPosition_70qxnc_k$();
              var endExclusive = tmp0.get_writePosition_jdt81t_k$();
              var view = new Int8Array(tmp0_0.get_view_wow8a6_k$().buffer, tmp0_0.get_view_wow8a6_k$().byteOffset + tmp2 | 0, endExclusive - tmp2 | 0);
              $l$block_2: {
                // Inline function 'io.ktor.utils.io.js.decodeWrap' call
                try {
                  var tmp$ret$6;
                  $l$block_1: {
                    // Inline function 'io.ktor.utils.io.js.decodeStream' call
                    // Inline function 'io.ktor.utils.io.js.decodeWrap' call
                    try {
                      tmp$ret$6 = decoder.decode_mvpnei_k$(view, decodeOptions(true));
                      break $l$block_1;
                    } catch ($p) {
                      if ($p instanceof Error) {
                        var t = $p;
                        var tmp0_elvis_lhs_0 = t.message;
                        throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs_0 == null ? 'no cause provided' : tmp0_elvis_lhs_0));
                      } else {
                        throw $p;
                      }
                    }
                  }
                  break $l$block_2;
                } catch ($p) {
                  if ($p instanceof Error) {
                    var t_0 = $p;
                    var tmp0_elvis_lhs_1 = t_0.message;
                    throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs_1 == null ? 'no cause provided' : tmp0_elvis_lhs_1));
                  } else {
                    throw $p;
                  }
                }
              }
              var decodedText = tmp$ret$6;
              dst.append_jgojdo_k$(decodedText);
              charactersCopied = charactersCopied + decodedText.length | 0;
              var rc = view.byteLength;
              tmp0.discardExact_11sae1_k$(rc);
              var tmp_0;
              if (charactersCopied === max) {
                var tmp_1;
                try {
                  tmp_1 = decoder.decode_m3924y_k$();
                } catch ($p) {
                  var tmp_2;
                  var _ = $p;
                  tmp_2 = '';
                  tmp_1 = tmp_2;
                }
                var tail = tmp_1;
                // Inline function 'kotlin.text.isNotEmpty' call
                if (charSequenceLength(tail) > 0) {
                  tmp0.rewind_gfqr1p_k$(bufferSize);
                }
                tmp_0 = 0;
              } else if (charactersCopied < max) {
                tmp_0 = 8;
              } else {
                tmp_0 = 0;
              }
              tmp$ret$3 = tmp_0;
            }
            size = tmp$ret$3;
          }finally {
            // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
            var this_1 = current;
            after = this_1.get_writePosition_jdt81t_k$() - this_1.get_readPosition_70qxnc_k$() | 0;
          }
        } else {
          after = before;
        }
        release = false;
        var tmp_3;
        if (after === 0) {
          tmp_3 = prepareReadNextHead(input, current);
        } else {
          var tmp_4;
          if (after < size) {
            tmp_4 = true;
          } else {
            // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
            var this_2 = current;
            tmp_4 = (this_2.get_capacity_wxbgcd_k$() - this_2.get_limit_iuokuq_k$() | 0) < 8;
          }
          if (tmp_4) {
            completeReadHead(input, current);
            tmp_3 = prepareReadFirstHead(input, size);
          } else {
            tmp_3 = current;
          }
        }
        var tmp1_elvis_lhs = tmp_3;
        var tmp_5;
        if (tmp1_elvis_lhs == null) {
          break $l$loop;
        } else {
          tmp_5 = tmp1_elvis_lhs;
        }
        var next = tmp_5;
        current = next;
        release = true;
      }
       while (size > 0);
    }finally {
      if (release) {
        completeReadHead(input, current);
      }
    }
  }
  if (charactersCopied < max) {
    var size_0 = 1;
    $l$block_3: {
      // Inline function 'io.ktor.utils.io.core.takeWhileSize' call
      var release_0 = true;
      var tmp0_elvis_lhs_2 = prepareReadFirstHead(input, 1);
      var tmp_6;
      if (tmp0_elvis_lhs_2 == null) {
        break $l$block_3;
      } else {
        tmp_6 = tmp0_elvis_lhs_2;
      }
      var current_0 = tmp_6;
      var size_1 = 1;
      try {
        $l$loop_0: do {
          // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
          var this_3 = current_0;
          var before_0 = this_3.get_writePosition_jdt81t_k$() - this_3.get_readPosition_70qxnc_k$() | 0;
          var after_0;
          if (before_0 >= size_1) {
            try {
              // Inline function 'io.ktor.utils.io.core.readDirectInt8Array' call
              // Inline function 'kotlin.contracts.contract' call
              // Inline function 'io.ktor.utils.io.core.read' call
              var this_4 = current_0;
              // Inline function 'kotlin.contracts.contract' call
              var tmp0_1 = this_4.get_memory_gl4362_k$();
              var tmp2_0 = this_4.get_readPosition_70qxnc_k$();
              var endExclusive_0 = this_4.get_writePosition_jdt81t_k$();
              var view_0 = new Int8Array(tmp0_1.get_view_wow8a6_k$().buffer, tmp0_1.get_view_wow8a6_k$().byteOffset + tmp2_0 | 0, endExclusive_0 - tmp2_0 | 0);
              var result = decodeBufferImpl(view_0, decoder, max - charactersCopied | 0);
              dst.append_jgojdo_k$(result.get_charactersDecoded_mdwn5p_k$());
              charactersCopied = charactersCopied + result.get_charactersDecoded_mdwn5p_k$().length | 0;
              var rc_0 = result.get_bytesConsumed_ic9jre_k$();
              this_4.discardExact_11sae1_k$(rc_0);
              var rc_1 = rc_0;
              if (rc_1 > 0)
                size_0 = 1;
              else if (size_0 === 8)
                size_0 = 0;
              else {
                size_0 = size_0 + 1 | 0;
              }
              size_1 = size_0;
            }finally {
              // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
              var this_5 = current_0;
              after_0 = this_5.get_writePosition_jdt81t_k$() - this_5.get_readPosition_70qxnc_k$() | 0;
            }
          } else {
            after_0 = before_0;
          }
          release_0 = false;
          var tmp_7;
          if (after_0 === 0) {
            tmp_7 = prepareReadNextHead(input, current_0);
          } else {
            var tmp_8;
            if (after_0 < size_1) {
              tmp_8 = true;
            } else {
              // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
              var this_6 = current_0;
              tmp_8 = (this_6.get_capacity_wxbgcd_k$() - this_6.get_limit_iuokuq_k$() | 0) < 8;
            }
            if (tmp_8) {
              completeReadHead(input, current_0);
              tmp_7 = prepareReadFirstHead(input, size_1);
            } else {
              tmp_7 = current_0;
            }
          }
          var tmp1_elvis_lhs_0 = tmp_7;
          var tmp_9;
          if (tmp1_elvis_lhs_0 == null) {
            break $l$loop_0;
          } else {
            tmp_9 = tmp1_elvis_lhs_0;
          }
          var next_0 = tmp_9;
          current_0 = next_0;
          release_0 = true;
        }
         while (size_1 > 0);
      }finally {
        if (release_0) {
          completeReadHead(input, current_0);
        }
      }
    }
  }
  return charactersCopied;
}
function encodeImpl(_this__u8e3s4, input, fromIndex, toIndex, dst) {
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.require' call
  if (!(fromIndex <= toIndex)) {
    var message = 'Failed requirement.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  if (get_charset_0(_this__u8e3s4).equals(Charsets_getInstance().ISO_8859_1__1)) {
    return encodeISO88591(input, fromIndex, toIndex, dst);
  }
  // Inline function 'kotlin.require' call
  if (!(get_charset_0(_this__u8e3s4) === Charsets_getInstance().UTF_8__1)) {
    var message_0 = 'Only UTF-8 encoding is supported in JS';
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  var encoder = new TextEncoder();
  var start = fromIndex;
  // Inline function 'io.ktor.utils.io.core.Buffer.writeRemaining' call
  var dstRemaining = dst.get_limit_iuokuq_k$() - dst.get_writePosition_jdt81t_k$() | 0;
  $l$loop: while (start < toIndex && dstRemaining > 0) {
    var tmp0 = toIndex - start | 0;
    // Inline function 'kotlin.comparisons.minOf' call
    var b = dstRemaining / 6 | 0;
    var tmp$ret$6 = Math.min(tmp0, b);
    var numChars = coerceAtLeast(tmp$ret$6, 1);
    var dropLastChar = isHighSurrogate(charSequenceGet(input, (start + numChars | 0) - 1 | 0));
    var endIndexExclusive = dropLastChar && numChars === 1 ? start + 2 | 0 : dropLastChar ? (start + numChars | 0) - 1 | 0 : start + numChars | 0;
    // Inline function 'kotlin.text.substring' call
    var startIndex = start;
    var tmp$ret$7 = toString(charSequenceSubSequence(input, startIndex, endIndexExclusive));
    var array1 = encoder.encode(tmp$ret$7);
    if (array1.length > dstRemaining)
      break $l$loop;
    writeFully_5(dst, array1);
    start = endIndexExclusive;
    dstRemaining = dstRemaining - array1.length | 0;
  }
  return start - fromIndex | 0;
}
function encodeComplete(_this__u8e3s4, dst) {
  return true;
}
function encodeToByteArray_0(_this__u8e3s4, input, fromIndex, toIndex) {
  fromIndex = fromIndex === VOID ? 0 : fromIndex;
  toIndex = toIndex === VOID ? charSequenceLength(input) : toIndex;
  return encodeToByteArrayImpl1(_this__u8e3s4, input, fromIndex, toIndex);
}
function decodeExactBytes(_this__u8e3s4, input, inputLength) {
  if (inputLength === 0)
    return '';
  // Inline function 'io.ktor.utils.io.core.Input.headRemaining' call
  if ((input.get_headEndExclusive_6frhsn_k$() - input.get_headPosition_o84kar_k$() | 0) >= inputLength) {
    var decoder = Decoder_0(get_charset(_this__u8e3s4)._name_1, true);
    var head = input.get_head_3jiuok_k$();
    var view = input.get_headMemory_hbafrp_k$().get_view_wow8a6_k$();
    var tmp$ret$2;
    $l$block: {
      // Inline function 'io.ktor.utils.io.js.decodeWrap' call
      try {
        var subView = head.get_readPosition_70qxnc_k$() === 0 && inputLength === view.byteLength ? view : new DataView(view.buffer, view.byteOffset + head.get_readPosition_70qxnc_k$() | 0, inputLength);
        tmp$ret$2 = decoder.decode_hpap4q_k$(subView);
        break $l$block;
      } catch ($p) {
        if ($p instanceof Error) {
          var t = $p;
          var tmp0_elvis_lhs = t.message;
          throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs == null ? 'no cause provided' : tmp0_elvis_lhs));
        } else {
          throw $p;
        }
      }
    }
    var text = tmp$ret$2;
    input.discardExact_11sae1_k$(inputLength);
    return text;
  }
  return decodeExactBytesSlow(_this__u8e3s4, input, inputLength);
}
function CharsetImpl(name) {
  Charset.call(this, name);
  this.name_1 = name;
}
protoOf(CharsetImpl).get_name_woqyms_k$ = function () {
  return this.name_1;
};
protoOf(CharsetImpl).newEncoder_gqwcdg_k$ = function () {
  return new CharsetEncoderImpl(this);
};
protoOf(CharsetImpl).newDecoder_zcettw_k$ = function () {
  return new CharsetDecoderImpl(this);
};
protoOf(CharsetImpl).component1_7eebsc_k$ = function () {
  return this.name_1;
};
protoOf(CharsetImpl).copy_a35qlh_k$ = function (name) {
  return new CharsetImpl(name);
};
protoOf(CharsetImpl).copy$default_l07wt9_k$ = function (name, $super) {
  name = name === VOID ? this.name_1 : name;
  return $super === VOID ? this.copy_a35qlh_k$(name) : $super.copy_a35qlh_k$.call(this, name);
};
protoOf(CharsetImpl).toString = function () {
  return 'CharsetImpl(name=' + this.name_1 + ')';
};
protoOf(CharsetImpl).hashCode = function () {
  return getStringHashCode(this.name_1);
};
protoOf(CharsetImpl).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof CharsetImpl))
    return false;
  var tmp0_other_with_cast = other instanceof CharsetImpl ? other : THROW_CCE();
  if (!(this.name_1 === tmp0_other_with_cast.name_1))
    return false;
  return true;
};
function get_charset(_this__u8e3s4) {
  return _this__u8e3s4._charset_1;
}
function get_charset_0(_this__u8e3s4) {
  return _this__u8e3s4._charset_1;
}
function encodeToByteArrayImpl1(_this__u8e3s4, input, fromIndex, toIndex) {
  fromIndex = fromIndex === VOID ? 0 : fromIndex;
  toIndex = toIndex === VOID ? charSequenceLength(input) : toIndex;
  var start = fromIndex;
  if (start >= toIndex)
    return get_EmptyByteArray();
  var single = Companion_getInstance_2().get_Pool_wo83gl_k$().borrow_mvkpor_k$();
  try {
    var rc = encodeImpl(_this__u8e3s4, input, start, toIndex, single);
    start = start + rc | 0;
    if (start === toIndex) {
      // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
      var tmp$ret$0 = single.get_writePosition_jdt81t_k$() - single.get_readPosition_70qxnc_k$() | 0;
      var result = new Int8Array(tmp$ret$0);
      // Inline function 'io.ktor.utils.io.core.readFully' call
      var length = result.length - 0 | 0;
      readFully_1(single instanceof Buffer ? single : THROW_CCE(), result, 0, length);
      return result;
    }
    var tmp$ret$4;
    $l$block: {
      // Inline function 'io.ktor.utils.io.core.buildPacket' call
      // Inline function 'kotlin.contracts.contract' call
      var builder = new BytePacketBuilder();
      try {
        builder.appendSingleChunk_jotwkc_k$(single.duplicate_jvgc97_k$());
        encodeToImpl(_this__u8e3s4, builder, input, start, toIndex);
        tmp$ret$4 = builder.build_1k0s4u_k$();
        break $l$block;
      } catch ($p) {
        if ($p instanceof Error) {
          var t = $p;
          builder.release_wu5yyf_k$();
          throw t;
        } else {
          throw $p;
        }
      }
    }
    return readBytes(tmp$ret$4);
  }finally {
    single.release_vbevvg_k$(Companion_getInstance_2().get_Pool_wo83gl_k$());
  }
}
function decodeExactBytesSlow(_this__u8e3s4, input, inputLength) {
  var decoder = Decoder_0(get_name(get_charset(_this__u8e3s4)), true);
  var inputRemaining = inputLength;
  var sb = StringBuilder_init_$Create$_0(inputLength);
  $l$block_4: {
    // Inline function 'io.ktor.utils.io.js.decodeWrap' call
    try {
      $l$block: {
        // Inline function 'io.ktor.utils.io.core.takeWhileSize' call
        var release = true;
        var tmp0_elvis_lhs = prepareReadFirstHead(input, 6);
        var tmp;
        if (tmp0_elvis_lhs == null) {
          break $l$block;
        } else {
          tmp = tmp0_elvis_lhs;
        }
        var current = tmp;
        var size = 6;
        try {
          $l$loop: do {
            // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
            var this_0 = current;
            var before = this_0.get_writePosition_jdt81t_k$() - this_0.get_readPosition_70qxnc_k$() | 0;
            var after;
            if (before >= size) {
              try {
                var buffer = current;
                // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
                var chunkSize = buffer.get_writePosition_jdt81t_k$() - buffer.get_readPosition_70qxnc_k$() | 0;
                // Inline function 'kotlin.comparisons.minOf' call
                var b = inputRemaining;
                var size_0 = Math.min(chunkSize, b);
                var tmp_0;
                if (buffer.get_readPosition_70qxnc_k$() === 0 && buffer.get_memory_gl4362_k$().get_view_wow8a6_k$().byteLength === size_0) {
                  var tmp2 = buffer.get_memory_gl4362_k$().get_view_wow8a6_k$();
                  var tmp$ret$4;
                  $l$block_0: {
                    // Inline function 'io.ktor.utils.io.js.decodeStream' call
                    // Inline function 'io.ktor.utils.io.js.decodeWrap' call
                    try {
                      tmp$ret$4 = decoder.decode_mvpnei_k$(tmp2, decodeOptions(true));
                      break $l$block_0;
                    } catch ($p) {
                      if ($p instanceof Error) {
                        var t = $p;
                        var tmp0_elvis_lhs_0 = t.message;
                        throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs_0 == null ? 'no cause provided' : tmp0_elvis_lhs_0));
                      } else {
                        throw $p;
                      }
                    }
                  }
                  tmp_0 = tmp$ret$4;
                } else {
                  var tmp2_0 = new Int8Array(buffer.get_memory_gl4362_k$().get_view_wow8a6_k$().buffer, buffer.get_memory_gl4362_k$().get_view_wow8a6_k$().byteOffset + buffer.get_readPosition_70qxnc_k$() | 0, size_0);
                  var tmp$ret$6;
                  $l$block_1: {
                    // Inline function 'io.ktor.utils.io.js.decodeStream' call
                    // Inline function 'io.ktor.utils.io.js.decodeWrap' call
                    try {
                      tmp$ret$6 = decoder.decode_mvpnei_k$(tmp2_0, decodeOptions(true));
                      break $l$block_1;
                    } catch ($p) {
                      if ($p instanceof Error) {
                        var t_0 = $p;
                        var tmp0_elvis_lhs_1 = t_0.message;
                        throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs_1 == null ? 'no cause provided' : tmp0_elvis_lhs_1));
                      } else {
                        throw $p;
                      }
                    }
                  }
                  tmp_0 = tmp$ret$6;
                }
                var text = tmp_0;
                sb.append_22ad7x_k$(text);
                buffer.discardExact_11sae1_k$(size_0);
                inputRemaining = inputRemaining - size_0 | 0;
                size = inputRemaining > 0 ? 6 : 0;
              }finally {
                // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
                var this_1 = current;
                after = this_1.get_writePosition_jdt81t_k$() - this_1.get_readPosition_70qxnc_k$() | 0;
              }
            } else {
              after = before;
            }
            release = false;
            var tmp_1;
            if (after === 0) {
              tmp_1 = prepareReadNextHead(input, current);
            } else {
              var tmp_2;
              if (after < size) {
                tmp_2 = true;
              } else {
                // Inline function 'io.ktor.utils.io.core.Buffer.endGap' call
                var this_2 = current;
                tmp_2 = (this_2.get_capacity_wxbgcd_k$() - this_2.get_limit_iuokuq_k$() | 0) < 8;
              }
              if (tmp_2) {
                completeReadHead(input, current);
                tmp_1 = prepareReadFirstHead(input, size);
              } else {
                tmp_1 = current;
              }
            }
            var tmp1_elvis_lhs = tmp_1;
            var tmp_3;
            if (tmp1_elvis_lhs == null) {
              break $l$loop;
            } else {
              tmp_3 = tmp1_elvis_lhs;
            }
            var next = tmp_3;
            current = next;
            release = true;
          }
           while (size > 0);
        }finally {
          if (release) {
            completeReadHead(input, current);
          }
        }
      }
      if (inputRemaining > 0) {
        $l$block_2: {
          // Inline function 'io.ktor.utils.io.core.takeWhile' call
          var release_0 = true;
          var tmp0_elvis_lhs_2 = prepareReadFirstHead(input, 1);
          var tmp_4;
          if (tmp0_elvis_lhs_2 == null) {
            break $l$block_2;
          } else {
            tmp_4 = tmp0_elvis_lhs_2;
          }
          var current_0 = tmp_4;
          try {
            $l$loop_1: do {
              var buffer_0 = current_0;
              // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
              var chunkSize_0 = buffer_0.get_writePosition_jdt81t_k$() - buffer_0.get_readPosition_70qxnc_k$() | 0;
              // Inline function 'kotlin.comparisons.minOf' call
              var b_0 = inputRemaining;
              var size_1 = Math.min(chunkSize_0, b_0);
              var tmp_5;
              if (buffer_0.get_readPosition_70qxnc_k$() === 0 && buffer_0.get_memory_gl4362_k$().get_view_wow8a6_k$().byteLength === size_1) {
                tmp_5 = decoder.decode_hpap4q_k$(buffer_0.get_memory_gl4362_k$().get_view_wow8a6_k$());
              } else {
                var tmp2_1 = new Int8Array(buffer_0.get_memory_gl4362_k$().get_view_wow8a6_k$().buffer, buffer_0.get_memory_gl4362_k$().get_view_wow8a6_k$().byteOffset + buffer_0.get_readPosition_70qxnc_k$() | 0, size_1);
                var tmp$ret$14;
                $l$block_3: {
                  // Inline function 'io.ktor.utils.io.js.decodeStream' call
                  // Inline function 'io.ktor.utils.io.js.decodeWrap' call
                  try {
                    tmp$ret$14 = decoder.decode_mvpnei_k$(tmp2_1, decodeOptions(true));
                    break $l$block_3;
                  } catch ($p) {
                    if ($p instanceof Error) {
                      var t_1 = $p;
                      var tmp0_elvis_lhs_3 = t_1.message;
                      throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs_3 == null ? 'no cause provided' : tmp0_elvis_lhs_3));
                    } else {
                      throw $p;
                    }
                  }
                }
                tmp_5 = tmp$ret$14;
              }
              var text_0 = tmp_5;
              sb.append_22ad7x_k$(text_0);
              buffer_0.discardExact_11sae1_k$(size_1);
              inputRemaining = inputRemaining - size_1 | 0;
              if (!true) {
                break $l$loop_1;
              }
              release_0 = false;
              var tmp1_elvis_lhs_0 = prepareReadNextHead(input, current_0);
              var tmp_6;
              if (tmp1_elvis_lhs_0 == null) {
                break $l$loop_1;
              } else {
                tmp_6 = tmp1_elvis_lhs_0;
              }
              var next_0 = tmp_6;
              current_0 = next_0;
              release_0 = true;
            }
             while (true);
          }finally {
            if (release_0) {
              completeReadHead(input, current_0);
            }
          }
        }
      }
      sb.append_22ad7x_k$(decoder.decode_m3924y_k$());
      break $l$block_4;
    } catch ($p) {
      if ($p instanceof Error) {
        var t_2 = $p;
        var tmp0_elvis_lhs_4 = t_2.message;
        throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs_4 == null ? 'no cause provided' : tmp0_elvis_lhs_4));
      } else {
        throw $p;
      }
    }
  }
  if (inputRemaining > 0) {
    throw new EOFException('Not enough bytes available: had only ' + (inputLength - inputRemaining | 0) + ' instead of ' + inputLength);
  }
  return sb.toString();
}
function _get_charset__c43qgr($this) {
  return $this.charset_1;
}
function component1($this) {
  return $this.charset_1;
}
function CharsetEncoderImpl(charset) {
  CharsetEncoder.call(this, charset);
  this.charset_1 = charset;
}
protoOf(CharsetEncoderImpl).copy_2crzso_k$ = function (charset) {
  return new CharsetEncoderImpl(charset);
};
protoOf(CharsetEncoderImpl).copy$default_73mtqm_k$ = function (charset, $super) {
  charset = charset === VOID ? this.charset_1 : charset;
  return $super === VOID ? this.copy_2crzso_k$(charset) : $super.copy_2crzso_k$.call(this, charset);
};
protoOf(CharsetEncoderImpl).toString = function () {
  return 'CharsetEncoderImpl(charset=' + this.charset_1.toString() + ')';
};
protoOf(CharsetEncoderImpl).hashCode = function () {
  return this.charset_1.hashCode();
};
protoOf(CharsetEncoderImpl).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof CharsetEncoderImpl))
    return false;
  var tmp0_other_with_cast = other instanceof CharsetEncoderImpl ? other : THROW_CCE();
  if (!this.charset_1.equals(tmp0_other_with_cast.charset_1))
    return false;
  return true;
};
function _get_charset__c43qgr_0($this) {
  return $this.charset_1;
}
function component1_0($this) {
  return $this.charset_1;
}
function CharsetDecoderImpl(charset) {
  CharsetDecoder.call(this, charset);
  this.charset_1 = charset;
}
protoOf(CharsetDecoderImpl).copy_2crzso_k$ = function (charset) {
  return new CharsetDecoderImpl(charset);
};
protoOf(CharsetDecoderImpl).copy$default_ng4zhe_k$ = function (charset, $super) {
  charset = charset === VOID ? this.charset_1 : charset;
  return $super === VOID ? this.copy_2crzso_k$(charset) : $super.copy_2crzso_k$.call(this, charset);
};
protoOf(CharsetDecoderImpl).toString = function () {
  return 'CharsetDecoderImpl(charset=' + this.charset_1.toString() + ')';
};
protoOf(CharsetDecoderImpl).hashCode = function () {
  return this.charset_1.hashCode();
};
protoOf(CharsetDecoderImpl).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof CharsetDecoderImpl))
    return false;
  var tmp0_other_with_cast = other instanceof CharsetDecoderImpl ? other : THROW_CCE();
  if (!this.charset_1.equals(tmp0_other_with_cast.charset_1))
    return false;
  return true;
};
function get_MAX_CHARACTERS_SIZE_IN_BYTES() {
  return MAX_CHARACTERS_SIZE_IN_BYTES;
}
var MAX_CHARACTERS_SIZE_IN_BYTES;
function DecodeBufferResult(charactersDecoded, bytesConsumed) {
  this.charactersDecoded_1 = charactersDecoded;
  this.bytesConsumed_1 = bytesConsumed;
}
protoOf(DecodeBufferResult).get_charactersDecoded_mdwn5p_k$ = function () {
  return this.charactersDecoded_1;
};
protoOf(DecodeBufferResult).get_bytesConsumed_ic9jre_k$ = function () {
  return this.bytesConsumed_1;
};
protoOf(DecodeBufferResult).component1_7eebsc_k$ = function () {
  return this.charactersDecoded_1;
};
protoOf(DecodeBufferResult).component2_7eebsb_k$ = function () {
  return this.bytesConsumed_1;
};
protoOf(DecodeBufferResult).copy_1yzwer_k$ = function (charactersDecoded, bytesConsumed) {
  return new DecodeBufferResult(charactersDecoded, bytesConsumed);
};
protoOf(DecodeBufferResult).copy$default_m09cqh_k$ = function (charactersDecoded, bytesConsumed, $super) {
  charactersDecoded = charactersDecoded === VOID ? this.charactersDecoded_1 : charactersDecoded;
  bytesConsumed = bytesConsumed === VOID ? this.bytesConsumed_1 : bytesConsumed;
  return $super === VOID ? this.copy_1yzwer_k$(charactersDecoded, bytesConsumed) : $super.copy_1yzwer_k$.call(this, charactersDecoded, bytesConsumed);
};
protoOf(DecodeBufferResult).toString = function () {
  return 'DecodeBufferResult(charactersDecoded=' + this.charactersDecoded_1 + ', bytesConsumed=' + this.bytesConsumed_1 + ')';
};
protoOf(DecodeBufferResult).hashCode = function () {
  var result = getStringHashCode(this.charactersDecoded_1);
  result = imul(result, 31) + this.bytesConsumed_1 | 0;
  return result;
};
protoOf(DecodeBufferResult).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof DecodeBufferResult))
    return false;
  var tmp0_other_with_cast = other instanceof DecodeBufferResult ? other : THROW_CCE();
  if (!(this.charactersDecoded_1 === tmp0_other_with_cast.charactersDecoded_1))
    return false;
  if (!(this.bytesConsumed_1 === tmp0_other_with_cast.bytesConsumed_1))
    return false;
  return true;
};
function decodeBufferImpl(_this__u8e3s4, nativeDecoder, maxCharacters) {
  if (maxCharacters === 0) {
    return new DecodeBufferResult('', 0);
  }
  try {
    var sizeInBytes = coerceAtMost_0(maxCharacters, _this__u8e3s4.byteLength);
    var text = nativeDecoder.decode_hpap4q_k$(_this__u8e3s4.subarray(0, sizeInBytes));
    if (text.length <= maxCharacters) {
      return new DecodeBufferResult(text, sizeInBytes);
    }
  } catch ($p) {
    var _ = $p;
  }
  return decodeBufferImplSlow(_this__u8e3s4, nativeDecoder, maxCharacters);
}
function decodeBufferImplSlow(_this__u8e3s4, nativeDecoder, maxCharacters) {
  var maxBytes = coerceAtMost_0(maxCharacters >= 268435455 ? 2147483647 : imul(maxCharacters, 8), _this__u8e3s4.byteLength);
  var sizeInBytes = maxBytes;
  while (sizeInBytes > 8) {
    try {
      var text = nativeDecoder.decode_hpap4q_k$(_this__u8e3s4.subarray(0, sizeInBytes));
      if (text.length <= maxCharacters) {
        return new DecodeBufferResult(text, sizeInBytes);
      }
    } catch ($p) {
      var _ = $p;
    }
    sizeInBytes = sizeInBytes / 2 | 0;
  }
  sizeInBytes = 8;
  while (sizeInBytes > 0) {
    try {
      var text_0 = nativeDecoder.decode_hpap4q_k$(_this__u8e3s4.subarray(0, sizeInBytes));
      if (text_0.length <= maxCharacters) {
        return new DecodeBufferResult(text_0, sizeInBytes);
      }
    } catch ($p) {
      var __0 = $p;
    }
    sizeInBytes = sizeInBytes - 1 | 0;
  }
  $l$block: {
    // Inline function 'io.ktor.utils.io.js.decodeWrap' call
    try {
      nativeDecoder.decode_hpap4q_k$(_this__u8e3s4);
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var t = $p;
        var tmp0_elvis_lhs = t.message;
        throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs == null ? 'no cause provided' : tmp0_elvis_lhs));
      } else {
        throw $p;
      }
    }
  }
  throw new MalformedInputException('Unable to decode buffer');
}
function get_MAX_CHARACTERS_COUNT() {
  return MAX_CHARACTERS_COUNT;
}
var MAX_CHARACTERS_COUNT;
function encodeISO88591(input, fromIndex, toIndex, dst) {
  if (fromIndex >= toIndex)
    return 0;
  // Inline function 'io.ktor.utils.io.core.writeDirect' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = dst.get_memory_gl4362_k$();
  var tmp2 = dst.get_writePosition_jdt81t_k$();
  var endExclusive = dst.get_limit_iuokuq_k$();
  var view = tmp0.slice_bze60e_k$(tmp2, endExclusive - tmp2 | 0).get_view_wow8a6_k$();
  var i8 = new Int8Array(view.buffer, view.byteOffset, view.byteLength);
  var writeIndex = 0;
  var inductionVariable = fromIndex;
  if (inductionVariable < toIndex)
    do {
      var index = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      // Inline function 'kotlin.code' call
      var this_0 = charSequenceGet(input, index);
      var character = Char__toInt_impl_vasixd(this_0);
      if (character > 255) {
        failedToMapError(character);
      }
      var tmp1 = writeIndex;
      writeIndex = tmp1 + 1 | 0;
      // Inline function 'org.khronos.webgl.set' call
      // Inline function 'kotlin.js.asDynamic' call
      i8[tmp1] = toByte(character);
    }
     while (inductionVariable < toIndex);
  var rc = writeIndex;
  dst.commitWritten_tkztjs_k$(rc);
  return toIndex - fromIndex | 0;
}
function failedToMapError(ch) {
  throw new MalformedInputException('The character with unicode point ' + ch + " couldn't be mapped to ISO-8859-1 character");
}
function readDirectInt8Array(_this__u8e3s4, block) {
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  var endExclusive = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var rc = block(new Int8Array(tmp0.get_view_wow8a6_k$().buffer, tmp0.get_view_wow8a6_k$().byteOffset + tmp2 | 0, endExclusive - tmp2 | 0));
  _this__u8e3s4.discardExact_11sae1_k$(rc);
  return rc;
}
function writeFully_5(_this__u8e3s4, src, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? src.byteLength - offset | 0 : length;
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  if ((_this__u8e3s4.get_limit_iuokuq_k$() - tmp2 | 0) < length) {
    throw new InsufficientSpaceException('Not enough free space to write ' + length + ' bytes');
  }
  copyTo_0(src, tmp0, offset, length, tmp2);
  var rc = length;
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
}
function writeDirect(_this__u8e3s4, block) {
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'io.ktor.utils.io.core.write' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_writePosition_jdt81t_k$();
  var endExclusive = _this__u8e3s4.get_limit_iuokuq_k$();
  var rc = block(tmp0.slice_bze60e_k$(tmp2, endExclusive - tmp2 | 0).get_view_wow8a6_k$());
  _this__u8e3s4.commitWritten_tkztjs_k$(rc);
  return rc;
}
function readAvailable_0(_this__u8e3s4, dst, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? dst.byteLength - offset | 0 : length;
  // Inline function 'io.ktor.utils.io.core.canRead' call
  if (!(_this__u8e3s4.get_writePosition_jdt81t_k$() > _this__u8e3s4.get_readPosition_70qxnc_k$()))
    return -1;
  // Inline function 'io.ktor.utils.io.core.Buffer.readRemaining' call
  // Inline function 'kotlin.comparisons.minOf' call
  var b = _this__u8e3s4.get_writePosition_jdt81t_k$() - _this__u8e3s4.get_readPosition_70qxnc_k$() | 0;
  var readSize = Math.min(length, b);
  readFully_5(_this__u8e3s4, dst, offset, readSize);
  return readSize;
}
function readFully_5(_this__u8e3s4, dst, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? dst.byteLength - offset | 0 : length;
  // Inline function 'io.ktor.utils.io.core.read' call
  // Inline function 'kotlin.contracts.contract' call
  var tmp0 = _this__u8e3s4.get_memory_gl4362_k$();
  var tmp2 = _this__u8e3s4.get_readPosition_70qxnc_k$();
  if ((_this__u8e3s4.get_writePosition_jdt81t_k$() - tmp2 | 0) < length) {
    throw new EOFException('Not enough bytes available to read ' + length + ' bytes');
  }
  copyTo_2(tmp0, dst, tmp2, length, offset);
  var rc = length;
  _this__u8e3s4.discardExact_11sae1_k$(rc);
}
function _get_native__4ncbvw($this) {
  return $this.native_1;
}
var ByteOrder_BIG_ENDIAN_instance;
var ByteOrder_LITTLE_ENDIAN_instance;
function Companion_6() {
  Companion_instance_6 = this;
  var buffer = new ArrayBuffer(4);
  var arr = new Int32Array(buffer);
  var view = new DataView(buffer);
  // Inline function 'org.khronos.webgl.set' call
  // Inline function 'kotlin.js.asDynamic' call
  arr[0] = 287454020;
  this.native_1 = view.getInt32(0, true) === 287454020 ? ByteOrder_LITTLE_ENDIAN_getInstance() : ByteOrder_BIG_ENDIAN_getInstance();
}
protoOf(Companion_6).nativeOrder_spqstz_k$ = function () {
  return this.native_1;
};
var Companion_instance_6;
function Companion_getInstance_6() {
  ByteOrder_initEntries();
  if (Companion_instance_6 == null)
    new Companion_6();
  return Companion_instance_6;
}
function values() {
  return [ByteOrder_BIG_ENDIAN_getInstance(), ByteOrder_LITTLE_ENDIAN_getInstance()];
}
function valueOf(value) {
  switch (value) {
    case 'BIG_ENDIAN':
      return ByteOrder_BIG_ENDIAN_getInstance();
    case 'LITTLE_ENDIAN':
      return ByteOrder_LITTLE_ENDIAN_getInstance();
    default:
      ByteOrder_initEntries();
      THROW_IAE('No enum constant io.ktor.utils.io.core.ByteOrder.' + value);
      break;
  }
}
var ByteOrder_entriesInitialized;
function ByteOrder_initEntries() {
  if (ByteOrder_entriesInitialized)
    return Unit_getInstance();
  ByteOrder_entriesInitialized = true;
  ByteOrder_BIG_ENDIAN_instance = new ByteOrder('BIG_ENDIAN', 0);
  ByteOrder_LITTLE_ENDIAN_instance = new ByteOrder('LITTLE_ENDIAN', 1);
  Companion_getInstance_6();
}
function ByteOrder(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function ByteOrder_BIG_ENDIAN_getInstance() {
  ByteOrder_initEntries();
  return ByteOrder_BIG_ENDIAN_instance;
}
function ByteOrder_LITTLE_ENDIAN_getInstance() {
  ByteOrder_initEntries();
  return ByteOrder_LITTLE_ENDIAN_instance;
}
function Closeable() {
}
function readAvailable_1(_this__u8e3s4, dst, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? dst.byteLength - offset | 0 : length;
  var remaining = _this__u8e3s4.get_remaining_mwegr1_k$();
  if (equalsLong(remaining, new Long(0, 0)))
    return -1;
  // Inline function 'kotlin.comparisons.minOf' call
  var b = fromInt(length);
  var tmp$ret$0 = compare(remaining, b) <= 0 ? remaining : b;
  var size = convertToInt(tmp$ret$0);
  readFully_6(_this__u8e3s4, dst, offset, size);
  return size;
}
function readFully_6(_this__u8e3s4, dst, offset, length) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? dst.byteLength - offset | 0 : length;
  if (compare(_this__u8e3s4.get_remaining_mwegr1_k$(), fromInt(length)) < 0) {
    throw IllegalArgumentException_init_$Create$('Not enough bytes available (' + _this__u8e3s4.get_remaining_mwegr1_k$().toString() + ') to read ' + length + ' bytes');
  }
  var copied = 0;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.takeWhile' call
    var release = true;
    var tmp0_elvis_lhs = prepareReadFirstHead(_this__u8e3s4, 1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$block;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var current = tmp;
    try {
      $l$loop_0: do {
        var buffer = current;
        var rc = readAvailable_0(buffer, dst, offset + copied | 0, length - copied | 0);
        if (rc > 0)
          copied = copied + rc | 0;
        if (!(copied < length)) {
          break $l$loop_0;
        }
        release = false;
        var tmp1_elvis_lhs = prepareReadNextHead(_this__u8e3s4, current);
        var tmp_0;
        if (tmp1_elvis_lhs == null) {
          break $l$loop_0;
        } else {
          tmp_0 = tmp1_elvis_lhs;
        }
        var next = tmp_0;
        current = next;
        release = true;
      }
       while (true);
    }finally {
      if (release) {
        completeReadHead(_this__u8e3s4, current);
      }
    }
  }
}
function get_PACKET_MAX_COPY_SIZE() {
  return PACKET_MAX_COPY_SIZE;
}
var PACKET_MAX_COPY_SIZE;
function String_0(bytes, offset, length, charset) {
  offset = offset === VOID ? 0 : offset;
  length = length === VOID ? bytes.length : length;
  charset = charset === VOID ? Charsets_getInstance().get_UTF_8_ihn39z_k$() : charset;
  if (offset < 0 || length < 0 || (offset + length | 0) > bytes.length) {
    checkIndices(offset, length, bytes);
  }
  // Inline function 'kotlin.js.asDynamic' call
  var i8 = bytes;
  var bufferOffset = i8.byteOffset + offset | 0;
  var buffer = i8.buffer.slice(bufferOffset, bufferOffset + length | 0);
  var view = new ChunkBuffer(of(Companion_getInstance_4(), buffer), null, Companion_getInstance_2().get_NoPool_44i68f_k$());
  view.resetForRead_c5oulc_k$();
  var packet = ByteReadPacket_init_$Create$(view, Companion_getInstance_2().get_NoPoolManuallyManaged_30991t_k$());
  return decode(charset.newDecoder_zcettw_k$(), packet, 2147483647);
}
function getCharsInternal(_this__u8e3s4, dst, dstOffset) {
  var length = _this__u8e3s4.length;
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.require' call
  if (!((dstOffset + length | 0) <= dst.length)) {
    var message = 'Failed requirement.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var dstIndex = dstOffset;
  var inductionVariable = 0;
  if (inductionVariable < length)
    do {
      var srcIndex = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      var tmp1 = dstIndex;
      dstIndex = tmp1 + 1 | 0;
      dst[tmp1] = charCodeAt(_this__u8e3s4, srcIndex);
    }
     while (inductionVariable < length);
}
function checkIndices(offset, length, bytes) {
  // Inline function 'kotlin.require' call
  if (!(offset >= 0)) {
    throw IndexOutOfBoundsException_init_$Create$('offset (' + offset + ") shouldn't be negative");
  }
  // Inline function 'kotlin.require' call
  if (!(length >= 0)) {
    throw IndexOutOfBoundsException_init_$Create$('length (' + length + ") shouldn't be negative");
  }
  // Inline function 'kotlin.require' call
  if (!((offset + length | 0) <= bytes.length)) {
    throw IndexOutOfBoundsException_init_$Create$('offset (' + offset + ') + length (' + length + ') > bytes.size (' + bytes.length + ')');
  }
  throw IndexOutOfBoundsException_init_$Create$_0();
}
function IOException_init_$Init$(message, $this) {
  IOException.call($this, message, null);
  return $this;
}
function IOException_init_$Create$(message) {
  var tmp = IOException_init_$Init$(message, objectCreate(protoOf(IOException)));
  captureStack(tmp, IOException_init_$Create$);
  return tmp;
}
function IOException(message, cause) {
  Exception_init_$Init$_0(message, cause, this);
  captureStack(this, IOException);
}
function EOFException(message) {
  IOException_init_$Init$(message, this);
  captureStack(this, EOFException);
}
function Decoder() {
}
function Decoder_0(encoding, fatal) {
  fatal = fatal === VOID ? true : fatal;
  var tmp;
  try {
    tmp = toKtor(new TextDecoder(encoding, textDecoderOptions(fatal)));
  } catch ($p) {
    var tmp_0;
    if ($p instanceof Error) {
      var cause = $p;
      var tmp_1;
      try {
        tmp_1 = toKtor_0(new Util.TextDecoder(encoding, textDecoderOptions(fatal)));
      } catch ($p) {
        var tmp_2;
        if ($p instanceof Error) {
          var cause_0 = $p;
          tmp_2 = new TextDecoderFallback(encoding, fatal);
        } else {
          throw $p;
        }
        tmp_1 = tmp_2;
      }
      tmp_0 = tmp_1;
    } else {
      throw $p;
    }
    tmp = tmp_0;
  }
  return tmp;
}
function decodeStream(_this__u8e3s4, buffer, stream) {
  // Inline function 'io.ktor.utils.io.js.decodeWrap' call
  try {
    return _this__u8e3s4.decode_mvpnei_k$(buffer, decodeOptions(stream));
  } catch ($p) {
    if ($p instanceof Error) {
      var t = $p;
      var tmp0_elvis_lhs = t.message;
      throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs == null ? 'no cause provided' : tmp0_elvis_lhs));
    } else {
      throw $p;
    }
  }
}
function decodeOptions(stream) {
  // Inline function 'kotlin.apply' call
  var this_0 = new Object();
  // Inline function 'kotlin.js.asDynamic' call
  // Inline function 'kotlin.with' call
  this_0.stream = stream;
  return this_0;
}
function toKtor(_this__u8e3s4) {
  return new toKtor$1(_this__u8e3s4);
}
function textDecoderOptions(fatal) {
  fatal = fatal === VOID ? false : fatal;
  // Inline function 'kotlin.apply' call
  var this_0 = new Object();
  // Inline function 'kotlin.js.asDynamic' call
  // Inline function 'kotlin.with' call
  this_0.fatal = fatal;
  return this_0;
}
function toKtor$1($this_toKtor) {
  this.$this_toKtor_1 = $this_toKtor;
}
protoOf(toKtor$1).decode_m3924y_k$ = function () {
  return this.$this_toKtor_1.decode();
};
protoOf(toKtor$1).decode_hpap4q_k$ = function (buffer) {
  return this.$this_toKtor_1.decode(buffer);
};
protoOf(toKtor$1).decode_mvpnei_k$ = function (buffer, options) {
  return this.$this_toKtor_1.decode(buffer, options);
};
function get_ENCODING_ALIASES() {
  _init_properties_TextDecoderFallback_kt__nrrftl();
  return ENCODING_ALIASES;
}
var ENCODING_ALIASES;
function get_REPLACEMENT() {
  _init_properties_TextDecoderFallback_kt__nrrftl();
  return REPLACEMENT;
}
var REPLACEMENT;
function TextDecoderFallback(encoding, fatal) {
  this.fatal_1 = fatal;
  // Inline function 'kotlin.text.trim' call
  // Inline function 'kotlin.text.lowercase' call
  // Inline function 'kotlin.js.asDynamic' call
  var requestedEncoding = toString(trim(isCharSequence(encoding) ? encoding : THROW_CCE())).toLowerCase();
  // Inline function 'kotlin.check' call
  if (!get_ENCODING_ALIASES().contains_aljjnj_k$(requestedEncoding)) {
    var message = encoding + ' is not supported.';
    throw IllegalStateException_init_$Create$(toString(message));
  }
}
protoOf(TextDecoderFallback).get_fatal_ir8ue3_k$ = function () {
  return this.fatal_1;
};
protoOf(TextDecoderFallback).decode_m3924y_k$ = function () {
  return '';
};
protoOf(TextDecoderFallback).decode_hpap4q_k$ = function (buffer) {
  var tmp$ret$6;
  $l$block: {
    // Inline function 'io.ktor.utils.io.core.buildPacket' call
    // Inline function 'kotlin.contracts.contract' call
    var builder = new BytePacketBuilder();
    try {
      var bytes = buffer instanceof Int8Array ? buffer : THROW_CCE();
      var inductionVariable = 0;
      var last = bytes.length;
      if (inductionVariable < last)
        $l$loop: do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          // Inline function 'org.khronos.webgl.get' call
          // Inline function 'kotlin.js.asDynamic' call
          var byte = bytes[index];
          var point = toCodePoint(byte);
          if (point < 0) {
            // Inline function 'kotlin.check' call
            if (!!this.fatal_1) {
              var message = 'Invalid character: ' + point;
              throw IllegalStateException_init_$Create$(toString(message));
            }
            writeFully_2(builder, get_REPLACEMENT());
            continue $l$loop;
          }
          if (point > 255) {
            builder.writeByte_9ih3z3_k$(toByte(point >> 8));
          }
          builder.writeByte_9ih3z3_k$(toByte(point & 255));
        }
         while (inductionVariable < last);
      tmp$ret$6 = builder.build_1k0s4u_k$();
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var t = $p;
        builder.release_wu5yyf_k$();
        throw t;
      } else {
        throw $p;
      }
    }
  }
  return decodeToString(readBytes(tmp$ret$6));
};
protoOf(TextDecoderFallback).decode_mvpnei_k$ = function (buffer, options) {
  return this.decode_hpap4q_k$(buffer);
};
function toCodePoint(_this__u8e3s4) {
  _init_properties_TextDecoderFallback_kt__nrrftl();
  var value = _this__u8e3s4 & 255;
  if (isASCII(value)) {
    return value;
  }
  return get_WIN1252_TABLE()[value - 128 | 0];
}
function isASCII(_this__u8e3s4) {
  _init_properties_TextDecoderFallback_kt__nrrftl();
  return 0 <= _this__u8e3s4 ? _this__u8e3s4 <= 127 : false;
}
var properties_initialized_TextDecoderFallback_kt_7y92ax;
function _init_properties_TextDecoderFallback_kt__nrrftl() {
  if (!properties_initialized_TextDecoderFallback_kt_7y92ax) {
    properties_initialized_TextDecoderFallback_kt_7y92ax = true;
    ENCODING_ALIASES = setOf(['ansi_x3.4-1968', 'ascii', 'cp1252', 'cp819', 'csisolatin1', 'ibm819', 'iso-8859-1', 'iso-ir-100', 'iso8859-1', 'iso88591', 'iso_8859-1', 'iso_8859-1:1987', 'l1', 'latin1', 'us-ascii', 'windows-1252', 'x-cp1252']);
    // Inline function 'kotlin.byteArrayOf' call
    REPLACEMENT = new Int8Array([-17, -65, -67]);
  }
}
function decodeWrap(block) {
  try {
    return block();
  } catch ($p) {
    if ($p instanceof Error) {
      var t = $p;
      var tmp0_elvis_lhs = t.message;
      throw new MalformedInputException('Failed to decode bytes: ' + (tmp0_elvis_lhs == null ? 'no cause provided' : tmp0_elvis_lhs));
    } else {
      throw $p;
    }
  }
}
function get_WIN1252_TABLE() {
  _init_properties_Win1252Table_kt__tl0v64();
  return WIN1252_TABLE;
}
var WIN1252_TABLE;
var properties_initialized_Win1252Table_kt_pkmjoq;
function _init_properties_Win1252Table_kt__tl0v64() {
  if (!properties_initialized_Win1252Table_kt_pkmjoq) {
    properties_initialized_Win1252Table_kt_pkmjoq = true;
    // Inline function 'kotlin.intArrayOf' call
    WIN1252_TABLE = new Int32Array([8364, -1, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352, 8249, 338, -1, 381, -1, -1, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732, 8482, 353, 8250, 339, -1, 382, 376, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255]);
  }
}
function toKtor_0(_this__u8e3s4) {
  return new toKtor$1_0(_this__u8e3s4);
}
function toKtor$1_0($this_toKtor) {
  this.$this_toKtor_1 = $this_toKtor;
}
protoOf(toKtor$1_0).decode_m3924y_k$ = function () {
  return this.$this_toKtor_1.decodeWithStream(new Uint8Array(0));
};
protoOf(toKtor$1_0).decode_hpap4q_k$ = function (buffer) {
  return this.$this_toKtor_1.decodeWithStream(new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength));
};
protoOf(toKtor$1_0).decode_mvpnei_k$ = function (buffer, options) {
  return this.$this_toKtor_1.decodeWithStream(new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength), options);
};
function _get_instances__6pklt9($this) {
  return $this.instances_1;
}
function _set_size__9twho6($this, _set____db54di) {
  $this.size_1 = _set____db54di;
}
function _get_size__ddoh9m($this) {
  return $this.size_1;
}
function DefaultPool(capacity) {
  this.capacity_1 = capacity;
  var tmp = this;
  // Inline function 'kotlin.arrayOfNulls' call
  var size = this.capacity_1;
  tmp.instances_1 = Array(size);
  this.size_1 = 0;
}
protoOf(DefaultPool).get_capacity_wxbgcd_k$ = function () {
  return this.capacity_1;
};
protoOf(DefaultPool).disposeInstance_6ek0a2_k$ = function (instance) {
};
protoOf(DefaultPool).clearInstance_nfz4jw_k$ = function (instance) {
  return instance;
};
protoOf(DefaultPool).validateInstance_6mwbhp_k$ = function (instance) {
};
protoOf(DefaultPool).borrow_mvkpor_k$ = function () {
  if (this.size_1 === 0)
    return this.produceInstance_xswihh_k$();
  this.size_1 = this.size_1 - 1 | 0;
  var idx = this.size_1;
  var tmp = this.instances_1[idx];
  var instance = !(tmp == null) ? tmp : THROW_CCE();
  this.instances_1[idx] = null;
  return this.clearInstance_nfz4jw_k$(instance);
};
protoOf(DefaultPool).recycle_d2xv5h_k$ = function (instance) {
  this.validateInstance_6mwbhp_k$(instance);
  if (this.size_1 === this.capacity_1) {
    this.disposeInstance_6ek0a2_k$(instance);
  } else {
    var tmp1 = this.size_1;
    this.size_1 = tmp1 + 1 | 0;
    this.instances_1[tmp1] = instance;
  }
};
protoOf(DefaultPool).dispose_3nnxhr_k$ = function () {
  var inductionVariable = 0;
  var last = this.size_1;
  if (inductionVariable < last)
    do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      var tmp = this.instances_1[i];
      var instance = !(tmp == null) ? tmp : THROW_CCE();
      this.instances_1[i] = null;
      this.disposeInstance_6ek0a2_k$(instance);
    }
     while (inductionVariable < last);
  this.size_1 = 0;
};
//region block: post-declaration
protoOf(ByteChannelSequentialBase).readRemaining$default_g3e7gf_k$ = readRemaining$default;
protoOf(ByteChannelSequentialBase).await$default_nvzrqu_k$ = await$default;
protoOf(ByteChannelSequentialBase).request$default_hh99dt_k$ = request$default;
protoOf(ByteChannelSequentialBase).peekTo$default_lcbot1_k$ = peekTo$default;
protoOf(ChannelJob).cancel$default_w08z00_k$ = cancel$default;
protoOf(ChannelJob).cancel$default_8haxne_k$ = cancel$default_0;
protoOf(ChannelJob).invokeOnCompletion$default_1v3utx_k$ = invokeOnCompletion$default;
protoOf(DefaultPool).close_yn9xrc_k$ = close;
protoOf(ChunkBuffer$Companion$EmptyPool$1).close_yn9xrc_k$ = close;
protoOf(NoPoolImpl).close_yn9xrc_k$ = close;
//endregion
//region block: init
EXPECTED_CAPACITY = new Long(4088, 0);
DEFAULT_BUFFER_SIZE = 4096;
MaxCodePoint = 1114111;
HighSurrogateMagic = 55232;
MinLowSurrogate = 56320;
MAX_CHARACTERS_SIZE_IN_BYTES = 8;
MAX_CHARACTERS_COUNT = 268435455;
PACKET_MAX_COPY_SIZE = 200;
//endregion
//region block: exports
export {
  copyAndClose as copyAndClose1l3buz0mdqmyv,
  copyTo as copyTo3z8um8xkg7g1,
  readAvailable as readAvailablew8ngr24c5z7e,
  IOException_init_$Init$ as IOException_init_$Init$2g1vq8bjiijjt,
  Companion_getInstance_5 as Companion_getInstance2f01iwjdssmlj,
  Charsets_getInstance as Charsets_getInstanceq0o82sizm30g,
  Companion_getInstance_3 as Companion_getInstance2xdbr0bdtxbh1,
  MalformedInputException as MalformedInputExceptionbvc6h5ij0ias,
  decode as decode1h5mw63lslzyq,
  encodeToByteArray_0 as encodeToByteArrayomtvgs5lyogm,
  encode as encode35e4rpnc94tb5,
  get_name as get_name2f11g4r0d5pxp,
  completeReadHead as completeReadHeadmsbisaktufcz,
  prepareReadFirstHead as prepareReadFirstHead3bxvcvf0u196c,
  prepareReadNextHead as prepareReadNextHead165u1tlz2sd0o,
  BytePacketBuilder as BytePacketBuilder2d5pjgm948a6v,
  ByteReadPacket as ByteReadPacket19qnebry5xxpy,
  Closeable as Closeableu07ioona9oji,
  Input as Input1claccncp4iy3,
  String_0 as String2althbpus3r3k,
  readBytes as readBytes2b47ed7nra7rg,
  readText as readText3x4cv5p7hylp,
  writeShort_0 as writeShort2gpvs0skw1vt,
  writeText as writeText338krnmr85lul,
  IOException as IOExceptionktvzt3eudz3d,
  get_ByteArrayPool as get_ByteArrayPool3f7yrgvqxz9ct,
  ByteChannel_0 as ByteChannelgfqke9q216t7,
  ByteReadChannel as ByteReadChannel1dp09w1xstn8w,
  ByteReadChannel_1 as ByteReadChannel2wzou76jce72d,
  WriterScope as WriterScope3b0bo1enaee6b,
  cancel as canceldn4b3cdqcfny,
  writer as writer1eia5its2a1fh,
};
//endregion

//# sourceMappingURL=ktor-ktor-io.js.map
